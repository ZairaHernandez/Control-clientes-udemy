(self.webpackChunkcontrol_clientes=self.webpackChunkcontrol_clientes||[]).push([[179],{2011:(vt,Se,V)=>{"use strict";V.d(Se,{Dh:()=>ye,GT:()=>pe,cc:()=>Ie,hO:()=>$e,on:()=>G,pX:()=>se,xv:()=>ve});var I=V(4650),u=V(127),B=V(5813);vt=V.hmd(vt);const ae=["ngOnDestroy"],se=(fe,Qe,st,Pe={})=>new Proxy(fe,{get:(Ae,Oe)=>st.runOutsideAngular(()=>{var Ke;if(fe[Oe])return!(null===(Ke=Pe?.spy)||void 0===Ke)&&Ke.get&&Pe.spy.get(Oe,fe[Oe]),fe[Oe];if(ae.indexOf(Oe)>-1)return()=>{};const Ye=Qe.toPromise().then(q=>{const Ne=q&&q[Oe];return"function"==typeof Ne?Ne.bind(q):Ne&&Ne.then?Ne.then(X=>st.run(()=>X)):st.run(()=>Ne)});return new Proxy(()=>{},{get:(q,Ne)=>Ye[Ne],apply:(q,Ne,X)=>Ye.then(ie=>{var ge;const ce=ie&&ie(...X);return!(null===(ge=Pe?.spy)||void 0===ge)&&ge.apply&&Pe.spy.apply(Oe,X,ce),ce})})})}),pe=(fe,Qe)=>{Qe.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Pe=>{Object.defineProperty(fe.prototype,Pe,Object.getOwnPropertyDescriptor(st.prototype||st,Pe))})})};class De{constructor(Qe){return Qe}}const ye=new I.InjectionToken("angularfire2.app.options"),ve=new I.InjectionToken("angularfire2.app.name");function G(fe,Qe,st){const Ae="object"==typeof st&&st||{};Ae.name=Ae.name||"string"==typeof st&&st||"[DEFAULT]";const Ke=u.Z.apps.filter(Ye=>Ye&&Ye.name===Ae.name)[0]||Qe.runOutsideAngular(()=>u.Z.initializeApp(fe,Ae));try{JSON.stringify(fe)!==JSON.stringify(Ke.options)&&z("error",`${Ke.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Ke)}const z=(fe,...Qe)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[fe](...Qe)},J={provide:De,useFactory:G,deps:[ye,I.NgZone,[new I.Optional,ve]]};let $e=(()=>{class fe{constructor(st){u.Z.registerVersion("angularfire",B.q4.full,"core"),u.Z.registerVersion("angularfire",B.q4.full,"app-compat"),u.Z.registerVersion("angular",I.VERSION.full,st.toString())}static initializeApp(st,Pe){return{ngModule:fe,providers:[{provide:ye,useValue:st},{provide:ve,useValue:Pe}]}}}return fe.\u0275fac=function(st){return new(st||fe)(I.\u0275\u0275inject(I.PLATFORM_ID))},fe.\u0275mod=I.\u0275\u0275defineNgModule({type:fe}),fe.\u0275inj=I.\u0275\u0275defineInjector({providers:[J]}),fe})();function Ie(fe,Qe,st,Pe,Ae){const[,Oe,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===fe)||[];if(Oe)return function le(fe,Qe){try{return fe.toString()===Qe.toString()}catch{return fe===Qe}}(Ae,Ke)||(me("error",`${Qe} was already initialized on the ${st} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ae,was:Ke})),Oe;{const Ye=Pe();return globalThis.\u0275AngularfireInstanceCache.push([fe,Ye,Ae]),Ye}}const He=!!vt.hot,me=(fe,...Qe)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[fe](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(vt,Se,V)=>{"use strict";V.d(Se,{q4:()=>wi,iC:()=>lo,HU:()=>sc,vb:()=>Da,JM:()=>ml});var I=V(4650),u=V(5867),B=V(5861),ae=V(9681),se=V(2090),pe=V(4859),De=V(1877),ye=V(8766);const ve="@firebase/installations",G="0.5.15",J=`w:${G}`,$e="FIS_v2",Qe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function Pe({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ae(S){return{token:S.token,requestStatus:2,expiresIn:ie(S.expiresIn),creationTime:Date.now()}}function Oe(S,N){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(S,N){const $=(yield N.json()).error;return Qe.create("request-failed",{requestName:S,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function Ye({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function q(S,{refreshToken:N}){const O=Ye(S);return O.append("Authorization",function ge(S){return`${$e} ${S}`}(N)),O}function Ne(S){return X.apply(this,arguments)}function X(){return(X=(0,B.Z)(function*(S){const N=yield S();return N.status>=500&&N.status<600?S():N})).apply(this,arguments)}function ie(S){return Number(S.replace("s","000"))}function ce(S,N){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:N},{fid:O}){const $=Pe(S),te=Ye(S),_e=N.getImmediate({optional:!0});if(_e){const Tt=yield _e.getHeartbeatsHeader();Tt&&te.append("x-firebase-client",Tt)}const re={method:"POST",headers:te,body:JSON.stringify({fid:O,authVersion:$e,appId:S.appId,sdkVersion:J})},it=yield Ne(()=>fetch($,re));if(it.ok){const Tt=yield it.json();return{fid:Tt.fid||O,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Ae(Tt.authToken)}}throw yield Oe("Create Installation",it)})).apply(this,arguments)}function Ge(S){return new Promise(N=>{setTimeout(N,S)})}const ln=/^[cdef][\w-]{21}$/;function ot(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const O=function En(S){return function It(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return ln.test(O)?O:""}catch{return""}}function Nn(S){return`${S.appName}!${S.appId}`}const cn=new Map;function un(S,N){const O=Nn(S);Tn(O,N),function ps(S,N){const O=function Hr(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=S=>{Tn(S.data.key,S.data.fid)}),Jr}();O&&O.postMessage({key:S,fid:N}),function Xr(){0===cn.size&&Jr&&(Jr.close(),Jr=null)}()}(O,N)}function Tn(S,N){const O=cn.get(S);if(O)for(const $ of O)$(N)}let Jr=null;const kr="firebase-installations-store";let ei=null;function Ws(){return ei||(ei=(0,ye.X3)("firebase-installations-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(kr)}})),ei}function at(S,N){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,B.Z)(function*(S,N){const O=Nn(S),te=(yield Ws()).transaction(kr,"readwrite"),_e=te.objectStore(kr),je=yield _e.get(O);return yield _e.put(N,O),yield te.done,(!je||je.fid!==N.fid)&&un(S,N.fid),N})).apply(this,arguments)}function gs(S){return dr.apply(this,arguments)}function dr(){return(dr=(0,B.Z)(function*(S){const N=Nn(S),$=(yield Ws()).transaction(kr,"readwrite");yield $.objectStore(kr).delete(N),yield $.done})).apply(this,arguments)}function ti(S,N){return ms.apply(this,arguments)}function ms(){return(ms=(0,B.Z)(function*(S,N){const O=Nn(S),te=(yield Ws()).transaction(kr,"readwrite"),_e=te.objectStore(kr),je=yield _e.get(O),re=N(je);return void 0===re?yield _e.delete(O):yield _e.put(re,O),yield te.done,re&&(!je||je.fid!==re.fid)&&un(S,re.fid),re})).apply(this,arguments)}function qn(S){return $n.apply(this,arguments)}function $n(){return($n=(0,B.Z)(function*(S){let N;const O=yield ti(S.appConfig,$=>{const te=Wt($),_e=Ct(S,te);return N=_e.registrationPromise,_e.installationEntry});return""===O.fid?{installationEntry:yield N}:{installationEntry:O,registrationPromise:N}})).apply(this,arguments)}function Wt(S){return Lt(S||{fid:ot(),registrationStatus:0})}function Ct(S,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Qe.create("app-offline"))};const O={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},$=function wt(S,N){return Cn.apply(this,arguments)}(S,O);return{installationEntry:O,registrationPromise:$}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:hr(S)}:{installationEntry:N}}function Cn(){return(Cn=(0,B.Z)(function*(S,N){try{const O=yield ce(S,N);return at(S.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield gs(S.appConfig):yield at(S.appConfig,{fid:N.fid,registrationStatus:0}),O}})).apply(this,arguments)}function hr(S){return An.apply(this,arguments)}function An(){return(An=(0,B.Z)(function*(S){let N=yield ni(S.appConfig);for(;1===N.registrationStatus;)yield Ge(100),N=yield ni(S.appConfig);if(0===N.registrationStatus){const{installationEntry:O,registrationPromise:$}=yield qn(S);return $||O}return N})).apply(this,arguments)}function ni(S){return ti(S,N=>{if(!N)throw Qe.create("installation-not-found");return Lt(N)})}function Lt(S){return function xi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function fn(S,N){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:N},O){const $=bn(S,O),te=q(S,O),_e=N.getImmediate({optional:!0});if(_e){const Tt=yield _e.getHeartbeatsHeader();Tt&&te.append("x-firebase-client",Tt)}const re={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:J,appId:S.appId}})},it=yield Ne(()=>fetch($,re));if(it.ok)return Ae(yield it.json());throw yield Oe("Generate Auth Token",it)})).apply(this,arguments)}function bn(S,{fid:N}){return`${Pe(S)}/${N}/authTokens:generate`}function fr(S){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,B.Z)(function*(S,N=!1){let O;const $=yield ti(S.appConfig,_e=>{if(!Kt(_e))throw Qe.create("not-registered");const je=_e.authToken;if(!N&&Z(je))return _e;if(1===je.requestStatus)return O=yt(S,N),_e;{if(!navigator.onLine)throw Qe.create("app-offline");const re=ee(_e);return O=kt(S,re),re}});return O?yield O:$.authToken})).apply(this,arguments)}function yt(S,N){return Be.apply(this,arguments)}function Be(){return(Be=(0,B.Z)(function*(S,N){let O=yield _t(S.appConfig);for(;1===O.authToken.requestStatus;)yield Ge(100),O=yield _t(S.appConfig);const $=O.authToken;return 0===$.requestStatus?fr(S,N):$})).apply(this,arguments)}function _t(S){return ti(S,N=>{if(!Kt(N))throw Qe.create("not-registered");return function Re(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function kt(S,N){return xt.apply(this,arguments)}function xt(){return(xt=(0,B.Z)(function*(S,N){try{const O=yield fn(S,N),$=Object.assign(Object.assign({},N),{authToken:O});return yield at(S.appConfig,$),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const $=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield at(S.appConfig,$)}else yield gs(S.appConfig);throw O}})).apply(this,arguments)}function Kt(S){return void 0!==S&&2===S.registrationStatus}function Z(S){return 2===S.requestStatus&&!function W(S){const N=Date.now();return N<S.creationTime||S.creationTime+S.expiresIn<N+36e5}(S)}function ee(S){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:N})}function tt(){return(tt=(0,B.Z)(function*(S){const N=S,{installationEntry:O,registrationPromise:$}=yield qn(N);return $?$.catch(console.error):fr(N).catch(console.error),O.fid})).apply(this,arguments)}function mn(){return(mn=(0,B.Z)(function*(S,N=!1){const O=S;return yield Mn(O),(yield fr(O,N)).token})).apply(this,arguments)}function Mn(S){return pn.apply(this,arguments)}function pn(){return(pn=(0,B.Z)(function*(S){const{registrationPromise:N}=yield qn(S);N&&(yield N)})).apply(this,arguments)}function ri(S){return Qe.create("missing-app-config-values",{valueName:S})}const zs="installations",Qt=S=>{const N=S.getProvider("app").getImmediate(),O=function qt(S){if(!S||!S.options)throw ri("App Configuration");if(!S.name)throw ri("App Name");const N=["projectId","apiKey","appId"];for(const O of N)if(!S.options[O])throw ri(O);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(N);return{app:N,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},ii=S=>{const N=S.getProvider("app").getImmediate(),O=(0,ae._getProvider)(N,zs).getImmediate();return{getId:()=>function ne(S){return tt.apply(this,arguments)}(O),getToken:te=>function Et(S){return mn.apply(this,arguments)}(O,te)}};(function On(){(0,ae._registerComponent)(new pe.wA(zs,Qt,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",ii,"PRIVATE"))})(),(0,ae.registerVersion)(ve,G),(0,ae.registerVersion)(ve,G,"esm2017");const pi="@firebase/remote-config",Ln=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lc{constructor(N,O,$,te){this.client=N,this.storage=O,this.storageCache=$,this.logger=te}isCachedDataFresh(N,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-O,te=$<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${te}.`),te}fetch(N){var O=this;return(0,B.Z)(function*(){const[$,te]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(te&&O.isCachedDataFresh(N.cacheMaxAgeMillis,$))return te;N.eTag=te&&te.eTag;const _e=yield O.client.fetch(N),je=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_e.status&&je.push(O.storage.setLastSuccessfulFetchResponse(_e)),yield Promise.all(je),_e})()}}function Wa(S=navigator){return S.languages&&S.languages[0]||S.language}class Wl{constructor(N,O,$,te,_e,je){this.firebaseInstallations=N,this.sdkVersion=O,this.namespace=$,this.projectId=te,this.apiKey=_e,this.appId=je}fetch(N){var O=this;return(0,B.Z)(function*(){var $,te,_e;const[je,re]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},ke={sdk_version:O.sdkVersion,app_instance_id:je,app_instance_id_token:re,app_id:O.appId,language_code:Wa()},ut={method:"POST",headers:Gt,body:JSON.stringify(ke)},Zr=fetch(Tt,ut),Je=new Promise((yl,Ia)=>{N.signal.addEventListener(()=>{const Yu=new Error("The operation was aborted.");Yu.name="AbortError",Ia(Yu)})});let be;try{yield Promise.race([Zr,Je]),be=yield Zr}catch(yl){let Ia="fetch-client-network";throw"AbortError"===(null===($=yl)||void 0===$?void 0:$.name)&&(Ia="fetch-timeout"),Ln.create(Ia,{originalErrorMessage:null===(te=yl)||void 0===te?void 0:te.message})}let Le=be.status;const zn=be.headers.get("ETag")||void 0;let co,wa;if(200===be.status){let yl;try{yl=yield be.json()}catch(Ia){throw Ln.create("fetch-client-parse",{originalErrorMessage:null===(_e=Ia)||void 0===_e?void 0:_e.message})}co=yl.entries,wa=yl.state}if("INSTANCE_STATE_UNSPECIFIED"===wa?Le=500:"NO_CHANGE"===wa?Le=304:("NO_TEMPLATE"===wa||"EMPTY_CONFIG"===wa)&&(co={}),304!==Le&&200!==Le)throw Ln.create("fetch-status",{httpStatus:Le});return{status:Le,eTag:zn,config:co}})()}}class Ir{constructor(N,O){this.client=N,this.storage=O}fetch(N){var O=this;return(0,B.Z)(function*(){const $=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(N,$)})()}attemptFetch(N,{throttleEndTimeMillis:O,backoffCount:$}){var te=this;return(0,B.Z)(function*(){yield function dn(S,N){return new Promise((O,$)=>{const te=Math.max(N-Date.now(),0),_e=setTimeout(O,te);S.addEventListener(()=>{clearTimeout(_e),$(Ln.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,O);try{const _e=yield te.client.fetch(N);return yield te.storage.deleteThrottleMetadata(),_e}catch(_e){if(!function ta(S){if(!(S instanceof se.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(_e))throw _e;const je={throttleEndTimeMillis:Date.now()+(0,se.$s)($),backoffCount:$+1};return yield te.storage.setThrottleMetadata(je),te.attemptFetch(N,je)}})()}}class zl{constructor(N,O,$,te,_e){this.app=N,this._client=O,this._storageCache=$,this._storage=te,this._logger=_e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function na(S,N){var O;const $=S.target.error||void 0;return Ln.create(N,{originalErrorMessage:$&&(null===(O=$)||void 0===O?void 0:O.message)})}const Xi="app_namespace_store";class za{constructor(N,O,$,te=function ju(){return new Promise((S,N)=>{var O;try{const $=indexedDB.open("firebase_remote_config",1);$.onerror=te=>{N(na(te,"storage-open"))},$.onsuccess=te=>{S(te.target.result)},$.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(Xi,{keyPath:"compositeKey"})}}catch($){N(Ln.create("storage-open",{originalErrorMessage:null===(O=$)||void 0===O?void 0:O.message}))}})}()){this.appId=N,this.appName=O,this.namespace=$,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var O=this;return(0,B.Z)(function*(){const $=yield O.openDbPromise;return new Promise((te,_e)=>{var je;const it=$.transaction([Xi],"readonly").objectStore(Xi),Tt=O.createCompositeKey(N);try{const Gt=it.get(Tt);Gt.onerror=ke=>{_e(na(ke,"storage-get"))},Gt.onsuccess=ke=>{const ut=ke.target.result;te(ut?ut.value:void 0)}}catch(Gt){_e(Ln.create("storage-get",{originalErrorMessage:null===(je=Gt)||void 0===je?void 0:je.message}))}})})()}set(N,O){var $=this;return(0,B.Z)(function*(){const te=yield $.openDbPromise;return new Promise((_e,je)=>{var re;const Tt=te.transaction([Xi],"readwrite").objectStore(Xi),Gt=$.createCompositeKey(N);try{const ke=Tt.put({compositeKey:Gt,value:O});ke.onerror=ut=>{je(na(ut,"storage-set"))},ke.onsuccess=()=>{_e()}}catch(ke){je(Ln.create("storage-set",{originalErrorMessage:null===(re=ke)||void 0===re?void 0:re.message}))}})})()}delete(N){var O=this;return(0,B.Z)(function*(){const $=yield O.openDbPromise;return new Promise((te,_e)=>{var je;const it=$.transaction([Xi],"readwrite").objectStore(Xi),Tt=O.createCompositeKey(N);try{const Gt=it.delete(Tt);Gt.onerror=ke=>{_e(na(ke,"storage-delete"))},Gt.onsuccess=()=>{te()}}catch(Gt){_e(Ln.create("storage-delete",{originalErrorMessage:null===(je=Gt)||void 0===je?void 0:je.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class ql{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,B.Z)(function*(){const O=N.storage.getLastFetchStatus(),$=N.storage.getLastSuccessfulFetchTimestampMillis(),te=N.storage.getActiveConfig(),_e=yield O;_e&&(N.lastFetchStatus=_e);const je=yield $;je&&(N.lastSuccessfulFetchTimestampMillis=je);const re=yield te;re&&(N.activeConfig=re)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Co(){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,B.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Oi(){(0,ae._registerComponent)(new pe.wA("remote-config",function S(N,{instanceIdentifier:O}){const $=N.getProvider("app").getImmediate(),te=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!(0,se.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:_e,apiKey:je,appId:re}=$.options;if(!_e)throw Ln.create("registration-project-id");if(!je)throw Ln.create("registration-api-key");if(!re)throw Ln.create("registration-app-id");const it=new za(re,$.name,O=O||"firebase"),Tt=new ql(it),Gt=new De.Yd(pi);Gt.logLevel=De.in.ERROR;const ke=new Wl(te,ae.SDK_VERSION,O,_e,je,re),ut=new Ir(ke,it),Zr=new Lc(ut,it,Tt,Gt),Je=new zl($,Zr,Tt,it,Gt);return function pr(S){const N=(0,se.m9)(S);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Je),Je},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(pi,"0.3.14"),(0,ae.registerVersion)(pi,"0.3.14","esm2017")}();const es="/firebase-messaging-sw.js",Cr="/firebase-cloud-messaging-push-scope",ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",To="google.c.a.c_id",qa="google.c.a.c_l",ra="google.c.a.ts",Za="google.c.a.e";var Pi=(()=>{return(S=Pi||(Pi={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Pi;var S})();function Lr(S){const N=new Uint8Array(S);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gr(S){const O=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(O),te=new Uint8Array($.length);for(let _e=0;_e<$.length;++_e)te[_e]=$.charCodeAt(_e);return te}const Ks="fcm_token_details_db",Tr="fcm_token_object_Store";function jc(S){return So.apply(this,arguments)}function So(){return So=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_e=>_e.name).includes(Ks))return null;let N=null;return(yield(0,ye.X3)(Ks,5,{upgrade:($=(0,B.Z)(function*(te,_e,je,re){var it;if(_e<2||!te.objectStoreNames.contains(Tr))return;const Tt=re.objectStore(Tr),Gt=yield Tt.index("fcmSenderId").get(S);if(yield Tt.clear(),Gt)if(2===_e){const ke=Gt;if(!ke.auth||!ke.p256dh||!ke.endpoint)return;N={token:ke.fcmToken,createTime:null!==(it=ke.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:ke.auth,p256dh:ke.p256dh,endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:"string"==typeof ke.vapidKey?ke.vapidKey:Lr(ke.vapidKey)}}}else if(3===_e){const ke=Gt;N={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:Lr(ke.auth),p256dh:Lr(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:Lr(ke.vapidKey)}}}else if(4===_e){const ke=Gt;N={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:Lr(ke.auth),p256dh:Lr(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:Lr(ke.vapidKey)}}}}),function(_e,je,re,it){return $.apply(this,arguments)})})).close(),yield(0,ye.Lj)(Ks),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),Gn(N)?N:null;var $}),So.apply(this,arguments)}function Gn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:N}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const vi="firebase-messaging-store";let gr=null;function Qs(){return gr||(gr=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(vi)}})),gr}function Ys(S){return bi.apply(this,arguments)}function bi(){return(bi=(0,B.Z)(function*(S){const N=si(S),$=yield(yield Qs()).transaction(vi).objectStore(vi).get(N);if($)return $;{const te=yield jc(S.appConfig.senderId);if(te)return yield sn(S,te),te}})).apply(this,arguments)}function sn(S,N){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,B.Z)(function*(S,N){const O=si(S),te=(yield Qs()).transaction(vi,"readwrite");return yield te.objectStore(vi).put(N,O),yield te.done,N})).apply(this,arguments)}function vs(S){return Js.apply(this,arguments)}function Js(){return(Js=(0,B.Z)(function*(S){const N=si(S),$=(yield Qs()).transaction(vi,"readwrite");yield $.objectStore(vi).delete(N),yield $.done})).apply(this,arguments)}function si({appConfig:S}){return S.appId}const Vn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rt(S,N){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,B.Z)(function*(S,N){var O;const $=yield Oo(S),te=Fe(N),_e={method:"POST",headers:$,body:JSON.stringify(te)};let je;try{je=yield(yield fetch(bs(S.appConfig),_e)).json()}catch(re){throw Vn.create("token-subscribe-failed",{errorInfo:null===(O=re)||void 0===O?void 0:O.toString()})}if(je.error)throw Vn.create("token-subscribe-failed",{errorInfo:je.error.message});if(!je.token)throw Vn.create("token-subscribe-no-token");return je.token})).apply(this,arguments)}function Uc(S,N){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,B.Z)(function*(S,N){var O;const $=yield Oo(S),te=Fe(N.subscriptionOptions),_e={method:"PATCH",headers:$,body:JSON.stringify(te)};let je;try{je=yield(yield fetch(`${bs(S.appConfig)}/${N.token}`,_e)).json()}catch(re){throw Vn.create("token-update-failed",{errorInfo:null===(O=re)||void 0===O?void 0:O.toString()})}if(je.error)throw Vn.create("token-update-failed",{errorInfo:je.error.message});if(!je.token)throw Vn.create("token-update-no-token");return je.token})).apply(this,arguments)}function xo(S,N){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,B.Z)(function*(S,N){var O;const te={method:"DELETE",headers:yield Oo(S)};try{const je=yield(yield fetch(`${bs(S.appConfig)}/${N}`,te)).json();if(je.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:je.error.message})}catch(_e){throw Vn.create("token-unsubscribe-failed",{errorInfo:null===(O=_e)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function bs({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Oo(S){return ks.apply(this,arguments)}function ks(){return(ks=(0,B.Z)(function*({appConfig:S,installations:N}){const O=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Fe({p256dh:S,auth:N,endpoint:O,vapidKey:$}){const te={web:{endpoint:O,auth:N,p256dh:S}};return $!==ki&&(te.web.applicationPubKey=$),te}const St=6048e5;function Zn(S){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(S){const N=yield Qa(S.swRegistration,S.vapidKey),O={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:N.endpoint,auth:Lr(N.getKey("auth")),p256dh:Lr(N.getKey("p256dh"))},$=yield Ys(S.firebaseDependencies);if($){if($c($.subscriptionOptions,O))return Date.now()>=$.createTime+St?eo(S,{token:$.token,createTime:Date.now(),subscriptionOptions:O}):$.token;try{yield xo(S.firebaseDependencies,$.token)}catch(te){console.warn(te)}return sa(S.firebaseDependencies,O)}return sa(S.firebaseDependencies,O)})).apply(this,arguments)}function Pn(S){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,B.Z)(function*(S){const N=yield Ys(S.firebaseDependencies);N&&(yield xo(S.firebaseDependencies,N.token),yield vs(S.firebaseDependencies));const O=yield S.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function eo(S,N){return oi.apply(this,arguments)}function oi(){return(oi=(0,B.Z)(function*(S,N){try{const O=yield Uc(S.firebaseDependencies,N),$=Object.assign(Object.assign({},N),{token:O,createTime:Date.now()});return yield sn(S.firebaseDependencies,$),O}catch(O){throw yield Pn(S),O}})).apply(this,arguments)}function sa(S,N){return ko.apply(this,arguments)}function ko(){return(ko=(0,B.Z)(function*(S,N){const $={token:yield Rt(S,N),createTime:Date.now(),subscriptionOptions:N};return yield sn(S,$),$.token})).apply(this,arguments)}function Qa(S,N){return Po.apply(this,arguments)}function Po(){return(Po=(0,B.Z)(function*(S,N){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gr(N)})})).apply(this,arguments)}function $c(S,N){return N.vapidKey===S.vapidKey&&N.endpoint===S.endpoint&&N.auth===S.auth&&N.p256dh===S.p256dh}function to(S){const N={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Wn(S,N){if(!N.notification)return;S.notification={};const O=N.notification.title;O&&(S.notification.title=O);const $=N.notification.body;$&&(S.notification.body=$);const te=N.notification.image;te&&(S.notification.image=te)}(N,S),function ns(S,N){!N.data||(S.data=N.data)}(N,S),function Fo(S,N){var O,$,te,_e,je;if(!(N.fcmOptions||null!==(O=N.notification)&&void 0!==O&&O.click_action))return;S.fcmOptions={};const re=null!==(te=null===($=N.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==te?te:null===(_e=N.notification)||void 0===_e?void 0:_e.click_action;re&&(S.fcmOptions.link=re);const it=null===(je=N.fcmOptions)||void 0===je?void 0:je.analytics_label;it&&(S.fcmOptions.analyticsLabel=it)}(N,S),N}function rs(S){return"object"==typeof S&&!!S&&To in S}function ai(S,N){const O=[];for(let $=0;$<S.length;$++)O.push(S.charAt($)),$<N.length&&O.push(N.charAt($));return O.join("")}function oa(S){return Vn.create("missing-app-config-values",{valueName:S})}ai("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ai("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ya{constructor(N,O,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function Hc(S){if(!S||!S.options)throw oa("App Configuration Object");if(!S.name)throw oa("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:O}=S;for(const $ of N)if(!O[$])throw oa($);return{appName:S.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:te,installations:O,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Ja(S){return aa.apply(this,arguments)}function aa(){return(aa=(0,B.Z)(function*(S){var N;try{S.swRegistration=yield navigator.serviceWorker.register(es,{scope:Cr}),S.swRegistration.update().catch(()=>{})}catch(O){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:null===(N=O)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Lo(S,N){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,B.Z)(function*(S,N){if(!N&&!S.swRegistration&&(yield Ja(S)),N||!S.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");S.swRegistration=N}})).apply(this,arguments)}function la(S,N){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,B.Z)(function*(S,N){N?S.vapidKey=N:S.vapidKey||(S.vapidKey=ki)})).apply(this,arguments)}function Xa(){return(Xa=(0,B.Z)(function*(S,N){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield la(S,N?.vapidKey),yield Lo(S,N?.serviceWorkerRegistration),Zn(S)})).apply(this,arguments)}function Kl(S,N,O){return ws.apply(this,arguments)}function ws(){return(ws=(0,B.Z)(function*(S,N,O){const $=el(N);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:O[To],message_name:O[qa],message_time:O[ra],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function el(S){switch(S){case Pi.NOTIFICATION_CLICKED:return"notification_open";case Pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function R(){return(R=(0,B.Z)(function*(S,N){const O=N.data;if(!O.isFirebaseMessaging)return;S.onMessageHandler&&O.messageType===Pi.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(to(O)):S.onMessageHandler.next(to(O)));const $=O.data;rs($)&&"1"===$[Za]&&(yield Kl(S,O.messageType,$))})).apply(this,arguments)}const T="@firebase/messaging",P="0.9.19",U=S=>{const N=new Ya(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function E(S,N){return R.apply(this,arguments)}(N,O)),N},he=S=>{const N=S.getProvider("messaging").getImmediate();return{getToken:$=>function Ds(S,N){return Xa.apply(this,arguments)}(N,$)}};function lt(){return an.apply(this,arguments)}function an(){return(an=(0,B.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function we(){(0,ae._registerComponent)(new pe.wA("messaging",U,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",he,"PRIVATE")),(0,ae.registerVersion)(T,P),(0,ae.registerVersion)(T,P,"esm2017")}();const Wr="analytics",Ps="firebase_id",Vi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tl="https://www.googletagmanager.com/gtag/js",Xn=new De.Yd("@firebase/analytics");function Ql(S){return Promise.all(S.map(N=>N.catch(O=>O)))}function Kd(S,N){const O=document.createElement("script");O.src=`${tl}?l=${S}&id=${N}`,O.async=!0,document.head.appendChild(O)}function nl(S,N,O,$,te,_e){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,B.Z)(function*(S,N,O,$,te,_e){const je=$[te];try{if(je)yield N[je];else{const it=(yield Ql(O)).find(Tt=>Tt.measurementId===te);it&&(yield N[it.appId])}}catch(re){Xn.error(re)}S("config",te,_e)})).apply(this,arguments)}function ca(S,N,O,$,te){return Is.apply(this,arguments)}function Is(){return(Is=(0,B.Z)(function*(S,N,O,$,te){try{let _e=[];if(te&&te.send_to){let je=te.send_to;Array.isArray(je)||(je=[je]);const re=yield Ql(O);for(const it of je){const Tt=re.find(ke=>ke.measurementId===it),Gt=Tt&&N[Tt.appId];if(!Gt){_e=[];break}_e.push(Gt)}}0===_e.length&&(_e=Object.values(N)),yield Promise.all(_e),S("event",$,te||{})}catch(_e){Xn.error(_e)}})).apply(this,arguments)}function Qd(S){const N=window.document.getElementsByTagName("script");for(const O of Object.values(N))if(O.src&&O.src.includes(tl)&&O.src.includes(S))return O;return null}const Sr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bi=new class zr{constructor(N={},O=1e3){this.throttleMetadata=N,this.intervalMillis=O}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,O){this.throttleMetadata[N]=O}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function $u(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ro(S){return ec.apply(this,arguments)}function ec(){return(ec=(0,B.Z)(function*(S){var N;const{appId:O,apiKey:$}=S,te={method:"GET",headers:$u($)},_e=Vi.replace("{app-id}",O),je=yield fetch(_e,te);if(200!==je.status&&304!==je.status){let re="";try{const it=yield je.json();null!==(N=it.error)&&void 0!==N&&N.message&&(re=it.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:je.status,responseMessage:re})}return je.json()})).apply(this,arguments)}function Yt(S){return ci.apply(this,arguments)}function ci(){return(ci=(0,B.Z)(function*(S,N=Bi,O){const{appId:$,apiKey:te,measurementId:_e}=S.options;if(!$)throw Sr.create("no-app-id");if(!te){if(_e)return{measurementId:_e,appId:$};throw Sr.create("no-api-key")}const je=N.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},re=new Wc;return setTimeout((0,B.Z)(function*(){re.abort()}),void 0!==O?O:6e4),Bo({appId:$,apiKey:te,measurementId:_e},je,re,N)})).apply(this,arguments)}function Bo(S,N,O){return Es.apply(this,arguments)}function Es(){return(Es=(0,B.Z)(function*(S,{throttleEndTimeMillis:N,backoffCount:O},$,te=Bi){var _e,je;const{appId:re,measurementId:it}=S;try{yield tc($,N)}catch(Tt){if(it)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${null===(_e=Tt)||void 0===_e?void 0:_e.message}]`),{appId:re,measurementId:it};throw Tt}try{const Tt=yield ro(S);return te.deleteThrottleMetadata(re),Tt}catch(Tt){const Gt=Tt;if(!Gc(Gt)){if(te.deleteThrottleMetadata(re),it)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:re,measurementId:it};throw Tt}const ke=503===Number(null===(je=Gt?.customData)||void 0===je?void 0:je.httpStatus)?(0,se.$s)(O,te.intervalMillis,30):(0,se.$s)(O,te.intervalMillis),ut={throttleEndTimeMillis:Date.now()+ke,backoffCount:O+1};return te.setThrottleMetadata(re,ut),Xn.debug(`Calling attemptFetch again in ${ke} millis`),Bo(S,ut,$,te)}})).apply(this,arguments)}function tc(S,N){return new Promise((O,$)=>{const te=Math.max(N-Date.now(),0),_e=setTimeout(O,te);S.addEventListener(()=>{clearTimeout(_e),$(Sr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function Gc(S){if(!(S instanceof se.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Wc{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ua,pa;function da(){return(da=(0,B.Z)(function*(S,N,O,$,te){if(te&&te.global)S("event",O,$);else{const _e=yield N;S("event",O,Object.assign(Object.assign({},$),{send_to:_e}))}})).apply(this,arguments)}function jo(S){pa=S}function Gu(S){ua=S}function Wu(){return sl.apply(this,arguments)}function sl(){return(sl=(0,B.Z)(function*(){var S;if(!(0,se.hl)())return Xn.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(N){return Xn.warn(Sr.create("indexeddb-unavailable",{errorInfo:null===(S=N)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function nc(){return(nc=(0,B.Z)(function*(S,N,O,$,te,_e,je){var re;const it=Yt(S);it.then(Zr=>{O[Zr.measurementId]=Zr.appId,S.options.measurementId&&Zr.measurementId!==S.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zr=>Xn.error(Zr)),N.push(it);const Tt=Wu().then(Zr=>{if(Zr)return $.getId()}),[Gt,ke]=yield Promise.all([it,Tt]);Qd(_e)||Kd(_e,Gt.measurementId),pa&&(te("consent","default",pa),jo(void 0)),te("js",new Date);const ut=null!==(re=je?.config)&&void 0!==re?re:{};return ut.origin="firebase",ut.update=!0,null!=ke&&(ut[Ps]=ke),te("config",Gt.measurementId,ut),ua&&(te("set",ua),Gu(void 0)),Gt.measurementId})).apply(this,arguments)}class Zc{constructor(N){this.app=N}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},io=[];const ga={};let Cs,mr,Fs="dataLayer",so=!1;function ol(S,N,O){!function rc(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const N=S.map(($,te)=>`(${te+1}) ${$}`).join(" "),O=Sr.create("invalid-analytics-context",{errorInfo:N});Xn.warn(O.message)}}();const $=S.options.appId;if(!$)throw Sr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Sr.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[$])throw Sr.create("already-exists",{id:$});if(!so){!function gf(S){let N=[];Array.isArray(window[S])?N=window[S]:window[S]=N}(Fs);const{wrappedGtag:_e,gtagCore:je}=function rl(S,N,O,$,te){let _e=function(...je){window[$].push(arguments)};return window[te]&&"function"==typeof window[te]&&(_e=window[te]),window[te]=function no(S,N,O,$){function _e(){return(_e=(0,B.Z)(function*(je,re,it){try{"event"===je?yield ca(S,N,O,re,it):"config"===je?yield nl(S,N,O,$,re,it):"consent"===je?S("consent","update",it):S("set",re)}catch(Tt){Xn.error(Tt)}})).apply(this,arguments)}return function te(je,re,it){return _e.apply(this,arguments)}}(_e,S,N,O),{gtagCore:_e,wrappedGtag:window[te]}}(qr,io,ga,Fs,"gtag");mr=_e,Cs=je,so=!0}return qr[$]=function Uo(S,N,O,$,te,_e,je){return nc.apply(this,arguments)}(S,io,ga,N,Cs,Fs,O),new Zc(S)}function Jd(){return zu.apply(this,arguments)}function zu(){return(zu=(0,B.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const oo="@firebase/analytics";!function Di(){(0,ae._registerComponent)(new pe.wA(Wr,(N,{options:O})=>ol(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function S(N){try{const O=N.getProvider(Wr).getImmediate();return{logEvent:($,te,_e)=>function ma(S,N,O,$){S=(0,se.m9)(S),function mf(S,N,O,$,te){return da.apply(this,arguments)}(mr,qr[S.app.options.appId],N,O,$).catch(te=>Xn.error(te))}(O,$,te,_e)}}catch(O){throw Sr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(oo,"0.8.3"),(0,ae.registerVersion)(oo,"0.8.3","esm2017")}();var Ui=V(4408),ya=V(7565);const va=new class Ls extends ya.v{}(class ll extends Ui.o{constructor(N,O){super(N,O),this.scheduler=N,this.work=O}schedule(N,O=0){return O>0?super.schedule(N,O):(this.delay=O,this.state=N,this.scheduler.flush(this),this)}execute(N,O){return O>0||this.closed?super.execute(N,O):this._execute(N,O)}requestAsyncId(N,O,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(N,O,$):(N.flush(this),0)}});var cl=V(4986),Kc=V(8505),ba=V(9468),Ho=V(5363);const wi=new I.Version("7.4.1"),ul="__angularfire_symbol__analyticsIsSupportedValue",Vs="__angularfire_symbol__analyticsIsSupported",dl="__angularfire_symbol__remoteConfigIsSupportedValue",hl="__angularfire_symbol__remoteConfigIsSupported",fl="__angularfire_symbol__messagingIsSupportedValue",Qc="__angularfire_symbol__messagingIsSupported";function ml(S,N,O){if(N){if(1===N.length)return N[0];const _e=N.filter(je=>je.app===O);if(1===_e.length)return _e[0]}return O.container.getProvider(S).getImmediate({optional:!0})}globalThis[Vs]||(globalThis[Vs]=Jd().then(S=>globalThis[ul]=S).catch(()=>globalThis[ul]=!1)),globalThis[Qc]||(globalThis[Qc]=lt().then(S=>globalThis[fl]=S).catch(()=>globalThis[fl]=!1)),globalThis[hl]||(globalThis[hl]=Co().then(S=>globalThis[dl]=S).catch(()=>globalThis[dl]=!1));const Da=(S,N)=>{const O=N?[N]:(0,u.C6)(),$=[];return O.forEach(te=>{te.container.getProvider(S).instances.forEach(je=>{$.includes(je)||$.push(je)})}),$};function Go(){}class Bn{constructor(N,O=va){this.zone=N,this.delegate=O}now(){return this.delegate.now()}schedule(N,O,$){const te=this.zone;return this.delegate.schedule(function(je){te.runGuarded(()=>{N.apply(this,[je])})},O,$)}}class Yc{constructor(N){this.zone=N,this.task=null}call(N,O){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),O.pipe((0,Kc.b)({next:$,complete:$,error:$})).subscribe(N).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sc=(()=>{class S{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Bn(Zone.current)),this.insideAngular=O.run(()=>new Bn(Zone.current,cl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(O){return new(O||S)(I.\u0275\u0275inject(I.NgZone))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ii(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function lo(S){return Ii(),function Qu(S){return function(O){return(O=O.lift(new Yc(S.ngZone))).pipe((0,ba.R)(S.outsideAngular),(0,Ho.Q)(S.insideAngular))}}(Ii())(S)}},2090:(vt,Se,V)=>{"use strict";V.d(Se,{$s:()=>_t,BH:()=>Xt,G6:()=>Oe,L:()=>ye,LL:()=>cn,Pz:()=>ln,Sg:()=>ot,UG:()=>le,US:()=>pe,ZB:()=>z,ZR:()=>Nn,aH:()=>It,b$:()=>fe,eu:()=>Ye,hl:()=>Ke,jU:()=>He,m9:()=>Kt,ne:()=>$n,pd:()=>ms,r3:()=>fi,ru:()=>me,tV:()=>ve,uI:()=>Ie,vZ:()=>at,w1:()=>st,xO:()=>dr,xb:()=>ei,z$:()=>$e,zI:()=>q,zd:()=>ti});const ae=function(Z){const W=[];let ee=0;for(let Re=0;Re<Z.length;Re++){let ne=Z.charCodeAt(Re);ne<128?W[ee++]=ne:ne<2048?(W[ee++]=ne>>6|192,W[ee++]=63&ne|128):55296==(64512&ne)&&Re+1<Z.length&&56320==(64512&Z.charCodeAt(Re+1))?(ne=65536+((1023&ne)<<10)+(1023&Z.charCodeAt(++Re)),W[ee++]=ne>>18|240,W[ee++]=ne>>12&63|128,W[ee++]=ne>>6&63|128,W[ee++]=63&ne|128):(W[ee++]=ne>>12|224,W[ee++]=ne>>6&63|128,W[ee++]=63&ne|128)}return W},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,W){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let ne=0;ne<Z.length;ne+=3){const tt=Z[ne],Et=ne+1<Z.length,mn=Et?Z[ne+1]:0,Mn=ne+2<Z.length,pn=Mn?Z[ne+2]:0;let zt=(15&mn)<<2|pn>>6,_n=63&pn;Mn||(_n=64,Et||(zt=64)),Re.push(ee[tt>>2],ee[(3&tt)<<4|mn>>4],ee[zt],ee[_n])}return Re.join("")},encodeString(Z,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(Z):this.encodeByteArray(ae(Z),W)},decodeString(Z,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(Z):function(Z){const W=[];let ee=0,Re=0;for(;ee<Z.length;){const ne=Z[ee++];if(ne<128)W[Re++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const tt=Z[ee++];W[Re++]=String.fromCharCode((31&ne)<<6|63&tt)}else if(ne>239&&ne<365){const Mn=((7&ne)<<18|(63&Z[ee++])<<12|(63&Z[ee++])<<6|63&Z[ee++])-65536;W[Re++]=String.fromCharCode(55296+(Mn>>10)),W[Re++]=String.fromCharCode(56320+(1023&Mn))}else{const tt=Z[ee++],Et=Z[ee++];W[Re++]=String.fromCharCode((15&ne)<<12|(63&tt)<<6|63&Et)}}return W.join("")}(this.decodeStringToByteArray(Z,W))},decodeStringToByteArray(Z,W){this.init_();const ee=W?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let ne=0;ne<Z.length;){const tt=ee[Z.charAt(ne++)],mn=ne<Z.length?ee[Z.charAt(ne)]:0;++ne;const pn=ne<Z.length?ee[Z.charAt(ne)]:64;++ne;const We=ne<Z.length?ee[Z.charAt(ne)]:64;if(++ne,null==tt||null==mn||null==pn||null==We)throw Error();Re.push(tt<<2|mn>>4),64!==pn&&(Re.push(mn<<4&240|pn>>2),64!==We&&Re.push(pn<<6&192|We))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ye=function(Z){return function(Z){const W=ae(Z);return pe.encodeByteArray(W,!0)}(Z).replace(/\./g,"")},ve=function(Z){try{return pe.decodeString(Z,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function z(Z,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return W}for(const ee in W)!W.hasOwnProperty(ee)||!J(ee)||(Z[ee]=z(Z[ee],W[ee]));return Z}function J(Z){return"__proto__"!==Z}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function me(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const Z=$e();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Oe(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function Ye(){return new Promise((Z,W)=>{try{let ee=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Re);ne.onsuccess=()=>{ne.result.close(),ee||self.indexedDB.deleteDatabase(Re),Z(!0)},ne.onupgradeneeded=()=>{ee=!1},ne.onerror=()=>{var tt;W((null===(tt=ne.error)||void 0===tt?void 0:tt.message)||"")}}catch(ee){W(ee)}})}function q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=Z&&ve(Z[1]);return W&&JSON.parse(W)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},It=()=>{var Z;return null===(Z=ce())||void 0===Z?void 0:Z.config},ln=Z=>{var W;return null===(W=ce())||void 0===W?void 0:W[`_${Z}`]};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,ee)=>{this.resolve=W,this.reject=ee})}wrapCallback(W){return(ee,Re)=>{ee?this.reject(ee):this.resolve(Re),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(ee):W(ee,Re))}}}function ot(Z,W){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=W||"demo-project",ne=Z.iat||0,tt=Z.sub||Z.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:ne,exp:ne+3600,auth_time:ne,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Et)),""].join(".")}class Nn extends Error{constructor(W,ee,Re){super(ee),this.code=W,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}}class cn{constructor(W,ee,Re){this.service=W,this.serviceName=ee,this.errors=Re}create(W,...ee){const Re=ee[0]||{},ne=`${this.service}/${W}`,tt=this.errors[W],Et=tt?function un(Z,W){return Z.replace(br,(ee,Re)=>{const ne=W[Re];return null!=ne?String(ne):`<${Re}?>`})}(tt,Re):"Error";return new Nn(ne,`${this.serviceName}: ${Et} (${ne}).`,Re)}}const br=/\{\$([^}]+)}/g;function fi(Z,W){return Object.prototype.hasOwnProperty.call(Z,W)}function ei(Z){for(const W in Z)if(Object.prototype.hasOwnProperty.call(Z,W))return!1;return!0}function at(Z,W){if(Z===W)return!0;const ee=Object.keys(Z),Re=Object.keys(W);for(const ne of ee){if(!Re.includes(ne))return!1;const tt=Z[ne],Et=W[ne];if(Dr(tt)&&Dr(Et)){if(!at(tt,Et))return!1}else if(tt!==Et)return!1}for(const ne of Re)if(!ee.includes(ne))return!1;return!0}function Dr(Z){return null!==Z&&"object"==typeof Z}function dr(Z){const W=[];for(const[ee,Re]of Object.entries(Z))Array.isArray(Re)?Re.forEach(ne=>{W.push(encodeURIComponent(ee)+"="+encodeURIComponent(ne))}):W.push(encodeURIComponent(ee)+"="+encodeURIComponent(Re));return W.length?"&"+W.join("&"):""}function ti(Z){const W={};return Z.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[ne,tt]=Re.split("=");W[decodeURIComponent(ne)]=decodeURIComponent(tt)}}),W}function ms(Z){const W=Z.indexOf("?");if(!W)return"";const ee=Z.indexOf("#",W);return Z.substring(W,ee>0?ee:void 0)}function $n(Z,W){const ee=new Wt(Z,W);return ee.subscribe.bind(ee)}class Wt{constructor(W,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{W(this)}).catch(Re=>{this.error(Re)})}next(W){this.forEachObserver(ee=>{ee.next(W)})}error(W){this.forEachObserver(ee=>{ee.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,ee,Re){let ne;if(void 0===W&&void 0===ee&&void 0===Re)throw new Error("Missing Observer.");ne=function wt(Z,W){if("object"!=typeof Z||null===Z)return!1;for(const ee of W)if(ee in Z&&"function"==typeof Z[ee])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:ee,complete:Re},void 0===ne.next&&(ne.next=Cn),void 0===ne.error&&(ne.error=Cn),void 0===ne.complete&&(ne.complete=Cn);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),tt}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,W)}sendOne(W,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{ee(this.observers[W])}catch(Re){typeof console<"u"&&console.error&&console.error(Re)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function _t(Z,W=1e3,ee=2){const Re=W*Math.pow(ee,Z),ne=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+ne)}function Kt(Z){return Z&&Z._delegate?Z._delegate:Z}},1739:(vt,Se,V)=>{"use strict";var I=V(6895),u=V(4650);class B extends I.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends B{static makeCurrent(){(0,I.\u0275setRootDomAdapter)(new ae)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pe(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==t?null:function ye(n){De=De||document.createElement("a"),De.setAttribute("href",n);const e=De.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,I.\u0275parseCookieValue)(document.cookie,e)}}let De,se=null;const ve=new u.InjectionToken("TRANSITION_ID"),z=[{provide:u.APP_INITIALIZER,useFactory:function G(n,e,t){return()=>{t.get(u.ApplicationInitStatus).donePromise.then(()=>{const r=(0,I.\u0275getDOM)(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[ve,I.DOCUMENT,u.Injector],multi:!0}];let $e=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ie=new u.InjectionToken("EventManagerPlugins");let le=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ie),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class He{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=(0,I.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let me=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Qe),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qe))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Qe(n){(0,I.\u0275getDOM)().remove(n)}const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pe=/%COMP%/g;function X(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(n,i,t):(i=i.replace(Pe,n),t.push(i))}return t}function ie(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ce=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ViewEncapsulation.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Xt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ViewEncapsulation.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=X(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(le),u.\u0275\u0275inject(fe),u.\u0275\u0275inject(u.APP_ID))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Ve{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(st[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ln(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ln(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=st[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=st[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?e.style.setProperty(t,r,i&u.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ie(r)):this.eventManager.addEventListener(e,t,ie(r))}}function ln(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xt extends Ve{constructor(e,t,r,i){super(e),this.component=r;const l=X(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function q(n){return"_ngcontent-%COMP%".replace(Pe,n)}(i+"-"+r.id),this.hostAttr=function Ne(n){return"_nghost-%COMP%".replace(Pe,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ot extends Ve{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=X(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const g=document.createElement("style");g.textContent=l[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let En=(()=>{class n extends He{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Nn=["alt","control","meta","shift"],cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},un={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let br=(()=>{class n extends He{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.\u0275getDOM)().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),Nn.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=cn[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nn.forEach(d=>{d!==i&&(0,un[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const ei=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:I.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function Xr(){ae.makeCurrent()},multi:!0},{provide:I.DOCUMENT,useFactory:function fi(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),Ws=new u.InjectionToken(""),at=[{provide:u.\u0275TESTABILITY_GETTER,useClass:class J{addToWindow(e){u.\u0275global.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(r=>{const i=u.\u0275global.getAllAngularTestabilities();let l=i.length,d=!1;const g=function(y){d=d||y,l--,0==l&&r(d)};i.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,I.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.\u0275TESTABILITY,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]}],Dr=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function Rs(){return new u.ErrorHandler},deps:[]},{provide:Ie,useClass:En,multi:!0,deps:[I.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:Ie,useClass:br,multi:!0,deps:[I.DOCUMENT]},{provide:ce,useClass:ce,deps:[le,fe,u.APP_ID]},{provide:u.RendererFactory2,useExisting:ce},{provide:me,useExisting:fe},{provide:fe,useClass:fe,deps:[I.DOCUMENT]},{provide:le,useClass:le,deps:[Ie,u.NgZone]},{provide:I.XhrFactory,useClass:$e,deps:[]},[]];let gs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.APP_ID,useValue:t.appId},{provide:ve,useExisting:u.APP_ID},z]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ws,12))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[...Dr,...at],imports:[I.CommonModule,u.ApplicationModule]}),n})(),$n=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function qn(){return new $n((0,u.\u0275\u0275inject)(I.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const ze_firestore={apiKey:"AIzaSyBjqmrfCLX6LUcLoZ0QOVWHh-66QH9B9rM",authDomain:"control-clientes-5561c.firebaseapp.com",projectId:"control-clientes-5561c",storageBucket:"control-clientes-5561c.appspot.com",messagingSenderId:"468393225877",appId:"1:468393225877:web:d4f0b8168873ea7e71359c"};var We=V(2011),zt=V(4986),_n=V(9751),tn=V(8996),Rn=V(3269);function ft(...n){const e=(0,Rn.yG)(n);return(0,tn.D)(n,e)}var qt=V(5813),ri=V(8189);function Vt(...n){return function zs(){return(0,ri.J)(1)}()((0,tn.D)(n,(0,Rn.yG)(n)))}var Qt=V(4482);function ii(...n){const e=(0,Rn.yG)(n);return(0,Qt.e)((t,r)=>{(e?Vt(n,t,e):Vt(n,t)).subscribe(r)})}var On=V(5403);function pi(){return(0,Qt.e)((n,e)=>{let t,r=!1;n.subscribe((0,On.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var Xe=V(4004);function _s(n,e,t,r,i){return(l,d)=>{let g=t,y=e,w=0;l.subscribe((0,On.x)(d,A=>{const k=w++;y=g?n(y,A,k):(g=!0,A),r&&d.next(y)},i&&(()=>{g&&d.next(y),d.complete()})))}}function gi(n,e){return(0,Qt.e)(_s(n,e,arguments.length>=2,!0))}var Hn=V(4671);function Ga(n,e){return n===e}function Bt(n,e){return(0,Qt.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}V(9545);var nt,Gl=V(3942),Te=V(5861),mi=V(9681),Ri=V(4859),Fr=V(1877),Ht=V(2090),pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_i={},wr=wr||{},Mt=pr||self;function ys(){}function qs(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rr(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ea="closure_uid_"+(1e9*Math.random()>>>0),Lc=0;function Wa(n,e,t){return n.call.apply(n.bind,arguments)}function Wl(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function dn(n,e,t){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wa:Wl).apply(null,arguments)}function ta(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ir(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[i].apply(r,d)}}function Er(){this.s=this.s,this.o=this.o}var zl={};Er.prototype.s=!1,Er.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Fc(n){return Object.prototype.hasOwnProperty.call(n,ea)&&n[ea]||(n[ea]=++Lc)}(this);delete zl[n]}},Er.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const na=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Xi(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Vc(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(qs(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};var ju=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",ys,e),Mt.removeEventListener("test",ys,e)}catch{}return n}();function za(n){return/^[\s\xa0]*$/.test(n)}var ql=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Oi(n,e){return n<e?-1:n>e?1:0}function Eo(){var n=Mt.navigator;return n&&(n=n.userAgent)?n:""}function yi(n){return-1!=Eo().indexOf(n)}function Co(n){return Co[" "](n),n}Co[" "]=ys;var Za,n,es=yi("Opera"),Cr=yi("Trident")||yi("MSIE"),ki=yi("Edge"),ts=ki||Cr,To=yi("Gecko")&&!(-1!=Eo().toLowerCase().indexOf("webkit")&&!yi("Edge"))&&!(yi("Trident")||yi("MSIE"))&&!yi("Edge"),qa=-1!=Eo().toLowerCase().indexOf("webkit")&&!yi("Edge");function ra(){var n=Mt.document;return n?n.documentMode:void 0}e:{var Zs="",Pi=(n=Eo(),To?/rv:([^\);]+)(\)|;)/.exec(n):ki?/Edge\/([\d\.]+)/.exec(n):Cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qa?/WebKit\/(\S+)/.exec(n):es?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pi&&(Zs=Pi?Pi[1]:""),Cr){var Lr=ra();if(null!=Lr&&Lr>parseFloat(Zs)){Za=String(Lr);break e}}Za=Zs}var Gr={};var jc=Mt.document&&Cr&&(ra()||parseInt(Za,10))||void 0;function So(n,e){if(sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(To){e:{try{Co(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Gn[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&So.X.h.call(this)}}Ir(So,sr);var Gn={2:"touch",3:"pen",4:"mouse"};So.prototype.h=function(){So.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Os="closure_listenable_"+(1e6*Math.random()|0),Uu=0;function vi(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Uu,this.ba=this.ea=!1}function gr(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Qs(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ys(n){const e={};for(const t in n)e[t]=n[t];return e}const bi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sn(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<bi.length;l++)t=bi[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Fi(n){this.src=n,this.g={},this.h=0}function vs(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=na(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(gr(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Js(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}Fi.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Js(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new vi(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var si="closure_lm_"+(1e6*Math.random()|0),No={};function Vn(n,e,t,r,i){if(r&&r.once)return Uc(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Vn(n,e[l],t,r,i);return null}return t=Fe(t),n&&n[Os]?n.N(e,t,rr(r)?!!r.capture:!!r,i):Rt(n,e,t,!1,r,i)}function Rt(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=rr(i)?!!i.capture:!!i,g=Oo(n);if(g||(n[si]=g=new Fi(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function Ao(){const e=bs;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ju||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ro(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Uc(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Uc(n,e[l],t,r,i);return null}return t=Fe(t),n&&n[Os]?n.O(e,t,rr(r)?!!r.capture:!!r,i):Rt(n,e,t,!0,r,i)}function Mo(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Mo(n,e[l],t,r,i);else r=rr(r)?!!r.capture:!!r,t=Fe(t),n&&n[Os]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Js(l=n.g[e],t,r,i))&&(gr(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Oo(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Js(e,t,r,i)),(t=-1<n?e[n]:null)&&xo(t))}function xo(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Os])vs(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ro(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Oo(e))?(vs(t,n),0==t.h&&(t.src=null,e[si]=null)):gr(n)}}}function Ro(n){return n in No?No[n]:No[n]="on"+n}function bs(n,e){if(n.ba)n=!0;else{e=new So(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&xo(n),n=t.call(r,e)}return n}function Oo(n){return(n=n[si])instanceof Fi?n:null}var ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(n){return"function"==typeof n?n:(n[ks]||(n[ks]=function(e){return n.handleEvent(e)}),n[ks])}function St(){Er.call(this),this.i=new Fi(this),this.P=this,this.I=null}function Zn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new sr(e,n);else if(e instanceof sr)e.target=e.target||n;else{var i=e;sn(e=new sr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Xs(d,r,!0,e)&&i}if(i=Xs(d=e.g=n,r,!0,e)&&i,i=Xs(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Xs(d=e.g=t[l],r,!1,e)&&i}function Xs(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var g=d.listener,y=d.ha||d.src;d.ea&&vs(n.i,d),i=!1!==g.call(y,r)&&i}}return i&&!r.defaultPrevented}Ir(St,Er),St.prototype[Os]=!0,St.prototype.removeEventListener=function(n,e,t,r){Mo(this,n,e,t,r)},St.prototype.M=function(){if(St.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gr(t[r]);delete n.g[e],n.h--}}this.I=null},St.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},St.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Pn=Mt.JSON.stringify;function Ka(){var n=Wn;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Po,oi=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sa,n=>n.reset());class sa{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ko(n){Mt.setTimeout(()=>{throw n},0)}function Qa(n,e){Po||function $c(){var n=Mt.Promise.resolve(void 0);Po=function(){n.then(ns)}}(),to||(Po(),to=!0),Wn.add(n,e)}var to=!1,Wn=new class eo{constructor(){this.h=this.g=null}add(e,t){const r=oi.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ns(){for(var n;n=Ka();){try{n.h.call(n.g)}catch(t){ko(t)}var e=oi;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}to=!1}function Fo(n,e){St.call(this),this.h=n||1,this.g=e||Mt,this.j=dn(this.lb,this),this.l=Date.now()}function rs(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function ai(n,e,t){if("function"==typeof n)t&&(n=dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function Hc(n){n.g=ai(()=>{n.g=null,n.i&&(n.i=!1,Hc(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ir(Fo,St),(nt=Fo.prototype).ca=!1,nt.R=null,nt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zn(this,"tick"),this.ca&&(rs(this),this.start()))}},nt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){Fo.X.M.call(this),rs(this),delete this.g};class oa extends Er{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hc(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ya(n){Er.call(this),this.h=n,this.g={}}Ir(Ya,Er);var Ja=[];function aa(n,e,t,r){Array.isArray(t)||(t&&(Ja[0]=t.toString()),t=Ja);for(var i=0;i<t.length;i++){var l=Vn(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Lo(n){Qs(n.g,function(e,t){this.g.hasOwnProperty(t)&&xo(e)},n),n.g={}}function Vo(){this.g=!0}function Ds(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kl(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return Pn(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ya.prototype.M=function(){Ya.X.M.call(this),Lo(this)},Ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vo.prototype.Aa=function(){this.g=!1},Vo.prototype.info=function(){};var ws={},el=null;function E(){return el=el||new St}function R(n){sr.call(this,ws.Pa,n)}function T(n){const e=E();Zn(e,new R(e,n))}function P(n,e){sr.call(this,ws.STAT_EVENT,n),this.stat=e}function U(n){const e=E();Zn(e,new P(e,n))}function he(n,e){sr.call(this,ws.Qa,n),this.size=e}function we(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}ws.Pa="serverreachability",Ir(R,sr),ws.STAT_EVENT="statevent",Ir(P,sr),ws.Qa="timingevent",Ir(he,sr);var lt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},an={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hn(){}function nn(){}hn.prototype.h=null;var is,Kn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dn(){sr.call(this,"d")}function Fn(){sr.call(this,"c")}function li(){}function Wr(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ya(this),this.O=ss,this.T=new Fo(n=ts?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}Ir(Dn,sr),Ir(Fn,sr),Ir(li,hn),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},is=new li;var ss=45e3,Li={},Vi={};function tl(n,e,t){n.K=1,n.v=ci(Bi(e)),n.s=t,n.P=!0,Xn(n,null)}function Xn(n,e){n.F=Date.now(),nl(n),n.A=Bi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),fa(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Ps,n.g=ml(n.l,t?e:null,!n.s),0<n.N&&(n.L=new oa(dn(n.La,n,n.g),n.N)),aa(n.S,n.g,"readystatechange",n.ib),e=n.H?Ys(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),T(1),function la(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),y=0;y<g.length;y++){var w=g[y].split("=");if(1<w.length){var A=w[0];w=w[1];var k=A.split("_");d=2<=k.length&&"type"==k[1]?d+(A+"=")+w+"&":d+(A+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Ql(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Kd(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=gf(n,t),i==Vi){4==e&&(n.o=4,U(14),r=!1),Ds(n.j,n.m,null,"[Incomplete Response]");break}if(i==Li){n.o=4,U(15),Ds(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ds(n.j,n.m,i,null),rl(n,i)}Ql(n)&&i!=Vi&&i!=Li&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,U(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),dl(e),e.K=!0,U(11))):(Ds(n.j,n.m,t,"[Invalid Chunked Response]"),no(n),Is(n))}function gf(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vi:(t=Number(e.substring(t,r)),isNaN(t)?Li:(r+=1)+t>e.length?Vi:(e=e.substr(r,t),n.C=r+t,e))}function nl(n){n.V=Date.now()+n.O,Yl(n,n.O)}function Yl(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=we(dn(n.gb,n),e)}function ca(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Is(n){0==n.l.G||n.I||Qc(n.l,n)}function no(n){ca(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rs(n.T),Lo(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function rl(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||sl(t.h,n)))if(!n.J&&sl(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;fl(t),va(t)}Vs(t),U(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=we(dn(t.cb,t),6e3));if(1>=Wu(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else gl(t,11)}else if((n.J||t.g==n)&&fl(t),!za(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const A=w[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const k=w[4];null!=k&&(t.Ca=k,t.j.info("SVER="+t.Ca));const H=w[5];null!=H&&"number"==typeof H&&0<H&&(t.J=r=1.5*H,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ue=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var l=r.h;l.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Uo(l,l.h),l.h=null))}if(r.D){const Ce=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.za=Ce,Yt(r.F,r.D,Ce))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=Xd(r,r.H?r.ka:null,r.V),d.J){nc(r.h,d);var g=d,y=r.J;y&&g.setTimeout(y),g.B&&(ca(g),nl(g)),r.g=d}else ul(r);0<t.i.length&&cl(t)}else"stop"!=w[0]&&"close"!=w[0]||gl(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?gl(t,7):Ls(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}T(4)}catch{}}function Sr(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qs(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Yd(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qs(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Qd(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qs(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(nt=Wr.prototype).setTimeout=function(n){this.O=n},nt.ib=function(n){n=n.target;const e=this.L;e&&3==oo(n)?e.l():this.La(n)},nt.La=function(n){try{if(n==this.g)e:{const A=oo(this.g);var e=this.g.Ea();const k=this.g.aa();if(!(3>A)&&(3!=A||ts||this.g&&(this.h.h||this.g.fa()||ic(this.g)))){this.I||4!=A||7==e||T(8==e||0>=k?3:2),ca(this);var t=this.g.aa();this.Y=t;t:if(Ql(this)){var r=ic(this.g);n="";var i=r.length,l=4==oo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Is(this);var d="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function Zl(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!za(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,U(12),no(this),Is(this);break e}Ds(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rl(this,t)}this.P?(Kd(this,A,d),ts&&this.i&&3==A&&(aa(this.S,this.T,"tick",this.hb),this.T.start())):(Ds(this.j,this.m,d,null),rl(this,d)),4==A&&no(this),this.i&&!this.I&&(4==A?Qc(this.l,this):(this.i=!1,nl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,U(12)):(this.o=0,U(13)),no(this),Is(this)}}}catch{}},nt.hb=function(){if(this.g){var n=oo(this.g),e=this.g.fa();this.C<e.length&&(ca(this),Kd(this,n,e),this.i&&4!=n&&nl(this))}},nt.cancel=function(){this.I=!0,no(this)},nt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Xa(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(T(3),U(17)),no(this),this.o=2,Is(this)):Yl(this,this.V-n)};var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zr(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zr){this.h=void 0!==e?e:n.h,$u(this,n.j),this.s=n.s,this.g=n.g,ro(this,n.m),this.l=n.l,e=n.i;var t=new ha;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ec(this,t),this.o=n.o}else n&&(t=String(n).match(Jl))?(this.h=!!e,$u(this,t[1]||"",!0),this.s=Bo(t[2]||""),this.g=Bo(t[3]||"",!0),ro(this,t[4]),this.l=Bo(t[5]||"",!0),ec(this,t[6]||"",!0),this.o=Bo(t[7]||"")):(this.h=!!e,this.i=new ha(null,this.h))}function Bi(n){return new zr(n)}function $u(n,e,t){n.j=t?Bo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ro(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ec(n,e,t){e instanceof ha?(n.i=e,function Hu(n,e){e&&!n.j&&(ui(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(il(this,r),fa(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Es(e,mf)),n.i=new ha(e,n.h))}function Yt(n,e,t){n.i.set(e,t)}function ci(n){return Yt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Es(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tc),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tc(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Es(e,Gc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Es(e,Gc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Es(t,"/"==t.charAt(0)?ua:Wc,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Es(t,da)),n.join("")};var Gc=/[#\/\?@]/g,Wc=/[#\?:]/g,ua=/[#\?]/g,mf=/[#\?@]/g,da=/#/g;function ha(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ui(n){n.g||(n.g=new Map,n.h=0,n.i&&function Xl(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function il(n,e){ui(n),e=ji(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zc(n,e){return ui(n),e=ji(n,e),n.g.has(e)}function fa(n,e,t){il(n,e),0<t.length&&(n.i=null,n.g.set(ji(n,e),Xi(t)),n.h+=t.length)}function ji(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pa(n){this.l=n||jo,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ga&&Mt.g.Ga()&&Mt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=ha.prototype).add=function(n,e){ui(this),this.i=null,n=ji(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){ui(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},nt.oa=function(){ui(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},nt.W=function(n){ui(this);let e=[];if("string"==typeof n)zc(this,n)&&(e=e.concat(this.g.get(ji(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nt.set=function(n,e){return ui(this),this.i=null,zc(this,n=ji(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var jo=10;function Gu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Wu(n){return n.h?1:n.g?n.g.size:0}function sl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Uo(n,e){n.g?n.g.add(e):n.h=e}function nc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Zc(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Xi(n.i)}function qr(){}function io(){this.g=new qr}function ga(n,e,t){const r=t||"";try{Sr(n,function(i,l){let d=i;rr(i)&&(d=Pn(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $o(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cs(n){this.l=n.ac||null,this.j=n.jb||!1}function mr(n,e){St.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=so,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pa.prototype.cancel=function(){if(this.i=Zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qr.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},qr.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},Ir(Cs,hn),Cs.prototype.g=function(){return new mr(this.l,this.j)},Cs.prototype.i=function(n){return function(){return n}}({}),Ir(mr,St);var so=0;function kn(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function rc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ol(n)}function ol(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=mr.prototype).open=function(n,e){if(this.readyState!=so)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ol(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rc(this)),this.readyState=so},nt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Mt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kn(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},nt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?rc(this):ol(this),3==this.readyState&&kn(this)}},nt.Va=function(n){this.g&&(this.response=this.responseText=n,rc(this))},nt.Ua=function(n){this.g&&(this.response=n,rc(this))},nt.ga=function(){this.g&&rc(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var al=Mt.JSON.parse;function er(n){St.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jd,this.K=this.L=!1}Ir(er,St);var Jd="",zu=/^https?$/i,Ig=["POST","PUT"];function _f(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Eg(n),ma(n)}function Eg(n){n.D||(n.D=!0,Zn(n,"complete"),Zn(n,"error"))}function _r(n){if(n.h&&typeof wr<"u"&&(!n.C[1]||4!=oo(n)||2!=n.aa()))if(n.v&&4==oo(n))ai(n.Ha,0,n);else if(Zn(n,"readystatechange"),4==oo(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(Jl)[1]||null;if(!i&&Mt.self&&Mt.self.location){var l=Mt.self.location.protocol;i=l.substr(0,l.length-1)}r=!zu.test(i?i.toLowerCase():"")}t=r}if(t)Zn(n,"complete"),Zn(n,"success");else{n.m=6;try{var d=2<oo(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Eg(n)}}finally{ma(n)}}}function ma(n,e){if(n.g){_a(n);const t=n.g,r=n.C[0]?ys:null;n.g=null,n.C=null,e||Zn(n,"ready");try{t.onreadystatechange=r}catch{}}}function _a(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function oo(n){return n.g?n.g.readyState:0}function ic(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Jd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(n){let e="";return Qs(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Ui(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Di(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Yt(n,e,t))}function ll(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ya(n){this.Ca=0,this.i=[],this.j=new Vo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ll("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ll("baseRetryDelayMs",5e3,n),this.bb=ll("retryDelaySeedMs",1e4,n),this.$a=ll("forwardChannelMaxRetries",2,n),this.ta=ll("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new pa(n&&n.concurrentRequestLimit),this.Fa=new io,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ls(n){if(yf(n),3==n.G){var e=n.U++,t=Bi(n.F);Yt(t,"SID",n.I),Yt(t,"RID",e),Yt(t,"TYPE","terminate"),Ho(n,t),(e=new Wr(n,n.j,e,void 0)).K=2,e.v=ci(Bi(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ml(e.l,null),e.g.da(e.v)),e.F=Date.now(),nl(e)}qu(n)}function va(n){n.g&&(dl(n),n.g.cancel(),n.g=null)}function yf(n){va(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),fl(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function cl(n){Gu(n.h)||n.m||(n.m=!0,Qa(n.Ja,n),n.C=0)}function ba(n,e){var t;t=e?e.m:n.U++;const r=Bi(n.F);Yt(r,"SID",n.I),Yt(r,"RID",t),Yt(r,"AID",n.T),Ho(n,r),n.o&&n.s&&Ui(r,n.o,n.s),t=new Wr(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=wi(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Uo(n.h,t),tl(t,r,e)}function Ho(n,e){n.ia&&Qs(n.ia,function(t,r){Yt(e,r,t)}),n.l&&Sr({},function(t,r){Yt(e,r,t)})}function wi(n,e,t){t=Math.min(n.i.length,t);var r=n.l?dn(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let y=0;y<t;y++){let w=i[y].h;const A=i[y].g;if(w-=l,0>w)l=Math.max(0,i[y].h-100),g=!1;else try{ga(A,d,"req"+w+"_")}catch{r&&r(A)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ul(n){n.g||n.u||(n.Z=1,Qa(n.Ia,n),n.A=0)}function Vs(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=we(dn(n.Ia,n),pl(n,n.A)),n.A++,0))}function dl(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function hl(n){n.g=new Wr(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Bi(n.sa);Yt(e,"RID","rpc"),Yt(e,"SID",n.I),Yt(e,"CI",n.L?"0":"1"),Yt(e,"AID",n.T),Yt(e,"TYPE","xmlhttp"),Ho(n,e),n.o&&n.s&&Ui(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ci(Bi(e)),t.s=null,t.P=!0,Xn(t,n)}function fl(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function Qc(n,e){var t=null;if(n.g==e){fl(n),dl(n),n.g=null;var r=2}else{if(!sl(n.h,e))return;t=e.D,nc(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Zn(r=E(),new he(r,t,e,i)),cl(n)}else ul(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Kc(n,e){return!(Wu(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=we(dn(n.Ja,n,e),pl(n,n.C)),n.C++,0)))}(n,e)||2==r&&Vs(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:gl(n,5);break;case 4:gl(n,10);break;case 3:gl(n,6);break;default:gl(n,2)}}function pl(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function gl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=dn(n.kb,n);t||(t=new zr("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||$u(t,"https"),ci(t)),function Fs(n,e){const t=new Vo;if(Mt.Image){const r=new Image;r.onload=ta($o,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ta($o,t,r,"TestLoadImage: error",!1,e),r.onabort=ta($o,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ta($o,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else U(2);n.G=0,n.l&&n.l.va(e),qu(n),yf(n)}function qu(n){if(n.G=0,n.la=[],n.l){const e=Zc(n.h);(0!=e.length||0!=n.i.length)&&(Vc(n.la,e),Vc(n.la,n.i),n.h.i.length=0,Xi(n.i),n.i.length=0),n.l.ua()}}function Xd(n,e,t){var r=t instanceof zr?Bi(t):new zr(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ro(r,r.m);else{var i=Mt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new zr(null,void 0);r&&$u(l,r),e&&(l.g=e),i&&ro(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Yt(r,t,e),Yt(r,"VER",n.ma),Ho(n,r),r}function ml(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(t&&n.Da&&!n.ra?new Cs({jb:!0}):n.ra)).Ka(n.H),e}function Da(){}function Go(){if(Cr&&!(10<=Number(jc)))throw Error("Environmental error: no available transport.")}function Bn(n,e){St.call(this),this.g=new ya(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!za(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!za(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ii(this)}function Yc(n){Dn.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function sc(){Fn.call(this),this.status=1}function Ii(n){this.g=n}(nt=er.prototype).Ka=function(n){this.L=n},nt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():is.g(),this.C=function gn(n){return n.h||(n.h=n.i())}(this.u?this.u:is),this.g.onreadystatechange=dn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void _f(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=Mt.FormData&&n instanceof Mt.FormData,!(0<=na(Ig,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_a(this),0<this.B&&((this.K=function Nr(n){return Cr&&function Ks(){return function Bc(n){var e=Gr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ql(String(Za)).split("."),t=ql("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Oi(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Oi(0==i[2].length,0==l[2].length)||Oi(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.qa,this)):this.A=ai(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){_f(this,l)}},nt.qa=function(){typeof wr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zn(this,"complete"),Zn(this,"abort"),ma(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ma(this,!0)),er.X.M.call(this)},nt.Ha=function(){this.s||(this.F||this.v||this.l?_r(this):this.fb())},nt.fb=function(){_r(this)},nt.aa=function(){try{return 2<oo(this)?this.g.status:-1}catch{return-1}},nt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},nt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),al(e)}},nt.Ea=function(){return this.m},nt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=ya.prototype).ma=8,nt.G=1,nt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Wr(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Ys(l),sn(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wi(this,i,e),Yt(t=Bi(this.F),"RID",n),Yt(t,"CVER",22),this.D&&Yt(t,"X-HTTP-Session-Id",this.D),Ho(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Di(l)))+"&"+e:this.o&&Ui(t,this.o,l)),Uo(this.h,i),this.Ya&&Yt(t,"TYPE","init"),this.O?(Yt(t,"$req",e),Yt(t,"SID","null"),i.Z=!0,tl(i,t,null)):tl(i,t,e),this.G=2}}else 3==this.G&&(n?ba(this,n):0==this.i.length||Gu(this.h)||ba(this))},nt.Ia=function(){if(this.u=null,hl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=we(dn(this.eb,this),n)}},nt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,U(10),va(this),hl(this))},nt.cb=function(){null!=this.v&&(this.v=null,va(this),Vs(this),U(19))},nt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),U(2)):(this.j.info("Failed to ping google.com"),U(1))},(nt=Da.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Ra=function(){},Go.prototype.g=function(n,e){return new Bn(n,e)},Ir(Bn,St),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;U(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Xd(n,null,n.V),cl(n)},Bn.prototype.close=function(){Ls(this.g)},Bn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Pn(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&cl(e)},Bn.prototype.M=function(){this.g.l=null,delete this.j,Ls(this.g),delete this.g,Bn.X.M.call(this)},Ir(Yc,Dn),Ir(sc,Fn),Ir(Ii,Da),Ii.prototype.xa=function(){Zn(this.g,"a")},Ii.prototype.wa=function(n){Zn(this.g,new Yc(n))},Ii.prototype.va=function(n){Zn(this.g,new sc(n))},Ii.prototype.ua=function(){Zn(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Bn.prototype.send=Bn.prototype.u,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,an.COMPLETE="complete",nn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",St.prototype.listen=St.prototype.N,er.prototype.listenOnce=er.prototype.O,er.prototype.getLastError=er.prototype.Oa,er.prototype.getLastErrorCode=er.prototype.Ea,er.prototype.getStatus=er.prototype.aa,er.prototype.getResponseJson=er.prototype.Sa,er.prototype.getResponseText=er.prototype.fa,er.prototype.send=er.prototype.da,er.prototype.setWithCredentials=er.prototype.Ka;var Zu=_i.createWebChannelTransport=function(){return new Go},ao=_i.getStatEventTarget=function(){return E()},Ku=_i.ErrorCode=lt,_l=_i.EventType=an,lo=_i.Event=ws,Qu=_i.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},or=_i.FetchXmlHttpFactory=Cs,oc=_i.WebChannel=nn,S=_i.XhrIo=er;const N="@firebase/firestore";class O{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}O.UNAUTHENTICATED=new O(null),O.GOOGLE_CREDENTIALS=new O("google-credentials-uid"),O.FIRST_PARTY=new O("first-party-uid"),O.MOCK_USER=new O("mock-user");let $="9.12.1";const te=new Fr.Yd("@firebase/firestore");function _e(){return te.logLevel}function re(n,...e){if(te.logLevel<=Fr.in.DEBUG){const t=e.map(Gt);te.debug(`Firestore (${$}): ${n}`,...t)}}function it(n,...e){if(te.logLevel<=Fr.in.ERROR){const t=e.map(Gt);te.error(`Firestore (${$}): ${n}`,...t)}}function Tt(n,...e){if(te.logLevel<=Fr.in.WARN){const t=e.map(Gt);te.warn(`Firestore (${$}): ${n}`,...t)}}function Gt(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ke(n="Unexpected state"){const e=`FIRESTORE (${$}) INTERNAL ASSERTION FAILED: `+n;throw it(e),new Error(e)}function ut(n,e){n||ke()}function Je(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class co{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(O.UNAUTHENTICATED))}shutdown(){}}class yl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ia{constructor(e){this.t=e,this.currentUser=O.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new zn,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const w=d;e.enqueueRetryable((0,Te.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},y=w=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new zn)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new co(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new O(e)}}class Yu{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=O.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Cg{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Yu(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(O.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $_{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.A=t.token,new Tg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eh(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Jc{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eh(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function vl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function G_(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Qn(0,0))}static max(){return new Pt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ac{constructor(e,t,r){void 0===t?t=0:t>e.length&&ke(),void 0===r?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ac.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ac?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends ac{construct(e,t,r){return new wn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const Sg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends ac{construct(e,t,r){return new jn(e,t,r)}static isValidIdentifier(e){return Sg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Le(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Le(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Le(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(r+=g,i++):(l(),i++)}if(l(),d)throw new Le(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(wn.fromString(e))}static fromName(e){return new et(wn.fromString(e).popFirst(5))}static empty(){return new et(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new wn(e.slice()))}}class Ea{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function vf(n){return n.fields.find(e=>2===e.kind)}function lc(n){return n.fields.filter(e=>2!==e.kind)}Ea.UNKNOWN_ID=-1;class bl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xc(0,yr.min())}}function Df(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new yr(i,et.empty(),e)}function wf(n){return new yr(n.readTime,n.key,-1)}class yr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yr(Pt.min(),et.empty(),-1)}static max(){return new yr(Pt.max(),et.empty(),-1)}}function If(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const th="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ng{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ca(n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Te.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==th)throw n;re("LocalStore","Unexpectedly lost primary lease")}),Ef.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,l=0,d=!1;e.forEach(g=>{++i,g.next(()=>{++l,d&&l===i&&t()},y=>r(y))}),d=!0,l===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const l=e.length,d=new Array(l);let g=0;for(let y=0;y<l;y++){const w=y;t(e[w]).next(A=>{d[w]=A,++g,g===l&&r(d)},A=>i(A))}})}static doWhile(e,t){return new de((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Ta{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new zn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ju(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=nh(r.target.error);this.P.reject(new Ju(e,i))}}static open(e,t,r,i){try{return new Ta(t,e.transaction(i,r))}catch(l){throw new Ju(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new W_(t)}}class Ts{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ts.D((0,Ht.z$)())&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),cc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ht.hl)())return!1;if(Ts.N())return!0;const e=(0,Ht.z$)(),t=Ts.D(e),r=0<t&&t<10,i=Ts.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Te.Z)(function*(){return t.db||(re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new Ju(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new Le(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Le(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Ju(e,g))},l.onupgradeneeded=d=>{re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Te.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.F(e);const y=Ta.open(l.db,e,d?"readonly":"readwrite",r),w=i(y).next(A=>(y.V(),A)).catch(A=>(y.abort(A),de.reject(A))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,A="FirebaseError"!==w.name&&g<3;if(re("SimpleDb","Transaction failed with error:",w.message,"Retrying:",A),l.close(),!A)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ag{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return cc(this.U.delete())}}class Ju extends Le{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dl(n){return"IndexedDbTransactionError"===n.name}class W_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),cc(r)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),cc(this.store.add(e))}get(e){return cc(this.store.get(e)).next(t=>(void 0===t&&(t=null),re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),cc(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),cc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,g)=>{l.push(g)}).next(()=>l)}{const i=this.store.getAll(r.range);return new de((l,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{l(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=l=>{const d=nh(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new de((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const y=new Ag(g),w=t(g.primaryKey,g.value,y);if(w instanceof de){const A=w.catch(k=>(y.done(),de.reject(k)));r.push(A)}y.isDone?i():null===y.G?g.continue():g.continue(y.G)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cc(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=nh(r.target.error);t(i)}})}let Cf=!1;function nh(n){const e=Ts.D((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cf||(Cf=!0,setTimeout(()=>{throw r},0)),r}}return n}class z_{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Dl(r)?re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ca(r)}yield t.nt(6e4)}))}}class bb{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return de.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return re("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(g=>{i-=g,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(g=>(re("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=wf(l);If(d,r)>0&&(r=d)}),new yr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Xu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $i(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ar.at=-1;class ir{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Kr.RED,this.left=i??Kr.EMPTY,this.right=l??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Kr(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Kr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tf(this.data.getIterator())}getIteratorFrom(e){return new Tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Un(this.comparator);return t.data=e,t}}class Tf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ed(n){return n.hasNext()?n.getNext():void 0}class Hi{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Hi([])}unionWith(e){let t=new Un(jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(n){if(ut(!!n),"string"==typeof n){let e=0;const t=Db.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ar(n.seconds),nanos:ar(n.nanos)}}function ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function dc(n){return"string"==typeof n?Qr.fromBase64String(n):Qr.fromUint8Array(n)}function rh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ih(n){const e=n.mapValue.fields.__previous_value__;return rh(e)?ih(e):e}function eu(n){const e=Sa(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class sh{constructor(e,t,r,i,l,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class uo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}function Na(n){return null==n}function nd(n){return 0===n&&1/n==-1/0}function lr(n){return"number"==typeof n&&Number.isInteger(n)&&!nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Bs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rd={nullValue:"NULL_VALUE"};function Aa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rh(n)?4:ch(n)?9007199254740991:10:ke()}function js(n,e){if(n===e)return!0;const t=Aa(n);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eu(n).isEqual(eu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Sa(r.timestampValue),d=Sa(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,dc(n.bytesValue).isEqual(dc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ar(r.geoPointValue.latitude)===ar(i.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ar(r.integerValue)===ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=ar(r.doubleValue),d=ar(i.doubleValue);return l===d?nd(l)===nd(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return vl(n.arrayValue.values||[],e.arrayValue.values||[],js);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(Xu(l)!==Xu(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!js(l[g],d[g])))return!1;return!0}(n,e);default:return ke()}var i}function hc(n,e){return void 0!==(n.values||[]).find(t=>js(t,e))}function Ma(n,e){if(n===e)return 0;const t=Aa(n),r=Aa(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=ar(i.integerValue||i.doubleValue),g=ar(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return Sf(n.timestampValue,e.timestampValue);case 4:return Sf(eu(n),eu(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=dc(i),g=dc(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),g=l.split("/");for(let y=0;y<d.length&&y<g.length;y++){const w=Zt(d[y],g[y]);if(0!==w)return w}return Zt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Zt(ar(i.latitude),ar(l.latitude));return 0!==d?d:Zt(ar(i.longitude),ar(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],g=l.values||[];for(let y=0;y<d.length&&y<g.length;++y){const w=Ma(d[y],g[y]);if(w)return w}return Zt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Bs.mapValue&&l===Bs.mapValue)return 0;if(i===Bs.mapValue)return 1;if(l===Bs.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),y=l.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const k=Zt(g[A],w[A]);if(0!==k)return k;const H=Ma(d[g[A]],y[w[A]]);if(0!==H)return H}return Zt(g.length,w.length)}(n.mapValue,e.mapValue);default:throw ke()}}function Sf(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Sa(n),r=Sa(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function tu(n){return oh(n)}function oh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Sa(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?dc(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=oh(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of i)d?d=!1:l+=",",l+=`${g}:${oh(r.fields[g])}`;return l+"}"}(n.mapValue):ke();var e}function Wo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mg(n){return!!n&&"integerValue"in n}function zo(n){return!!n&&"arrayValue"in n}function ah(n){return!!n&&"nullValue"in n}function lh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function id(n){return!!n&&"mapValue"in n}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $i(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ch(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uh(n){return"nullValue"in n?rd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wo(uo.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ke()}function dh(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wo(uo.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bs:ke()}function sd(n,e){const t=Ma(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function q_(n,e){const t=Ma(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!id(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=jn.emptyPath(),r={},i=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=g.popLast()}d?r[g.lastSegment()]=nu(d):i.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());id(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return js(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$i(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Vr(nu(this.value))}}function hh(n){const e=[];return $i(n.fields,(t,r)=>{const i=new jn([t]);if(id(r)){const l=hh(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Hi(e)}class on{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new on(e,0,Pt.min(),Pt.min(),Vr.empty(),0)}static newFoundDocument(e,t,r){return new on(e,1,t,Pt.min(),r,0)}static newNoDocument(e,t){return new on(e,2,t,Pt.min(),Vr.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Pt.min(),Vr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ru{constructor(e,t=null,r=[],i=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=g,this.ht=null}}function xa(n,e=null,t=[],r=[],i=null,l=null,d=null){return new ru(n,e,t,r,i,l,d)}function fc(n){const e=Je(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+tu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Na(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>tu(r)).join(",")),e.ht=t}return e.ht}function qo(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!xf(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!js(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xg(n.startAt,e.startAt)&&xg(n.endAt,e.endAt)}function fh(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pc(n,e){return n.filters.filter(t=>t instanceof Br&&t.field.isEqual(e))}function ad(n,e,t){let r=rd,i=!0;for(const l of pc(n,e)){let d=rd,g=!0;switch(l.op){case"<":case"<=":d=uh(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=rd}sd({value:r,inclusive:i},{value:d,inclusive:g})<0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];sd({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Gi(n,e,t){let r=Bs,i=!0;for(const l of pc(n,e)){let d=Bs,g=!0;switch(l.op){case">=":case">":d=dh(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=Bs}q_({value:r,inclusive:i},{value:d,inclusive:g})>0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];q_({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Br extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Nf(e,t,r):"array-contains"===t?new jr(e,r):"in"===t?new Af(e,r):"not-in"===t?new Mf(e,r):"array-contains-any"===t?new Q_(e,r):new Br(e,t,r)}static lt(e,t,r){return"in"===t?new Z_(e,r):new K_(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ma(t,this.value)):null!==t&&Aa(this.value)===Aa(t)&&this.ft(Ma(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ke()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Nf extends Br{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.ft(t)}}class Z_ extends Br{constructor(e,t){super(e,"in",t),this.keys=ph(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class K_ extends Br{constructor(e,t){super(e,"not-in",t),this.keys=ph(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ph(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class jr extends Br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zo(t)&&hc(t.arrayValue,this.value)}}class Af extends Br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hc(this.value.arrayValue,t)}}class Mf extends Br{constructor(e,t){super(e,"not-in",t)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hc(this.value.arrayValue,t)}}class Q_ extends Br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}class Ei{constructor(e,t){this.position=e,this.inclusive=t}}class Us{constructor(e,t="asc"){this.field=e,this.dir=t}}function xf(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iu(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?et.comparator(et.fromName(d.referenceValue),t.key):Ma(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function xg(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!js(n.position[t],e.position[t]))return!1;return!0}class $s{constructor(e,t=null,r=[],i=[],l=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function Y_(n,e,t,r,i,l,d,g){return new $s(n,e,t,r,i,l,d,g)}function su(n){return new $s(n)}function ou(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Rf(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _(n){for(const e of n.filters)if(e.dt())return e.field;return null}function f(n){return null!==n.collectionGroup}function m(n){const e=Je(n);if(null===e._t){e._t=[];const t=_(e),r=Rf(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Us(t)),e._t.push(new Us(jn.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Us(jn.keyField(),l))}}}return e._t}function b(n){const e=Je(n);if(!e.wt)if("F"===e.limitType)e.wt=xa(e.path,e.collectionGroup,m(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of m(e))t.push(new Us(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ei(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ei(e.startAt.position,e.startAt.inclusive):null;e.wt=xa(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function x(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function L(n,e){return qo(b(n),b(e))&&n.limitType===e.limitType}function Y(n){return`${fc(b(n))}|lt:${n.limitType}`}function Ee(n){return`Query(target=${function od(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${tu(r.value)}`;var r}).join(", ")}]`),Na(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>tu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>tu(t)).join(",")),`Target(${e})`}(b(n))}; limitType=${n.limitType})`}function qe(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const g=iu(i,l,d);return i.inclusive?g<=0:g<0}(t.startAt,m(t),r)||t.endAt&&!function(i,l,d){const g=iu(i,l,d);return i.inclusive?g>=0:g>0}(t.endAt,m(t),r)));var t,r}function gt(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function At(n){return(e,t)=>{let r=!1;for(const i of m(n)){const l=Nt(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function Nt(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,l,d){const g=l.data.field(i),y=d.data.field(i);return null!==g&&null!==y?Ma(g,y):ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}function vr(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function os(n){return{integerValue:""+n}}function ld(n,e){return lr(e)?os(e):vr(n,e)}class cd{constructor(){this._=void 0}}function ud(n,e,t){return n instanceof gc?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof mc?Og(n,e):n instanceof Ra?gh(n,e):function(r,i){const l=Of(r,i),d=dd(l)+dd(r.yt);return Mg(l)&&Mg(r.yt)?os(d):vr(r.It,d)}(n,e)}function Rg(n,e,t){return n instanceof mc?Og(n,e):n instanceof Ra?gh(n,e):t}function Of(n,e){return n instanceof Il?Mg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gc extends cd{}class mc extends cd{constructor(e){super(),this.elements=e}}function Og(n,e){const t=kf(e);for(const r of n.elements)t.some(i=>js(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ra extends cd{constructor(e){super(),this.elements=e}}function gh(n,e){let t=kf(e);for(const r of n.elements)t=t.filter(i=>!js(i,r));return{arrayValue:{values:t}}}class Il extends cd{constructor(e,t){super(),this.It=e,this.yt=t}}function dd(n){return ar(n.integerValue||n.doubleValue)}function kf(n){return zo(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mh{constructor(e,t){this.field=e,this.transform=t}}class VE{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kg{}function wb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vh(n.key,tr.none()):new yh(n.key,n.data,tr.none());{const t=n.data,r=Vr.empty();let i=new Un(jn.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new _c(n.key,r,new Hi(i.toArray()),tr.none())}}function BE(n,e,t){n instanceof yh?function(r,i,l){const d=r.value.clone(),g=Eb(r.fieldTransforms,i,l.transformResults);d.setAll(g),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof _c?function(r,i,l){if(!au(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=Eb(r.fieldTransforms,i,l.transformResults),g=i.data;g.setAll(Pg(r)),g.setAll(d),i.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _h(n,e,t,r){return n instanceof yh?function(i,l,d,g){if(!au(i.precondition,l))return d;const y=i.value.clone(),w=Cb(i.fieldTransforms,g,l);return y.setAll(w),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof _c?function(i,l,d,g){if(!au(i.precondition,l))return d;const y=Cb(i.fieldTransforms,g,l),w=l.data;return w.setAll(Pg(i)),w.setAll(y),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,au(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function jE(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Of(r.transform,i||null);null!=l&&(null===t&&(t=Vr.empty()),t.set(r.field,l))}return t||null}function Ib(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vl(t,r,(i,l)=>function J_(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof mc&&r instanceof mc||t instanceof Ra&&r instanceof Ra?vl(t.elements,r.elements,js):t instanceof Il&&r instanceof Il?js(t.yt,r.yt):t instanceof gc&&r instanceof gc);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class yh extends kg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _c extends kg{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Pg(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Eb(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,g=e.data.field(l.field);r.set(l.field,Rg(d,g,t[i]))}return r}function Cb(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,ud(l,d,e))}return r}class vh extends kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fg extends kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UE{constructor(e){this.count=e}}var Ur,$t;function Lg(n){switch(n){default:return ke();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function X_(n){if(void 0===n)return it("GRPC error has no .code"),be.UNKNOWN;switch(n){case Ur.OK:return be.OK;case Ur.CANCELLED:return be.CANCELLED;case Ur.UNKNOWN:return be.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return be.INTERNAL;case Ur.UNAVAILABLE:return be.UNAVAILABLE;case Ur.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Ur.NOT_FOUND:return be.NOT_FOUND;case Ur.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Ur.ABORTED:return be.ABORTED;case Ur.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Ur.DATA_LOSS:return be.DATA_LOSS;default:return ke()}}($t=Ur||(Ur={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class El{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return wl(this.inner)}size(){return this.innerSize}}const as=new ir(et.comparator);function Ci(){return as}const ey=new ir(et.comparator);function Pf(...n){let e=ey;for(const t of n)e=e.insert(t.key,t);return e}function Tb(n){let e=ey;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oa(){return bh()}function Sb(){return bh()}function bh(){return new El(n=>n.toString(),(n,e)=>n.isEqual(e))}const $E=new ir(et.comparator),Nb=new Un(et.comparator);function rn(...n){let e=Nb;for(const t of n)e=e.add(t);return e}const HE=new Un(Zt);function Ff(){return HE}class Dh{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dh(Pt.min(),i,Ff(),Ci(),rn())}}class wh{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wh(r,t,rn(),rn(),rn())}}class yc{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class Cl{constructor(e,t){this.targetId=e,this.At=t}}class Ab{constructor(e,t,r=Qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Mb{constructor(){this.Rt=0,this.bt=ty(),this.Pt=Qr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=rn(),t=rn(),r=rn();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new wh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=ty()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class hS{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ci(),this.qt=GE(),this.Kt=new Un(Zt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(fh(l))if(0===r){const d=new et(l.path);this.jt(t,d,on.newNoDocument(d,Pt.min()))}else ut(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const g=this.Xt(d);if(g){if(l.current&&fh(g.target)){const y=new et(g.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,on.newNoDocument(y,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=rn();this.qt.forEach((l,d)=>{let g=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new Dh(e,t,this.Kt,this.Ut,r);return this.Ut=Ci(),this.qt=GE(),this.Kt=new Un(Zt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Mb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Un(Zt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||re("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Mb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function GE(){return new ir(et.comparator)}function ty(){return new ir(et.comparator)}const fS={asc:"ASCENDING",desc:"DESCENDING"},Tl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ny{constructor(e,t){this.databaseId=e,this.gt=t}}function hd(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xb(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Rb(n,e){return hd(n,e.toTimestamp())}function Ti(n){return ut(!!n),Pt.fromTimestamp(function(e){const t=Sa(e);return new Qn(t.seconds,t.nanos)}(n))}function fd(n,e){return(t=n,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ob(n){const e=wn.fromString(n);return ut(cy(e)),e}function Lf(n,e){return fd(n.databaseId,e.path)}function Zo(n,e){const t=Ob(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(pd(t))}function Vf(n,e){return fd(n.databaseId,e)}function ry(n){const e=Ob(n);return 4===e.length?wn.emptyPath():pd(e)}function Vg(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pd(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bg(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function iy(n,e,t){const r=Zo(n,e.name),i=Ti(e.updateTime),l=new Vr({mapValue:{fields:e.fields}}),d=on.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Bf(n,e){let t;if(e instanceof yh)t={update:Bg(n,e.key,e.value)};else if(e instanceof vh)t={delete:Lf(n,e.key)};else if(e instanceof _c)t={update:Bg(n,e.key,e.data),updateMask:gd(e.fieldMask)};else{if(!(e instanceof Fg))return ke();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof gc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ra)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Il)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw ke()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Rb(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ke()),t;var i}function oy(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?tr.updateTime(Ti(i.updateTime)):void 0!==i.exists?tr.exists(i.exists):tr.none():tr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let g=null;"setToServerValue"in d?(ut("REQUEST_TIME"===d.setToServerValue),g=new gc):"appendMissingElements"in d?g=new mc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Ra(d.removeAllFromArray.values||[]):"increment"in d?g=new Il(l,d.increment):ke();const y=jn.fromServerFormat(d.fieldPath);return new mh(y,g)}(n,i)):[];var i;if(e.update){const i=Zo(n,e.update.name),l=new Vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Hi((e.updateMask.fieldPaths||[]).map(w=>jn.fromServerFormat(w)));return new _c(i,l,d,t,r)}return new yh(i,l,t,r)}if(e.delete){const i=Zo(n,e.delete);return new vh(i,t)}if(e.verify){const i=Zo(n,e.verify);return new Fg(i,t)}return ke()}function kb(n,e){return{documents:[Vf(n,e.path)]}}function ay(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(A=>function(k){if("=="===k.op){if(lh(k.value))return{unaryFilter:{field:Ih(k.field),op:"IS_NAN"}};if(ah(k.value))return{unaryFilter:{field:Ih(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(lh(k.value))return{unaryFilter:{field:Ih(k.field),op:"IS_NOT_NAN"}};if(ah(k.value))return{unaryFilter:{field:Ih(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ih(k.field),op:ly(k.op),value:k.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(w=>{return{field:Ih((A=w).field),direction:Lb(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.gt||Na(w)?w:{value:w});var w,g,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Pb(n){let e=ry(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=jg(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new Us(Eh((k=A).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let g=null;t.limit&&(g=function(A){let k;return k="object"==typeof A?A.value:A,Na(k)?null:k}(t.limit));let y=null;var A;t.startAt&&(y=new Ei((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new Ei(A.values||[],!A.before)}(t.endAt)),Y_(e,i,d,l,g,"F",y,w)}function jg(n){return n?void 0!==n.unaryFilter?[Bb(n)]:void 0!==n.fieldFilter?[Vb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>jg(e)).reduce((e,t)=>e.concat(t)):ke():[]}function Lb(n){return fS[n]}function ly(n){return Tl[n]}function Ih(n){return{fieldPath:n.canonicalString()}}function Eh(n){return jn.fromServerFormat(n.fieldPath)}function Vb(n){return Br.create(Eh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}function Bb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Eh(n.unaryFilter.field);return Br.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eh(n.unaryFilter.field);return Br.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Eh(n.unaryFilter.field);return Br.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Eh(n.unaryFilter.field);return Br.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}function gd(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cy(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZE(e)),e=qE(n.get(t),e);return ZE(e)}function qE(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function ZE(n){return n+"\x01\x01"}function ho(n){const e=n.length;if(ut(e>=2),2===e)return ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&ke(),n.charAt(d+1)){case"\x01":const g=n.substring(l,d);let y;0===i.length?y=g:(i+=g,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:ke()}l=d+2}return new wn(r)}const jb=["userId","batchId"];function jf(n,e){return[n,ls(e)]}function uy(n,e,t){return[n,ls(e),t]}const Ub={},dy=["prefixPath","collectionGroup","readTime","documentId"],$b=["prefixPath","collectionGroup","documentId"],Ug=["collectionGroup","readTime","prefixPath","documentId"],$g=["canonicalId","targetId"],Hb=["targetId","path"],hy=["path","targetId"],Gb=["collectionId","parent"],fy=["indexId","uid"],Uf=["uid","sequenceNumber"],KE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wb=["indexId","uid","orderedDocumentKey"],QE=["userId","collectionPath","documentId"],YE=["userId","collectionPath","largestBatchId"],zb=["userId","collectionGroup","largestBatchId"],Hg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qb=[...Hg,"documentOverlays"],JE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],py=JE,XE=[...py,"indexConfiguration","indexState","indexEntries"];class Gg extends Ng{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Si(n,e){const t=Je(n);return Ts.M(t.ie,e)}class gy{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&BE(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_h(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_h(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Sb();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(i.key)?null:g;const y=wb(d,g);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Pt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(t,r)=>Ib(t,r))&&vl(this.baseMutations,e.baseMutations,(t,r)=>Ib(t,r))}}class fo{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=$E;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new fo(e,t,r,i)}}class my{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vc{constructor(e,t,r,i,l=Pt.min(),d=Pt.min(),g=Qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Zb{constructor(e){this.re=e}}function Kb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Lf(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:hd(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:lu(e.version)};else{if(!e.isUnknownDocument())return ke();r.unknownDocument={path:t.path.toArray(),version:lu(e.version)}}var i,l;return r}function Wg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function lu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function md(n){const e=new Qn(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function _d(n,e){const t=(e.baseMutations||[]).map(l=>oy(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>oy(n.re,l)),i=Qn.fromMillis(e.localWriteTimeMs);return new gy(e.batchId,i,t,r)}function $f(n){const e=md(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?md(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(ut(1===(i=n.query).documents.length),r=b(su(ry(i.documents[0])))):r=b(Pb(n.query)),new vc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Qr.fromBase64String(n.resumeToken))}function Jt(n,e){const t=lu(e.snapshotVersion),r=lu(e.lastLimboFreeSnapshotVersion);let i;i=fh(e.target)?kb(n.re,e.target):ay(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zg(n){const e=Pb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?x(e,e.limit,"L"):e}function qg(n,e){return new my(e.largestBatchId,oy(n.re,e.overlayMutation))}function _y(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function Qb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:lu(r.readTime),documentKey:ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class tC{getBundleMetadata(e,t){return yy(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:md(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return yy(e).put({bundleId:(r=t).id,createTime:lu(Ti(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Yb(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:zg(i.bundledQuery),readTime:md(i.readTime)};var i})}saveNamedQuery(e,t){return Yb(e).put({name:(r=t).name,readTime:lu(Ti(r.readTime)),bundledQuery:r.bundledQuery});var r}}function yy(n){return Si(n,"bundles")}function Yb(n){return Si(n,"namedQueries")}class Hf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Hf(e,t.uid||"")}getOverlay(e,t){return Gf(e).get(_y(this.userId,t)).next(r=>r?qg(this.It,r):null)}getOverlays(e,t){const r=Oa();return de.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const g=new my(t,d);i.push(this.ue(e,g))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(ls(d.getCollectionPath())));const l=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Gf(e).Y("collectionPathOverlayIndex",g))}),de.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Oa(),l=ls(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Gf(e).W("collectionPathOverlayIndex",d).next(g=>{for(const y of g){const w=qg(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Oa();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gf(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,w,A)=>{const k=qg(this.It,w);l.size()<i||k.largestBatchId===d?(l.set(k.getKey(),k),d=k.largestBatchId):A.done()}).next(()=>l)}ue(e,t){return Gf(e).put(function(r,i,l){const[d,g,y]=_y(i,l.mutation.key);return{userId:i,collectionPath:g,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Bf(r.re,l.mutation)}}(this.It,this.userId,t))}}function Gf(n){return Si(n,"documentOverlays")}class yd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ar(e.integerValue));else if("doubleValue"in e){const r=ar(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),nd(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(dc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?ch(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ke()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),et.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function nC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Zg(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=nC(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}yd.Te=new yd;class Jb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=Zg(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=Zg(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class cu{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class rC{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class vd{constructor(){this.Be=new Jb,this.Le=new cu(this.Be),this.Ue=new rC(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class bc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new bc(this.indexId,this.documentKey,this.arrayValue,r)}}function bd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Xb(n.arrayValue,e.arrayValue),0!==t?t:(t=Xb(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function Xb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class iC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=vf(e);if(void 0!==t&&!this.ze(t))return!1;const r=lc(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sC{constructor(){this.Ye=new vy}addToCollectionParentIndex(e,t){return this.Ye.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(yr.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class vy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Un(wn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un(wn.comparator)).toArray()}}const Wf=new Uint8Array(0);class oC{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new vy,this.Ze=new El(r=>fc(r),(r,i)=>qo(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:ls(i)};return eD(e).put(l)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[G_(t),""],!1,!0);return eD(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(ho(d.parent))}return r})}addFieldIndex(e,t){const r=Kg(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=Ch(e);return l.next(g=>{d.put(Qb(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Kg(e),i=Ch(e),l=po(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=po(e);let i=!0;const l=new Map;return de.forEach(this.tn(t),d=>this.en(e,d).next(g=>{i&&(i=!!g),l.set(d,g)})).next(()=>{if(i){let d=rn();const g=[];return de.forEach(l,(y,w)=>{var A;re("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Dt=>`${Dt.fieldPath}:${Dt.kind}`).join(",")}`} to execute ${fc(t)}`);const k=function(Dt,ht){const ct=vf(ht);if(void 0===ct)return null;for(const mt of pc(Dt,ct.fieldPath))switch(mt.op){case"array-contains-any":return mt.value.arrayValue.values||[];case"array-contains":return[mt.value]}return null}(w,y),H=function(Dt,ht){const ct=new Map;for(const mt of lc(ht))for(const en of pc(Dt,mt.fieldPath))switch(en.op){case"==":case"in":ct.set(mt.fieldPath.canonicalString(),en.value);break;case"not-in":case"!=":return ct.set(mt.fieldPath.canonicalString(),en.value),Array.from(ct.values())}return null}(w,y),K=function(Dt,ht){const ct=[];let mt=!0;for(const en of lc(ht)){const xn=0===en.kind?ad(Dt,en.fieldPath,Dt.startAt):Gi(Dt,en.fieldPath,Dt.startAt);ct.push(xn.value),mt&&(mt=xn.inclusive)}return new Ei(ct,mt)}(w,y),ue=function(Dt,ht){const ct=[];let mt=!0;for(const en of lc(ht)){const xn=0===en.kind?Gi(Dt,en.fieldPath,Dt.endAt):ad(Dt,en.fieldPath,Dt.endAt);ct.push(xn.value),mt&&(mt=xn.inclusive)}return new Ei(ct,mt)}(w,y),Ce=this.nn(y,w,K),Me=this.nn(y,w,ue),dt=this.sn(y,w,H),pt=this.rn(y.indexId,k,Ce,K.inclusive,Me,ue.inclusive,dt);return de.forEach(pt,Dt=>r.J(Dt,t.limit).next(ht=>{ht.forEach(ct=>{const mt=et.fromSegments(ct.documentKey);d.has(mt)||(d=d.add(mt),g.push(mt))})}))}).next(()=>g)}return de.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,g){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),w=y/(null!=t?t.length:1),A=[];for(let k=0;k<y;++k){const H=t?this.on(t[k/w]):Wf,K=this.un(e,H,r[k%w],i),ue=this.cn(e,H,l[k%w],d),Ce=g.map(Me=>this.un(e,H,Me,!0));A.push(...this.createRange(K,ue,Ce))}return A}un(e,t,r,i){const l=new bc(e,et.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new bc(e,et.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new iC(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const g of l)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return de.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let g=new Un(jn.comparator),y=!1;for(const w of d.filters){const A=w;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:g=g.add(A.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new vd;for(const i of lc(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);yd.Te.ce(l,d)}return r.$e()}on(e){const t=new vd;return yd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new vd;return yd.Te.ce(Wo(this.databaseId,t),r.qe(function(i){const l=lc(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new vd);let l=0;for(const d of lc(e)){const g=r[l++];for(const y of i)if(this.ln(t,d.fieldPath)&&zo(g))i=this.fn(i,d,g);else{const w=y.qe(d.kind);yd.Te.ce(g,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const g of i){const y=new vd;y.seed(g.$e()),yd.Te.ce(d,y.qe(t.kind)),l.push(y)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Br&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Kg(e),i=Ch(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return de.forEach(l,g=>i.get([g.indexId,this.uid]).next(y=>{d.push(function(w,A){const k=A?new Xc(A.sequenceNumber,new yr(md(A.readTime),new et(ho(A.documentKey)),A.largestBatchId)):Xc.empty(),H=w.fields.map(([K,ue])=>new bl(jn.fromServerFormat(K),ue));return new Ea(w.indexId,w.collectionGroup,H,k)}(g,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Kg(e),l=Ch(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>de.forEach(g,y=>l.put(Qb(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),de.forEach(g,y=>this.wn(e,i,y).next(w=>{const A=this.mn(l,y);return w.isEqual(A)?de.resolve():this.gn(e,l,y,w,A)}))))})}yn(e,t,r,i){return po(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return po(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=po(e);let l=new Un(bd);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{l=l.add(new bc(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}mn(e,t){let r=new Un(bd);const i=this.an(t,e);if(null==i)return r;const l=vf(t);if(null!=l){const d=e.data.field(l.fieldPath);if(zo(d))for(const g of d.arrayValue.values||[])r=r.add(new bc(t.indexId,e.key,this.on(g),i))}else r=r.add(new bc(t.indexId,e.key,Wf,i));return r}gn(e,t,r,i,l){re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,y,w,A,k){const H=g.getIterator(),K=y.getIterator();let ue=ed(H),Ce=ed(K);for(;ue||Ce;){let Me=!1,dt=!1;if(ue&&Ce){const pt=w(ue,Ce);pt<0?dt=!0:pt>0&&(Me=!0)}else null!=ue?dt=!0:Me=!0;Me?(A(Ce),Ce=ed(K)):dt?(k(ue),ue=ed(H)):(ue=ed(H),Ce=ed(K))}}(i,l,bd,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),de.waitFor(d)}_n(e){let t=1;return Ch(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>bd(d,g)).filter((d,g,y)=>!g||0!==bd(d,y[g-1]));const i=[];i.push(e);for(const d of r){const g=bd(d,e),y=bd(d,t);if(0===g)i[0]=e.Ke();else if(g>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Wf,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Wf,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zf)}getMinOffset(e,t){return de.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||ke())).next(zf)}}function eD(n){return Si(n,"collectionParents")}function po(n){return Si(n,"indexEntries")}function Kg(n){return Si(n,"indexConfiguration")}function Ch(n){return Si(n,"indexState")}function zf(n){ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;If(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new yr(e.readTime,e.documentKey,t)}const tD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function by(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:d},(A,k,H)=>(g++,H.delete()));l.push(y.next(()=>{ut(1===g)}));const w=[];for(const A of t.mutations){const k=uy(e,A.key.path,t.batchId);l.push(i.delete(k)),w.push(A.key)}return de.waitFor(l).next(()=>w)}function Qg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ke();e=n.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class Yg{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){ut(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Yg(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Dd(e),d=uu(e);return d.add({}).next(g=>{ut("number"==typeof g);const y=new gy(g,t,r,i),w=function(H,K,ue){const Ce=ue.baseMutations.map(dt=>Bf(H.re,dt)),Me=ue.mutations.map(dt=>Bf(H.re,dt));return{userId:K,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:Ce,mutations:Me}}(this.It,this.userId,y),A=[];let k=new Un((H,K)=>Zt(H.canonicalString(),K.canonicalString()));for(const H of i){const K=uy(this.userId,H.key.path,g);k=k.add(H.key.path.popLast()),A.push(d.put(w)),A.push(l.put(K,Ub))}return k.forEach(H=>{A.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),de.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return uu(e).get(t).next(r=>r?(ut(r.userId===this.userId),_d(this.It,r)):null)}Tn(e,t){return this.In[t]?de.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return uu(e).Z({index:"userMutationsIndex",range:i},(d,g,y)=>{g.userId===this.userId&&(ut(g.batchId>=r),l=_d(this.It,g)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(e).W("userMutationsIndex",t).next(r=>r.map(i=>_d(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=jf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Dd(e).Z({range:i},(d,g,y)=>{const[w,A,k]=d,H=ho(A);if(w===this.userId&&t.path.isEqual(H))return uu(e).get(k).next(K=>{if(!K)throw ke();ut(K.userId===this.userId),l.push(_d(this.It,K))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un(Zt);const i=[];return t.forEach(l=>{const d=jf(this.userId,l.path),g=IDBKeyRange.lowerBound(d),y=Dd(e).Z({range:g},(w,A,k)=>{const[H,K,ue]=w,Ce=ho(K);H===this.userId&&l.path.isEqual(Ce)?r=r.add(ue):k.done()});i.push(y)}),de.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=jf(this.userId,r),d=IDBKeyRange.lowerBound(l);let g=new Un(Zt);return Dd(e).Z({range:d},(y,w,A)=>{const[k,H,K]=y,ue=ho(H);k===this.userId&&r.isPrefixOf(ue)?ue.length===i&&(g=g.add(K)):A.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(uu(e).get(l).next(d=>{if(null===d)throw ke();ut(d.userId===this.userId),r.push(_d(this.It,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return by(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Dd(e).Z({range:r},(l,d,g)=>{if(l[0]===this.userId){const y=ho(l[1]);i.push(y)}else g.done()}).next(()=>{ut(0===i.length)})})}containsKey(e,t){return nD(e,this.userId,t)}Rn(e){return rD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nD(n,e,t){const r=jf(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Dd(n).Z({range:l,X:!0},(g,y,w)=>{const[A,k,H]=g;A===e&&k===i&&(d=!0),w.done()}).next(()=>d)}function uu(n){return Si(n,"mutations")}function Dd(n){return Si(n,"documentMutations")}function rD(n){return Si(n,"mutationQueues")}class du{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new du(0)}static vn(){return new du(-1)}}class iD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new du(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Pt.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ut(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return hu(e).Z((d,g)=>{const y=$f(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>de.waitFor(l)).next(()=>i)}forEachTarget(e,t){return hu(e).Z((r,i)=>{const l=$f(i);t(l)})}Vn(e){return Th(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}Sn(e,t){return Th(e).put("targetGlobalKey",t)}Dn(e,t){return hu(e).put(Jt(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return hu(e).Z({range:i,index:"queryTargetsIndex"},(d,g,y)=>{const w=$f(g);qo(t,w.target)&&(l=w,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=go(e);return t.forEach(d=>{const g=ls(d.path);i.push(l.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=go(e);return de.forEach(t,l=>{const d=ls(l.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=go(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=go(e);let l=rn();return i.Z({range:r,X:!0},(d,g,y)=>{const w=ho(d[1]),A=new et(w);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=ls(t.path),i=IDBKeyRange.bound([r],[G_(r)],!1,!0);let l=0;return go(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,g],y,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}se(e,t){return hu(e).get(t).next(r=>r?$f(r):null)}}function hu(n){return Si(n,"targets")}function Th(n){return Si(n,"targetGlobal")}function go(n){return Si(n,"targetDocuments")}function sD([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class aC{constructor(e){this.xn=e,this.buffer=new Un(sD),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();sD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sh{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Dl(r)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ca(r)}yield t.Fn(3e5)}))}}class oD{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Ar.at);const r=new aC(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(tD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tD):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,g,y,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),i=this.params.maximumSequenceNumbersToCollect):i=k,d=Date.now(),this.nthSequenceNumber(e,i))).next(k=>(r=k,g=Date.now(),this.removeTargets(e,r,t))).next(k=>(l=k,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(w=Date.now(),_e()<=Fr.in.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(y-g)+`ms\n\tRemoved ${k} documents in `+(w-y)+`ms\nTotal Duration: ${w-A}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:k})))}}class aD{constructor(e,t){this.db=e,this.garbageCollector=new oD(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return wd(e,r)}removeReference(e,t,r){return wd(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return wd(e,t)}Gn(e,t){return function(r,i){let l=!1;return rD(r).tt(d=>nD(r,d,i).next(g=>(g&&(l=!0),de.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,g)=>{if(g<=t){const y=this.Gn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Pt.min()),go(e).delete([0,ls(d.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return wd(e,t)}Kn(e,t){const r=go(e);let i,l=Ar.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:y,sequenceNumber:w})=>{0===d?(l!==Ar.at&&t(new et(ho(i)),l),l=w,i=y):l=Ar.at}).next(()=>{l!==Ar.at&&t(new et(ho(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wd(n,e){return go(n).put((r=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:r}));var r}class Ko{constructor(){this.changes=new El(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lD{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Dc(e).put(r)}removeEntry(e,t,r){return Dc(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Wg(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=on.newInvalidDocument(t);return Dc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Nh(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:on.newInvalidDocument(t)};return Dc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Nh(t))},(i,l)=>{r={document:this.jn(t,l),size:Qg(l)}}).next(()=>r)}getEntries(e,t){let r=Ci();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Ci(),i=new ir(et.comparator);return this.zn(e,t,(l,d)=>{const g=this.jn(l,d);r=r.insert(l,g),i=i.insert(l,Qg(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return de.resolve();let i=new Un(lC);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(Nh(i.first()),Nh(i.last())),d=i.getIterator();let g=d.getNext();return Dc(e).Z({index:"documentKeyIndex",range:l},(y,w,A)=>{const k=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&lC(g,k)<0;)r(g,null),g=d.getNext();g&&g.isEqual(k)&&(r(g,w),g=d.hasNext()?d.getNext():null),g?A.j(Nh(g)):A.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Wg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dc(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let g=Ci();for(const y of d){const w=this.jn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(e,t,r,i){let l=Ci();const d=Jg(t,r),g=Jg(t,yr.max());return Dc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(y,w,A)=>{const k=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(k.key,k),l.size===i&&A.done()}).next(()=>l)}newChangeBuffer(e){return new Dy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Sl(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}Qn(e,t){return Sl(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function eC(n,e){let t;if(e.document)t=iy(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=md(e.noDocument.readTime);t=on.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ke();{const r=et.fromSegments(e.unknownDocument.path),i=md(e.unknownDocument.version);t=on.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Qn(r[0],r[1]);return Pt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return on.newInvalidDocument(e)}}function cD(n){return new lD(n)}class Dy extends Ko{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new El(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Un((l,d)=>Zt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,g.readTime)),d.isValidDocument()){const y=Kb(this.Yn.It,d);i=i.add(l.path.popLast()),r+=Qg(y)-g.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=g.size,this.trackRemovals){const y=Kb(this.Yn.It,d.convertToNoDocument(Pt.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function Sl(n){return Si(n,"remoteDocumentGlobal")}function Dc(n){return Si(n,"remoteDocumentsV14")}function Nh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jg(n,e){const t=e.documentKey.path.toArray();return[n,Wg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function lC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Zt(t[l],r[l]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class uD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cC{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&_h(r.mutation,i,Hi.empty(),Qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,rn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=rn()){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=Pf();return l.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Oa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,rn()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,i){let l=Ci();const d=bh(),g=bh();return t.forEach((y,w)=>{const A=r.get(w.key);i.has(w.key)&&(void 0===A||A.mutation instanceof _c)?l=l.insert(w.key,w):void 0!==A&&(d.set(w.key,A.mutation.getFieldMask()),_h(A.mutation,w,A.mutation.getFieldMask(),Qn.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((w,A)=>d.set(w,A)),t.forEach((w,A)=>{var k;return g.set(w,new uD(A,null!==(k=d.get(w))&&void 0!==k?k:null))}),g))}recalculateAndSaveOverlays(e,t){const r=bh();let i=new ir((d,g)=>d-g),l=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let A=r.get(y)||Hi.empty();A=g.applyToLocalView(w,A),r.set(y,A);const k=(i.get(g.batchId)||rn()).add(y);i=i.insert(g.batchId,k)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),w=y.key,A=y.value,k=Sb();A.forEach(H=>{if(!l.has(H)){const K=wb(t.get(H),r.get(H));null!==K&&k.set(H,K),l=l.add(H)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,k))}return de.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):f(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):de.resolve(Oa());let g=-1,y=l;return d.next(w=>de.forEach(w,(A,k)=>(g<k.largestBatchId&&(g=k.largestBatchId),l.get(A)?de.resolve():this.getBaseDocument(e,A,k).next(H=>{y=y.insert(A,H)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,y,w,rn())).next(A=>({batchId:g,changes:Tb(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=Pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Pf();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,g=>{const y=(w=t,A=g.child(i),new $s(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,A;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((A,k)=>{l=l.insert(A,k)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((g,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,on.newInvalidDocument(w)))});let d=Pf();return i.forEach((g,y)=>{const w=l.get(g);void 0!==w&&_h(w.mutation,y,Hi.empty(),Qn.now()),qe(t,y)&&(d=d.insert(g,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(on.newInvalidDocument(t))}}class Xg{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ti(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:zg(r.bundledQuery),readTime:Ti(r.readTime)}),de.resolve();var r}}class em{constructor(){this.overlays=new ir(et.comparator),this.es=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oa();return de.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=Oa(),l=t.length+1,d=new et(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new ir((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let A=l.get(w.largestBatchId);null===A&&(A=Oa(),l=l.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const g=Oa(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,A)=>g.set(w,A)),!(g.size()>=i)););return de.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new my(t,r));let l=this.es.get(t);void 0===l&&(l=rn(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class qf{constructor(){this.ns=new Un(Yr.ss),this.rs=new Un(Yr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Yr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new et(new wn([])),r=new Yr(t,e),i=new Yr(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new wn([])),r=new Yr(t,e),i=new Yr(t,e+1);let l=rn();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Yr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||Zt(e._s,t._s)}static os(e,t){return Zt(e._s,t._s)||et.comparator(e.key,t.key)}}class wy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Un(Yr.ss)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new gy(l,t,r,i);this.mutationQueue.push(d);for(const g of i)this.gs=this.gs.add(new Yr(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const g=this.ys(d._s);l.push(g)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un(Zt);return t.forEach(i=>{const l=new Yr(i,0),d=new Yr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],g=>{r=r.add(g._s)})}),de.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;et.isDocumentKey(l)||(l=l.child(""));const d=new Yr(new et(l),0);let g=new Un(Zt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(g=g.add(y._s)),!0)},d),de.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return de.forEach(t.mutations,i=>{const l=new Yr(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Yr(t,0),i=this.gs.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pS{constructor(e){this.Es=e,this.docs=new ir(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let r=Ci();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():on.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=Ci();const l=new et(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||If(wf(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ke()}As(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uC(this)}getSize(e){return de.resolve(this.size)}}class uC extends Ko{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dC{constructor(e){this.persistence=e,this.Rs=new El(t=>fc(t),qo),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qf,this.targetCount=0,this.vs=du.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),de.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new du(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Dn(t),de.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),de.waitFor(l).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ps.containsKey(t))}}class dD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ar(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dC(this),this.indexManager=new sC,this.remoteDocumentCache=new pS(r=>this.referenceDelegate.xs(r)),this.It=new Zb(t),this.Ns=new Xg(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new wy(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){re("MemoryPersistence","Starting transaction:",e);const i=new hC(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return de.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class hC extends Ng{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Fs=new qf,this.$s=null}static Bs(e){return new Zf(e)}get Ls(){if(this.$s)return this.$s;throw ke()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),de.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,r=>{const i=et.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Pt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return de.or([()=>de.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class gS{constructor(e){this.It=e}$(e,t,r,i){const l=new Ta("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jb,{unique:!0}),g.createObjectStore("documentMutations"),hD(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),hD(e)),d=d.next(()=>function(g){const y=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(g,y){return y.store("mutations").W().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jb,{unique:!0});const A=y.store("mutations"),k=w.map(H=>A.put(H));return de.waitFor(k)})}(e,l))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:QE});y.createIndex("collectionPathOverlayIndex",YE,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",zb,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:dy});y.createIndex("documentKeyIndex",$b),y.createIndex("collectionGroupIndex",Ug)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:fy}).createIndex("sequenceNumberIndex",Uf,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:KE}).createIndex("documentKeyIndex",Wb,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Qg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>de.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>de.forEach(g,y=>{ut(y.userId===l.userId);const w=_d(this.It,y);return by(e,l.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,g)=>{const y=new wn(d),w=[0,ls(y)];l.push(t.get(w).next(A=>A?de.resolve():t.put({targetId:0,path:ls(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Gb});const r=t.store("collectionParents"),i=new vy,l=d=>{if(i.add(d)){const g=d.lastSegment(),y=d.popLast();return r.put({collectionId:g,parent:ls(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const y=new wn(d);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,y],w)=>{const A=ho(g);return l(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=$f(i),d=Jt(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const g=t.store("remoteDocumentsV14"),y=(w=d,w.document?new et(wn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):ke()).path.toArray();var w;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(A))}).next(()=>de.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=cD(this.It),l=new dD(Zf.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(y=>{var w;let A=null!==(w=g.get(y.userId))&&void 0!==w?w:rn();_d(this.It,y).keys().forEach(k=>A=A.add(k)),g.set(y.userId,A)}),de.forEach(g,(y,w)=>{const A=new O(w),k=Hf.oe(this.It,A),H=l.getIndexManager(A),K=Yg.oe(A,this.It,H,l.referenceDelegate);return new cC(i,K,k,H).recalculateAndSaveOverlaysForDocumentKeys(new Gg(t,Ar.at),y).next()})})}}function hD(n){n.createObjectStore("targetDocuments",{keyPath:Hb}).createIndex("documentTargetsIndex",hy,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$g,{unique:!0}),n.createObjectStore("targetGlobal")}const fD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tm{constructor(e,t,r,i,l,d,g,y,w,A,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=g,this.Js=w,this.Ys=A,this.Xs=k,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=H=>Promise.resolve(),!tm.C())throw new Le(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aD(this,i),this.ii=t+"main",this.It=new Zb(y),this.ri=new Ts(this.ii,this.Xs,new gS(this.It)),this.Cs=new iD(this.referenceDelegate,this.It),this.remoteDocumentCache=cD(this.It),this.Ns=new tC,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,fD);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ar(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Dl(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ah(e).get("owner").next(t=>de.resolve(this.mi(t)))}gi(e){return nm(e).delete(this.clientId)}yi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Si(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),g=l.filter(y=>-1===d.indexOf(y));return de.forEach(g,y=>i.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?de.resolve(!0):Ah(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,fD);return!1}}return!(!this.networkEnabled||!this.inForeground)||nm(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Gg(t,Ar.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>nm(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Yg.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oC(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Hf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){re("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?XE:14===d?py:13===d?JE:12===d?qb:11===d?Hg:void ke();var d;let g;return this.ri.runTransaction(e,i,l,y=>(g=new Gg(y,this.Ss?this.Ss.next():Ar.at),"readwrite-primary"===t?this.fi(g).next(w=>!!w||this.di(g)).next(w=>{if(!w)throw it(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Le(be.FAILED_PRECONDITION,th);return r(g)}).next(w=>this.wi(g).next(()=>w)):this.Vi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return Ah(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(be.FAILED_PRECONDITION,fD)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ah(e).put("owner",t)}static C(){return Ts.C()}_i(e){const t=Ah(e);return t.get("owner").next(r=>this.mi(r)?(re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(it(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return it("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){it("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ah(n){return Si(n,"owner")}function nm(n){return Si(n,"clientMetadata")}function Kf(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=rn(),i=rn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new pD(e,t.fromCache,r,i)}}class fC{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(ou(t))return de.resolve(null);let r=b(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=x(t,null,"F"),r=b(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=rn(...l);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,g);return this.$i(t,w,d,y.readTime)?this.ki(e,x(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return ou(t)||i.isEqual(Pt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(_e()<=Fr.in.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ee(t)),this.Bi(e,d,t,Df(i,-1)))})}Fi(e,t){let r=new Un(At(e));return t.forEach((i,l)=>{qe(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return _e()<=Fr.in.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ee(t)),this.Ni.getDocumentsMatchingQuery(e,t,yr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class mS{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new ir(Zt),this.qi=new El(l=>fc(l),qo),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cC(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function pC(n,e,t,r){return new mS(n,e,t,r)}function gC(n,e){return gD.apply(this,arguments)}function gD(){return gD=(0,Te.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let y=rn();for(const w of i){d.push(w.batchId);for(const A of w.mutations)y=y.add(A.key)}for(const w of l){g.push(w.batchId);for(const A of w.mutations)y=y.add(A.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:g}))})})}),gD.apply(this,arguments)}function _S(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,y,w){const A=y.batch,k=A.keys();let H=de.resolve();return k.forEach(K=>{H=H.next(()=>w.getEntry(g,K)).next(ue=>{const Ce=y.docVersions.get(K);ut(null!==Ce),ue.version.compareTo(Ce)<0&&(A.applyToRemoteDocument(ue,y),ue.isValidDocument()&&(ue.setReadTime(y.commitVersion),w.addEntry(ue)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(g,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=rn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function mC(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function yS(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((A,k)=>{const H=i.get(k);if(!H)return;g.push(t.Cs.removeMatchingKeys(l,A.removedDocuments,k).next(()=>t.Cs.addMatchingKeys(l,A.addedDocuments,k)));let K=H.withSequenceNumber(l.currentSequenceNumber);var ue,Ce,Me;e.targetMismatches.has(k)?K=K.withResumeToken(Qr.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),i=i.insert(k,K),Ce=K,Me=A,(0===(ue=H).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(l,K))});let y=Ci(),w=rn();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),g.push(_C(l,d,e.documentUpdates).next(A=>{y=A.Wi,w=A.zi})),!r.isEqual(Pt.min())){const A=t.Cs.getLastRemoteSnapshotVersion(l).next(k=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(A)}return de.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,w)).next(()=>y)}).then(l=>(t.Ui=i,l))}function _C(n,e,t){let r=rn(),i=rn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Ci();return t.forEach((g,y)=>{const w=l.get(g);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual(Pt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):re("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function fu(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pu(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,de.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new vc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Mh(n,e,t){return rm.apply(this,arguments)}function rm(){return rm=(0,Te.Z)(function*(n,e,t){const r=Je(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Dl(d))throw d;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),rm.apply(this,arguments)}function xh(n,e,t){const r=Je(n);let i=Pt.min(),l=rn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,y,w){const A=Je(g),k=A.qi.get(w);return void 0!==k?de.resolve(A.Ui.get(k)):A.Cs.getTargetData(y,w)}(r,d,b(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Pt.min(),t?l:rn())).next(g=>(mD(r,gt(e),g),{documents:g,Hi:l})))}function Iy(n,e){const t=Je(n),r=Je(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function im(n,e){const t=Je(n),r=t.Ki.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Df(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mD(t,e,i),i))}function mD(n,e,t){let r=n.Ki.get(e)||Pt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function sm(){return sm=(0,Te.Z)(function*(n,e,t,r){const i=Je(n);let l=rn(),d=Ci();for(const w of t){const A=e.Ji(w.metadata.name);w.document&&(l=l.add(A));const k=e.Yi(w);k.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(A,k)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield pu(i,(w=r,b(su(wn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>_C(w,g,d).next(A=>(g.apply(w),A)).next(A=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,A.Wi,A.zi)).next(()=>A.Wi)))}),sm.apply(this,arguments)}function yC(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,Te.Z)(function*(n,e,t=rn()){const r=yield pu(n,b(zg(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Ti(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const g=r.withResumeToken(Qr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(l,g).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),Ey.apply(this,arguments)}function Cy(n,e){return`firestore_clients_${n}_${e}`}function _D(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ty(n,e){return`firestore_targets_${n}_${e}`}class Id{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Le(i.error.code,i.error.message))),d?new Id(e,t,i.state,l):(it("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nl{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Le(r.error.code,r.error.message))),l?new Nl(e,r.state,i):(it("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Ff();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=lr(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new Rh(e,l):(it("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mu{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mu(t.clientId,t.onlineState):(it("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qf{constructor(){this.activeTargetIds=Ff()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Oh{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ir(Zt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=Cy(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Qf),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(Cy(e.persistenceKey,i));if(l){const d=Rh.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ty(this.persistenceKey,e));if(r){const i=Nl.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ty(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return re("SharedClientState","READ",e,t),t}setItem(e,t){re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=Ar.at;if(null!=l)try{const g=JSON.parse(l);ut("number"==typeof g),d=g}catch(g){it("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);i!==Ar.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Id(this.currentUser,e,t,r),l=_D(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=_D(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Ty(this.persistenceKey,e),l=new Nl(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Rh.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Id.Zi(new O(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Nl.Zi(i,t)}yr(e){return mu.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],g=[];return l.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{l.has(y)||g.push(y)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ff();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Sy{constructor(){this.Lr=new Qf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Qf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yD{qr(e){}shutdown(){}}class om{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ny={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vD{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ay extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);re("RestConnection","Sending: ",d,r);const g={};return this.lo(g,i,l),this.fo(e,d,g,r).then(y=>(re("RestConnection","Received: ",y),y),y=>{throw Tt("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Ny[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const g=new S;g.setWithCredentials(!0),g.listenOnce(_l.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ku.NO_ERROR:const w=g.getResponseJson();re("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Ku.TIMEOUT:re("Connection",'RPC "'+e+'" timed out'),d(new Le(be.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const A=g.getStatus();if(re("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const k=g.getResponseJson().error;if(k&&k.status&&k.message){const H=function(K){const ue=K.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(ue)>=0?ue:be.UNKNOWN}(k.status);d(new Le(H,k.message))}else d(new Le(be.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Le(be.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{re("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);g.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Zu(),d=ao(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new or({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=i.join("");re("Connection","Creating WebChannel: "+y,g);const w=l.createWebChannel(y,g);let A=!1,k=!1;const H=new vD({Hr:ue=>{k?re("Connection","Not sending because WebChannel is closed:",ue):(A||(re("Connection","Opening WebChannel transport."),w.open(),A=!0),re("Connection","WebChannel sending:",ue),w.send(ue))},Jr:()=>w.close()}),K=(ue,Ce,Me)=>{ue.listen(Ce,dt=>{try{Me(dt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return K(w,oc.EventType.OPEN,()=>{k||re("Connection","WebChannel transport opened.")}),K(w,oc.EventType.CLOSE,()=>{k||(k=!0,re("Connection","WebChannel transport closed"),H.io())}),K(w,oc.EventType.ERROR,ue=>{k||(k=!0,Tt("Connection","WebChannel transport errored:",ue),H.io(new Le(be.UNAVAILABLE,"The operation could not be completed")))}),K(w,oc.EventType.MESSAGE,ue=>{var Ce;if(!k){const Me=ue.data[0];ut(!!Me);const dt=Me,pt=dt.error||(null===(Ce=dt[0])||void 0===Ce?void 0:Ce.error);if(pt){re("Connection","WebChannel received error:",pt);const Dt=pt.status;let ht=function(mt){const en=Ur[mt];if(void 0!==en)return X_(en)}(Dt),ct=pt.message;void 0===ht&&(ht=be.INTERNAL,ct="Unknown error status: "+Dt+" with message "+pt.message),k=!0,H.io(new Le(ht,ct)),w.close()}else re("Connection","WebChannel received:",Me),H.ro(Me)}}),K(d,lo.STAT_EVENT,ue=>{ue.stat===Qu.PROXY?re("Connection","Detected buffering proxy"):ue.stat===Qu.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.so()},0),H}}function bD(){return typeof window<"u"?window:null}function My(){return typeof document<"u"?document:null}function Yf(n){return new ny(n,!0)}class am{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class DD{constructor(e,t,r,i,l,d,g,y){this.Hs=e,this.vo=r,this.Vo=i,this.So=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new am(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Te.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Te.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(it(t.toString()),it("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Le(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Te.Z)(function*(){e.state=0,e.start()}))}jo(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wD extends DD{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function sy(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ke(),i=e.targetChange.targetIds||[],l=function(y,w){return y.gt?(ut(void 0===w||"string"==typeof w),Qr.fromBase64String(w||"")):(ut(void 0===w||w instanceof Uint8Array),Qr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const w=void 0===y.code?be.UNKNOWN:X_(y.code);return new Le(w,y.message||"")}(d);t=new Ab(r,i,l,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Zo(n,r.document.name),l=Ti(r.document.updateTime),d=new Vr({mapValue:{fields:r.document.fields}}),g=on.newFoundDocument(i,l,d);t=new yc(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Zo(n,r.document),l=r.readTime?Ti(r.readTime):Pt.min(),d=on.newNoDocument(i,l);t=new yc([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Zo(n,r.document);t=new yc([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ke();{const r=e.filter,l=new UE(r.count||0);t=new Cl(r.targetId,l)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Pt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?Ti(l.readTime):Pt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Vg(this.It),t.addTarget=function(i,l){let d;const g=l.target;return d=fh(g)?{documents:kb(i,g)}:{query:ay(i,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=xb(i,l.resumeToken):l.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=hd(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function Fb(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ke()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Vg(this.It),t.removeTarget=e,this.Lo(t)}}class ID extends DD{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function zE(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,i){let l=Ti(r.updateTime?r.updateTime:i);return l.isEqual(Pt.min())&&(l=Ti(i)),new VE(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.tu(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Vg(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bf(this.It,r))};this.Lo(t)}}class vC extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(be.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.So._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(be.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class bC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(it(t),this.uu=!1):re("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class vS{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.qr(g=>{r.enqueueAndForget((0,Te.Z)(function*(){var y;wc(d)&&(re("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Te.Z)(function*(w){const A=Je(w);A.wu.add(4),yield Ed(A),A.yu.set("Unknown"),A.wu.delete(4),yield Jf(A)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new bC(r,i)}}function Jf(n){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Te.Z)(function*(n){if(wc(n))for(const e of n.mu)yield e(!0)}),Xf.apply(this,arguments)}function Ed(n){return xy.apply(this,arguments)}function xy(){return xy=(0,Te.Z)(function*(n){for(const e of n.mu)yield e(!1)}),xy.apply(this,arguments)}function cm(n,e){const t=Je(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Ry(t)?dm(t):Ic(t).Oo()&&um(t,e))}function ep(n,e){const t=Je(n),r=Ic(t);t._u.delete(e),r.Oo()&&ED(t,e),0===t._u.size&&(r.Oo()?r.$o():wc(t)&&t.yu.set("Unknown"))}function um(n,e){n.pu.Mt(e.targetId),Ic(n).Ho(e)}function ED(n,e){n.pu.Mt(e),Ic(n).Jo(e)}function dm(n){n.pu=new hS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Ic(n).start(),n.yu.cu()}function Ry(n){return wc(n)&&!Ic(n).ko()&&n._u.size>0}function wc(n){return 0===Je(n).wu.size}function Oy(n){n.pu=void 0}function CD(n){return ky.apply(this,arguments)}function ky(){return ky=(0,Te.Z)(function*(n){n._u.forEach((e,t)=>{um(n,e)})}),ky.apply(this,arguments)}function Al(n,e){return tp.apply(this,arguments)}function tp(){return tp=(0,Te.Z)(function*(n,e){Oy(n),Ry(n)?(n.yu.lu(e),dm(n)):n.yu.set("Unknown")}),tp.apply(this,arguments)}function DC(n,e,t){return Py.apply(this,arguments)}function Py(){return Py=(0,Te.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Ab&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,l){const d=l.cause;for(const g of l.targetIds)i._u.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i._u.delete(g),i.pu.removeTarget(g))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fy(n,r)}else if(e instanceof yc?n.pu.Gt(e):e instanceof Cl?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Pt.min()))try{const r=yield mC(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.pu.te(l);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const y=i._u.get(g);if(!y)return;i._u.set(g,y.withResumeToken(Qr.EMPTY_BYTE_STRING,y.snapshotVersion)),ED(i,g);const w=new vc(y.target,g,1,y.sequenceNumber);um(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){re("RemoteStore","Failed to raise snapshot:",r),yield Fy(n,r)}var r}),Py.apply(this,arguments)}function Fy(n,e,t){return hm.apply(this,arguments)}function hm(){return hm=(0,Te.Z)(function*(n,e,t){if(!Dl(e))throw e;n.wu.add(1),yield Ed(n),n.yu.set("Offline"),t||(t=()=>mC(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){re("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Jf(n)}))}),hm.apply(this,arguments)}function TD(n,e){return e().catch(t=>Fy(n,t,e))}function kh(n){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Te.Z)(function*(n){const e=Je(n),t=_o(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Vy(e);)try{const i=yield fu(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,wC(e,i)}catch(i){yield Fy(e,i)}SD(e)&&np(e)}),Ly.apply(this,arguments)}function Vy(n){return wc(n)&&n.du.length<10}function wC(n,e){n.du.push(e);const t=_o(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function SD(n){return wc(n)&&!_o(n).ko()&&n.du.length>0}function np(n){_o(n).start()}function By(n){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,Te.Z)(function*(n){_o(n).nu()}),Ph.apply(this,arguments)}function bS(n){return rp.apply(this,arguments)}function rp(){return rp=(0,Te.Z)(function*(n){const e=_o(n);for(const t of n.du)e.Zo(t.mutations)}),rp.apply(this,arguments)}function DS(n,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,Te.Z)(function*(n,e,t){const r=n.du.shift(),i=fo.from(r,e,t);yield TD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield kh(n)}),fm.apply(this,arguments)}function ND(n,e){return pm.apply(this,arguments)}function pm(){return pm=(0,Te.Z)(function*(n,e){var t;e&&_o(n).Xo&&(yield(t=(0,Te.Z)(function*(r,i){if(Lg(l=i.code)&&l!==be.ABORTED){const d=r.du.shift();_o(r).Fo(),yield TD(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield kh(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),SD(n)&&np(n)}),pm.apply(this,arguments)}function jy(n,e){return ip.apply(this,arguments)}function ip(){return ip=(0,Te.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=wc(t);t.wu.add(3),yield Ed(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Jf(t)}),ip.apply(this,arguments)}function ka(n,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,Te.Z)(function*(n,e){const t=Je(n);e?(t.wu.delete(2),yield Jf(t)):e||(t.wu.add(2),yield Ed(t),t.yu.set("Unknown"))}),Fh.apply(this,arguments)}function Ic(n){return n.Iu||(n.Iu=function(e,t,r){const i=Je(e);return i.iu(),new wD(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:CD.bind(null,n),Zr:Al.bind(null,n),zo:DC.bind(null,n)}),n.mu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Iu.Fo(),Ry(n)?dm(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Oy(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function _o(n){return n.Tu||(n.Tu=function(e,t,r){const i=Je(e);return i.iu(),new ID(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:By.bind(null,n),Zr:ND.bind(null,n),eu:bS.bind(null,n),tu:DS.bind(null,n)}),n.mu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Tu.Fo(),yield kh(n)):(yield n.Tu.stop(),n.du.length>0&&(re("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class Uy{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,g=new Uy(e,t,d,i,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(n,e){if(it("AsyncQueue",`${e}: ${n}`),Dl(n))return new Le(be.UNAVAILABLE,`${e}: ${n}`);throw n}class Cd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Pf(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new Cd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class AD{constructor(){this.Eu=new ir(et.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ke():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lh{constructor(e,t,r,i,l,d,g,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new Lh(e,t,Cd.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vh{constructor(){this.Ru=void 0,this.listeners=[]}}class IC{constructor(){this.queries=new El(e=>Y(e),L),this.onlineState="Unknown",this.bu=new Set}}function MD(n,e){return gm.apply(this,arguments)}function gm(){return gm=(0,Te.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new Vh),i)try{l.Ru=yield t.onListen(r)}catch(d){const g=_u(d,`Initialization of query '${Ee(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.vu(l.Ru)&&mm(t)}),gm.apply(this,arguments)}function xD(n,e){return $y.apply(this,arguments)}function $y(){return $y=(0,Te.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),$y.apply(this,arguments)}function EC(n,e){const t=Je(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.vu(i)&&(r=!0);d.Ru=i}}r&&mm(t)}function RD(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function mm(n){n.bu.forEach(e=>{e.next()})}class sp{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Lh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Lh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class CC{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class _m{constructor(e){this.It=e}Ji(e){return Zo(this.It,e)}Yi(e){return e.metadata.exists?iy(this.It,e.document,!1):on.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ti(e)}}class TC{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OD(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=wn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new _m(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||rn()).add(l);t.set(d,g)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function gu(n,e,t,r){return sm.apply(this,arguments)}(e.localStore,new _m(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield yC(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function OD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class kD{constructor(e){this.key=e}}class PD{constructor(e){this.key=e}}class FD{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=At(e),this.Qu=new Cd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new AD,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,k)=>{const H=i.get(A),K=qe(this.query,k)?k:null,ue=!!H&&this.mutatedKeys.has(H.key),Ce=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Me=!1;H&&K?H.data.isEqual(K.data)?ue!==Ce&&(r.track({type:3,doc:K}),Me=!0):this.Hu(H,K)||(r.track({type:2,doc:K}),Me=!0,(y&&this.Gu(K,y)>0||w&&this.Gu(K,w)<0)&&(g=!0)):!H&&K?(r.track({type:0,doc:K}),Me=!0):H&&!K&&(r.track({type:1,doc:H}),Me=!0,(y||w)&&(g=!0)),Me&&(K?(d=d.add(K),l=Ce?l.add(A):l.delete(A)):(d=d.delete(A),l=l.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Qu:d,zu:r,$i:g,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((w,A)=>function(k,H){const K=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return K(k)-K(H)}(w.type,A.type)||this.Gu(w.doc,A.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,y=g!==this.qu;return this.qu=g,0!==l.length||y?{snapshot:new Lh(this.query,e.Qu,i,l,e.mutatedKeys,0===g,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new AD,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=rn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new PD(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new kD(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=rn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Lh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class LD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ym{constructor(e){this.key=e,this.nc=!1}}class Td{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new El(g=>Y(g),L),this.rc=new Map,this.oc=new Set,this.uc=new ir(et.comparator),this.cc=new Map,this.ac=new qf,this.hc={},this.lc=new Map,this.fc=du.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function wS(n,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,Te.Z)(function*(n,e){const t=pp(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield pu(t.localStore,b(e));t.isPrimaryClient&&cm(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield Hy(t,e,r,"current"===g,d.resumeToken)}return i}),Sd.apply(this,arguments)}function Hy(n,e,t,r,i){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,Te.Z)(function*(n,e,t,r,i){n._c=(k,H,K)=>{return(ue=(0,Te.Z)(function*(Ce,Me,dt,pt){let Dt=Me.view.Wu(dt);Dt.$i&&(Dt=yield xh(Ce.localStore,Me.query,!1).then(({documents:mt})=>Me.view.Wu(mt,Dt)));const ht=pt&&pt.targetChanges.get(Me.targetId),ct=Me.view.applyChanges(Dt,Ce.isPrimaryClient,ht);return lp(Ce,Me.targetId,ct.Xu),ct.snapshot}),function(Ce,Me,dt,pt){return ue.apply(this,arguments)})(n,k,H,K);var ue};const l=yield xh(n.localStore,e,!0),d=new FD(e,l.Hi),g=d.Wu(l.documents),y=wh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(g,n.isPrimaryClient,y);lp(n,t,w.Xu);const A=new LD(e,t,d);return n.ic.set(e,A),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),Gy.apply(this,arguments)}function Wy(n,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Te.Z)(function*(n,e){const t=Je(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!L(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ep(t.remoteStore,r.targetId),Pa(t,r.targetId)}).catch(Ca))):(Pa(t,r.targetId),yield Mh(t.localStore,r.targetId,!0))}),vm.apply(this,arguments)}function Nd(){return Nd=(0,Te.Z)(function*(n,e,t){const r=Cm(n);try{const i=yield function(l,d){const g=Je(l),y=Qn.now(),w=d.reduce((H,K)=>H.add(K.key),rn());let A,k;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let K=Ci(),ue=rn();return g.Gi.getEntries(H,w).next(Ce=>{K=Ce,K.forEach((Me,dt)=>{dt.isValidDocument()||(ue=ue.add(Me))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,K)).next(Ce=>{A=Ce;const Me=[];for(const dt of d){const pt=jE(dt,A.get(dt.key).overlayedDocument);null!=pt&&Me.push(new _c(dt.key,pt,hh(pt.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,Me,d)}).next(Ce=>{k=Ce;const Me=Ce.applyToLocalDocumentSet(A,ue);return g.documentOverlayCache.saveOverlays(H,Ce.batchId,Me)})}).then(()=>({batchId:k.batchId,changes:Tb(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,g){let y=l.hc[l.currentUser.toKey()];y||(y=new ir(Zt)),y=y.insert(d,g),l.hc[l.currentUser.toKey()]=y}(r,i.batchId,t),yield Fa(r,i.changes),yield kh(r.remoteStore)}catch(i){const l=_u(i,"Failed to persist write");t.reject(l)}}),Nd.apply(this,arguments)}function Wi(n,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,Te.Z)(function*(n,e){const t=Je(n);try{const r=yield yS(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?ut(d.nc):i.removedDocuments.size>0&&(ut(d.nc),d.nc=!1))}),yield Fa(t,r,e)}catch(r){yield Ca(r)}}),Ec.apply(this,arguments)}function op(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const g=d.view.Pu(e);g.snapshot&&i.push(g.snapshot)}),function(l,d){const g=Je(l);g.onlineState=d;let y=!1;g.queries.forEach((w,A)=>{for(const k of A.listeners)k.Pu(d)&&(y=!0)}),y&&mm(g)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qo(n,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,Te.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new ir(et.comparator);d=d.insert(l,on.newNoDocument(l,Pt.min()));const g=rn().add(l),y=new Dh(Pt.min(),new Map,new Un(Zt),d,g);yield Wi(r,y),r.uc=r.uc.remove(l),r.cc.delete(e),cp(r)}else yield Mh(r.localStore,e,!1).then(()=>Pa(r,e,t)).catch(Ca)}),ap.apply(this,arguments)}function Bh(n,e){return yu.apply(this,arguments)}function yu(){return yu=(0,Te.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield _S(t.localStore,e);wu(t,r,null),Du(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fa(t,i)}catch(i){yield Ca(i)}}),yu.apply(this,arguments)}function jh(n,e,t){return vu.apply(this,arguments)}function vu(){return vu=(0,Te.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(l,d){const g=Je(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,d).next(A=>(ut(null!==A),w=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(r.localStore,e);wu(r,e,t),Du(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fa(r,i)}catch(i){yield Ca(i)}}),vu.apply(this,arguments)}function bu(){return bu=(0,Te.Z)(function*(n,e){const t=Je(n);wc(t.remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Je(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=_u(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),bu.apply(this,arguments)}function Du(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function wu(n,e,t){const r=Je(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Pa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||bm(n,r)})}function bm(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(ep(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),cp(n))}function lp(n,e,t){for(const r of t)r instanceof kD?(n.ac.addReference(r.key,e),zy(n,r)):r instanceof PD?(re("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||bm(n,r.key)):ke()}function zy(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(re("SyncEngine","New document in limbo: "+t),n.oc.add(r),cp(n))}function cp(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new et(wn.fromString(e)),r=n.fc.next();n.cc.set(r,new ym(t)),n.uc=n.uc.insert(t,r),cm(n.remoteStore,new vc(b(su(t.path)),r,2,Ar.at))}}function Fa(n,e,t){return up.apply(this,arguments)}function up(){return up=(0,Te.Z)(function*(n,e,t){const r=Je(n),i=[],l=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const A=pD.Ci(y.targetId,w);l.push(A)}}))}),yield Promise.all(d),r.sc.zo(i),yield(g=(0,Te.Z)(function*(y,w){const A=Je(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>de.forEach(w,H=>de.forEach(H.Si,K=>A.persistence.referenceDelegate.addReference(k,H.targetId,K)).next(()=>de.forEach(H.Di,K=>A.persistence.referenceDelegate.removeReference(k,H.targetId,K)))))}catch(k){if(!Dl(k))throw k;re("LocalStore","Failed to update sequence numbers: "+k)}for(const k of w){const H=k.targetId;if(!k.fromCache){const K=A.Ui.get(H),Ce=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);A.Ui=A.Ui.insert(H,Ce)}}}),function(y,w){return g.apply(this,arguments)})(r.localStore,l))}),up.apply(this,arguments)}function qy(n,e){return dp.apply(this,arguments)}function dp(){return dp=(0,Te.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=yield gC(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Le(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fa(t,r.ji)}var i}),dp.apply(this,arguments)}function Zy(n,e){const t=Je(n),r=t.cc.get(e);if(r&&r.nc)return rn().add(r.key);{let i=rn();const l=t.rc.get(e);if(!l)return i;for(const d of l){const g=t.ic.get(d);i=i.unionWith(g.view.ju)}return i}}function VD(n,e){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,Te.Z)(function*(n,e){const t=Je(n),r=yield xh(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&lp(t,e.targetId,i.Xu),i}),Ky.apply(this,arguments)}function BD(n,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Te.Z)(function*(n,e){const t=Je(n);return im(t.localStore,e).then(r=>Fa(t,r))}),Dm.apply(this,arguments)}function jD(n,e,t,r){return hp.apply(this,arguments)}function hp(){return hp=(0,Te.Z)(function*(n,e,t,r){const i=Je(n),l=yield function(d,g){const y=Je(d),w=Je(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>w.Tn(A,g).next(k=>k?y.localDocuments.getDocuments(A,k):de.resolve(null)))}(i.localStore,e);var g;null!==l?("pending"===t?yield kh(i.remoteStore):"acknowledged"===t||"rejected"===t?(wu(i,e,r||null),Du(i,e),g=e,Je(Je(i.localStore).mutationQueue).An(g)):ke(),yield Fa(i,l)):re("SyncEngine","Cannot apply mutation batch with id: "+e)}),hp.apply(this,arguments)}function Yy(){return Yy=(0,Te.Z)(function*(n,e){const t=Je(n);if(pp(t),Cm(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield fp(t,r.toArray());t.dc=!0,yield ka(t.remoteStore,!0);for(const l of i)cm(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Pa(t,d),Mh(t.localStore,d,!0))),ep(t.remoteStore,d)}),yield i,yield fp(t,r),function(l){const d=Je(l);d.cc.forEach((g,y)=>{ep(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new ir(et.comparator)}(t),t.dc=!1,yield ka(t.remoteStore,!1)}}),Yy.apply(this,arguments)}function fp(n,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,Te.Z)(function*(n,e,t){const r=Je(n),i=[],l=[];for(const d of e){let g;const y=r.rc.get(d);if(y&&0!==y.length){g=yield pu(r.localStore,b(y[0]));for(const w of y){const A=r.ic.get(w),k=yield VD(r,A);k.snapshot&&l.push(k.snapshot)}}else{const w=yield Iy(r.localStore,d);g=yield pu(r.localStore,w),yield Hy(r,wm(w),d,!1,g.resumeToken)}i.push(g)}return r.sc.zo(l),i}),$h.apply(this,arguments)}function wm(n){return Y_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function SC(n){const e=Je(n);return Je(Je(e.localStore).persistence).vi()}function Im(n,e,t,r){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,Te.Z)(function*(n,e,t,r){const i=Je(n);if(i.dc)return void re("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield im(i.localStore,gt(l[0])),g=Dh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Qr.EMPTY_BYTE_STRING);yield Fa(i,d,g);break}case"rejected":yield Mh(i.localStore,e,!0),Pa(i,e,r);break;default:ke()}}),Hh.apply(this,arguments)}function Jy(n,e,t){return Em.apply(this,arguments)}function Em(){return Em=(0,Te.Z)(function*(n,e,t){const r=pp(n);if(r.dc){for(const i of e){if(r.rc.has(i)){re("SyncEngine","Adding an already active target "+i);continue}const l=yield Iy(r.localStore,i),d=yield pu(r.localStore,l);yield Hy(r,wm(l),d.targetId,!1,d.resumeToken),cm(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield Mh(r.localStore,i,!1).then(()=>{ep(r.remoteStore,i),Pa(r,i)}).catch(Ca))}}),Em.apply(this,arguments)}function pp(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wi.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qo.bind(null,e),e.sc.zo=EC.bind(null,e.eventManager),e.sc.wc=RD.bind(null,e.eventManager),e}function Cm(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jh.bind(null,e),e}class Tm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.It=Yf(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return pC(this.persistence,new fC,e.initialUser,this.It)}yc(e){return new dD(Zf.Bs,this.It)}gc(e){return new Sy}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sm extends Tm{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Cm(r.Ac.syncEngine),yield kh(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return pC(this.persistence,new fC,e.initialUser,this.It)}Tc(e,t){return new Sh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new bb(t,this.persistence);return new z_(e.asyncQueue,r)}yc(e){const t=Kf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new tm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bD(),My(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Sy}}class NC extends Sm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Oh&&(r.sharedClientState.syncEngine={Fr:jD.bind(null,i),$r:Im.bind(null,i),Br:Jy.bind(null,i),vi:SC.bind(null,i),Mr:BD.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Te.Z)(function*(d){yield function Qy(n,e){return Yy.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=bD();if(!Oh.C(t))throw new Le(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Kf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Oh(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Nm{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>op(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=qy.bind(null,r.syncEngine),yield ka(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IC}createDatastore(e){const t=Yf(e.databaseInfo.databaseId),r=new Ay(e.databaseInfo);return new vC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=g=>op(this.syncEngine,g,0),d=om.C()?new om:new yD,new vS(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,g,y,w){const A=new Td(r,i,l,d,g,y);return w&&(A.dc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=Je(t);re("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Ed(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Am(n,e,t){if(!t)throw new Le(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xy(n,e,t,r){if(!0===e&&!0===r)throw new Le(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ev(n){if(!et.isDocumentKey(n))throw new Le(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $D(n){if(et.isDocumentKey(n))throw new Le(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ke()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gp(n);throw new Le(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mm(n,e){if(e<=0)throw new Le(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const mp=new Map;class xm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wa;switch(t.type){case"gapi":return new Cg(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mp.get(e);t&&(re("ComponentProvider","Removing Datastore"),mp.delete(e),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Yo extends Ni{constructor(e,t,r){super(e,t,su(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new et(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function Om(n,e,...t){if(n=(0,Ht.m9)(n),Am("collection","path",e),n instanceof Ad){const r=wn.fromString(e,...t);return $D(r),new Yo(n,null,r)}{if(!(n instanceof Yn||n instanceof Yo))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return $D(r),new Yo(n.firestore,null,r)}}function nv(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=Jc.R()),Am("doc","path",e),n instanceof Ad){const r=wn.fromString(e,...t);return ev(r),new Yn(n,null,new et(r))}{if(!(n instanceof Yn||n instanceof Yo))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return ev(r),new Yn(n.firestore,n instanceof Yo?n.converter:null,new et(r))}}function HD(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof Yn||n instanceof Yo)&&(e instanceof Yn||e instanceof Yo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rv(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof Ni&&e instanceof Ni&&n.firestore===e.firestore&&L(n._query,e._query)&&n.converter===e.converter}function iv(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):it("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class di{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new zn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new CC(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Te.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class GD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(l,d){const g=Je(l),y=Vg(g.It)+"/documents",w={documents:d.map(K=>Lf(g.It,K))},A=yield g._o("BatchGetDocuments",y,w,d.length),k=new Map;A.forEach(K=>{const ue=function WE(n,e){return"found"in e?function(t,r){ut(!!r.found);const i=Zo(t,r.found.name),l=Ti(r.found.updateTime),d=new Vr({mapValue:{fields:r.found.fields}});return on.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){ut(!!r.missing),ut(!!r.readTime);const i=Zo(t,r.missing),l=Ti(r.readTime);return on.newNoDocument(i,l)}(n,e):ke()}(g.It,K);k.set(ue.key.toString(),ue)});const H=[];return d.forEach(K=>{const ue=k.get(K.toString());ut(!!ue),H.push(ue)}),H}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=et.fromPath(i);e.mutations.push(new Fg(l,e.precondition(l)))}),yield(r=(0,Te.Z)(function*(i,l){const d=Je(i),g=Vg(d.It)+"/documents",y={writes:l.map(w=>Bf(d.It,w))};yield d.ao("Commit",g,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ke();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pt.min())?tr.exists(!1):tr.updateTime(t):tr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Le(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tr.updateTime(t)}return tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RC{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.No=new am(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Te.Z)(function*(){const t=new GD(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Na(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Lg(t)}return!1}}class WD{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=O.UNAUTHENTICATED,this.clientId=Jc.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Te.Z)(function*(g){re("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(re("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_u(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function sv(n,e){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(l){r.isEqual(l)||(yield gC(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Iu.apply(this,arguments)}function zD(n,e){return ov.apply(this,arguments)}function ov(){return ov=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Pm(n);re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>jy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>jy(e.remoteStore,l)),n.onlineComponents=e}),ov.apply(this,arguments)}function Pm(n){return av.apply(this,arguments)}function av(){return av=(0,Te.Z)(function*(n){return n.offlineComponents||(re("FirestoreClient","Using default OfflineComponentProvider"),yield sv(n,new Tm)),n.offlineComponents}),av.apply(this,arguments)}function _p(n){return qD.apply(this,arguments)}function qD(){return qD=(0,Te.Z)(function*(n){return n.onlineComponents||(re("FirestoreClient","Using default OnlineComponentProvider"),yield zD(n,new Nm)),n.onlineComponents}),qD.apply(this,arguments)}function Fm(n){return Pm(n).then(e=>e.persistence)}function Gh(n){return Pm(n).then(e=>e.localStore)}function yo(n){return _p(n).then(e=>e.remoteStore)}function lv(n){return _p(n).then(e=>e.syncEngine)}function Ns(n){return vo.apply(this,arguments)}function vo(){return vo=(0,Te.Z)(function*(n){const e=yield _p(n),t=e.eventManager;return t.onListen=wS.bind(null,e.syncEngine),t.onUnlisten=Wy.bind(null,e.syncEngine),t}),vo.apply(this,arguments)}function QD(n,e,t={}){const r=new zn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,l,d,g,y){const w=new km({next:k=>{l.enqueueAndForget(()=>xD(i,A));const H=k.docs.has(d);!H&&k.fromCache?y.reject(new Le(be.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&k.fromCache&&g&&"server"===g.source?y.reject(new Le(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(k)},error:k=>y.reject(k)}),A=new sp(su(d.path),w,{includeMetadataChanges:!0,ku:!0});return MD(i,A)}(yield Ns(n),n.asyncQueue,e,t,r)})),r.promise}function YD(n,e,t={}){const r=new zn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,l,d,g,y){const w=new km({next:k=>{l.enqueueAndForget(()=>xD(i,A)),k.fromCache&&"server"===g.source?y.reject(new Le(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),A=new sp(d,w,{includeMetadataChanges:!0,ku:!0});return MD(i,A)}(yield Ns(n),n.asyncQueue,e,t,r)})),r.promise}class PC{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new am(this,"async_queue_retry"),this.Wc=()=>{const t=My();t&&re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=My();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=My();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new zn;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Dl(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,it("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Uy.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&ke()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Lm(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class FC{constructor(){this._progressObserver={},this._taskCompletionResolver=new zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nr extends Ad{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PC,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hv(this),this._firestoreClient.terminate()}}function Mr(n){return n._firestoreClient||hv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hv(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sh(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new WD(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Bm(n,e,t){const r=new zn;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield sv(n,t),yield zD(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===be.FAILED_PRECONDITION||d.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Tt("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function bv(n){if(n._initialized||n._terminated)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(Qr.fromBase64String(e))}catch(t){throw new Le(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Va(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._methodName=e}}class vp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const ew=/^__.*__$/;class tw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new yh(e,this.data,t,this.fieldTransforms)}}class Dv{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class bp{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Gm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(wv(this.sa)&&ew.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class nw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Yf(e)}da(e,t,r,i=!1){return new bp({sa:e,methodName:t,fa:r,path:jn.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Cu(n){const e=n._freezeSettings(),t=Yf(n._databaseId);return new nw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dp(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);Ep("Data must be an object, but it was:",d,r);const g=$m(r,d);let y,w;if(l.merge)y=new Hi(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const A=[];for(const k of l.mergeFields){const H=Cp(e,k,t);if(!d.contains(H))throw new Le(be.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);iw(A,H)||A.push(H)}y=new Hi(A),w=d.fieldTransforms.filter(k=>y.covers(k.field))}else y=null,w=d.fieldTransforms;return new tw(new Vr(g),y,w)}class Wh extends Eu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function Iv(n,e,t){return new bp({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class jm extends Eu{_toFieldTransform(e){return new mh(e.path,new gc)}isEqual(e){return e instanceof jm}}class rw extends Eu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Iv(this,e,!0),r=this._a.map(l=>Cc(l,t)),i=new mc(r);return new mh(e.path,i)}isEqual(e){return this===e}}class Ev extends Eu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Iv(this,e,!0),r=this._a.map(l=>Cc(l,t)),i=new Ra(r);return new mh(e.path,i)}isEqual(e){return this===e}}class Cv extends Eu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Il(e.It,ld(e.It,this.wa));return new mh(e.path,t)}isEqual(e){return this===e}}function wp(n,e,t,r){const i=n.da(1,e,t);Ep("Data must be an object, but it was:",i,r);const l=[],d=Vr.empty();$i(r,(y,w)=>{const A=Rl(e,y,t);w=(0,Ht.m9)(w);const k=i.ca(A);if(w instanceof Wh)l.push(A);else{const H=Cc(w,k);null!=H&&(l.push(A),d.set(A,H))}});const g=new Hi(l);return new Dv(d,g,i.fieldTransforms)}function Ip(n,e,t,r,i,l){const d=n.da(1,e,t),g=[Cp(e,r,t)],y=[i];if(l.length%2!=0)throw new Le(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<l.length;H+=2)g.push(Cp(e,l[H])),y.push(l[H+1]);const w=[],A=Vr.empty();for(let H=g.length-1;H>=0;--H)if(!iw(w,g[H])){const K=g[H];let ue=y[H];ue=(0,Ht.m9)(ue);const Ce=d.ca(K);if(ue instanceof Wh)w.push(K);else{const Me=Cc(ue,Ce);null!=Me&&(w.push(K),A.set(K,Me))}}const k=new Hi(w);return new Dv(A,k,d.fieldTransforms)}function Um(n,e,t,r=!1){return Cc(t,n.da(r?4:3,e))}function Cc(n,e){if(Hm(n=(0,Ht.m9)(n)))return Ep("Unsupported field value:",e,n),$m(n,e);if(n instanceof Eu)return function(t,r){if(!wv(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let g=Cc(d,r.aa(l));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ld(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qn.fromDate(t);return{timestampValue:hd(r.It,i)}}if(t instanceof Qn){const i=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hd(r.It,i)}}if(t instanceof vp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Va)return{bytesValue:xb(r.It,t._byteString)};if(t instanceof Yn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fd(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${gp(t)}`)}(n,e)}function $m(n,e){const t={};return wl(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(n,(r,i)=>{const l=Cc(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Hm(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof vp||n instanceof Va||n instanceof Yn||n instanceof Eu)}function Ep(n,e,t){if(!Hm(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Cp(n,e,t){if((e=(0,Ht.m9)(e))instanceof xl)return e._internalPath;if("string"==typeof e)return Rl(n,e);throw Gm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tv=new RegExp("[~\\*/\\[\\]]");function Rl(n,e,t){if(e.search(Tv)>=0)throw Gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch{throw Gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gm(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(l||d)&&(y+=" (found",l&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Le(be.INVALID_ARGUMENT,g+n+y)}function iw(n,e){return n.some(t=>t.isEqual(e))}class Ol{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VC extends Ol{data(){return super.data()}}function zh(n,e){return"string"==typeof e?Rl(n,e):e instanceof xl?e._internalPath:e._delegate._internalPath}function sw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qh{}function Tc(n,...e){for(const t of e)n=t._apply(n);return n}class BC extends qh{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Cu(e.firestore),r=function(i,l,d,g,y,w,A){let k;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Av(A,w);const K=[];for(const ue of A)K.push(Nv(g,i,ue));k={arrayValue:{values:K}}}else k=Nv(g,i,A)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Av(A,w),k=Um(d,"where",A,"in"===w||"not-in"===w);const H=Br.create(y,w,k);return function(K,ue){if(ue.dt()){const Me=_(K);if(null!==Me&&!Me.isEqual(ue.field))throw new Le(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Me.toString()}' and '${ue.field.toString()}'`);const dt=Rf(K);null!==dt&&Mv(0,ue.field,dt)}const Ce=function(Me,dt){for(const pt of Me.filters)if(dt.indexOf(pt.op)>=0)return pt.op;return null}(K,function(Me){switch(Me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ue.op));if(null!==Ce)throw new Le(be.INVALID_ARGUMENT,Ce===ue.op?`Invalid query. You cannot use more than one '${ue.op.toString()}' filter.`:`Invalid query. You cannot use '${ue.op.toString()}' filters with '${Ce.toString()}' filters.`)}(i,H),H}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Ni(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class jC extends qh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Us(i,l);return function(g,y){if(null===Rf(g)){const w=_(g);null!==w&&Mv(0,w,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Ni(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new $s(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ow extends qh{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Ni(e.firestore,e.converter,x(e._query,this.Ia,this.Ta))}}class Tp extends qh{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=lw(e,this.type,this.Ea,this.Aa);return new Ni(e.firestore,e.converter,(i=t,new $s((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class HC extends qh{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=lw(e,this.type,this.Ea,this.Aa);return new Ni(e.firestore,e.converter,(i=t,new $s((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function lw(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof Ol)return function(i,l,d,g,y){if(!g)throw new Le(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const A of m(i))if(A.field.isKeyField())w.push(Wo(l,g.key));else{const k=g.data.field(A.field);if(rh(k))throw new Le(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const H=A.field.canonicalString();throw new Le(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}w.push(k)}return new Ei(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Cu(n.firestore);return function(l,d,g,y,w,A){const k=l.explicitOrderBy;if(w.length>k.length)throw new Le(be.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let K=0;K<w.length;K++){const ue=w[K];if(k[K].field.isKeyField()){if("string"!=typeof ue)throw new Le(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ue}`);if(!f(l)&&-1!==ue.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ue}' contains a slash.`);const Ce=l.path.child(wn.fromString(ue));if(!et.isDocumentKey(Ce))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Me=new et(Ce);H.push(Wo(d,Me))}else{const Ce=Um(g,y,ue);H.push(Ce)}}return new Ei(H,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Nv(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Le(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f(e)&&-1!==t.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wn.fromString(t));if(!et.isDocumentKey(r))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wo(n,new et(r))}if(t instanceof Yn)return Wo(n,t._key);throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gp(t)}.`)}function Av(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mv(n,e,t){if(!t.isEqual(e))throw new Le(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zm{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ke()}}convertObject(e,t){const r={};return $i(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new vp(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ih(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=Sa(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wn.fromString(e);ut(cy(r));const i=new uo(r.get(1),r.get(3)),l=new et(r.popFirst(5));return i.isEqual(t)||it(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function qm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class GC extends zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class xd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bo extends Ol{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sp extends bo{data(e={}){return super.data(e)}}class Tu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sp(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Sp(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xd(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new Sp(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xd(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:WC(d.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function Np(n,e){return n instanceof bo&&e instanceof bo?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Tu&&e instanceof Tu&&n._firestore===e._firestore&&rv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sc extends zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function dw(n,e,t){n=yn(n,Yn);const r=yn(n.firestore,nr),i=qm(n.converter,e,t);return Rd(r,[Dp(Cu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,tr.none())])}function hw(n,e,t,...r){n=yn(n,Yn);const i=yn(n.firestore,nr),l=Cu(i);let d;return d="string"==typeof(e=(0,Ht.m9)(e))||e instanceof xl?Ip(l,"updateDoc",n._key,e,t,r):wp(l,"updateDoc",n._key,e),Rd(i,[d.toMutation(n._key,tr.exists(!0))])}function xv(n,...e){var t,r,i;n=(0,Ht.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Lm(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(Lm(e[d])){const k=e[d];e[d]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[d+2]=null===(i=k.complete)||void 0===i?void 0:i.bind(k)}let y,w,A;if(n instanceof Yn)w=yn(n.firestore,nr),A=su(n._key.path),y={next:k=>{e[d]&&e[d](Rv(w,n,k))},error:e[d+1],complete:e[d+2]};else{const k=yn(n,Ni);w=yn(k.firestore,nr),A=k._query;const H=new Sc(w);y={next:K=>{e[d]&&e[d](new Tu(w,H,k,K))},error:e[d+1],complete:e[d+2]},sw(n._query)}return function(k,H,K,ue){const Ce=new km(ue),Me=new sp(H,Ce,K);return k.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return MD(yield Ns(k),Me)})),()=>{Ce.bc(),k.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return xD(yield Ns(k),Me)}))}}(Mr(w),A,g,y)}function Rd(n,e){return function(t,r){const i=new zn;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function Ml(n,e,t){return Nd.apply(this,arguments)}(yield lv(t),r,i)})),i.promise}(Mr(n),e)}function Rv(n,e,t){const r=t.docs.get(e._key),i=new Sc(n);return new bo(n,i,e._key,r,new xd(t.hasPendingWrites,t.fromCache),e.converter)}const CS={maxAttempts:5};class KC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cu(e)}set(e,t,r){this._verifyNotCommitted();const i=Od(e,this._firestore),l=qm(i.converter,t,r),d=Dp(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,tr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Od(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof xl?Ip(this._dataReader,"WriteBatch.update",l._key,t,r,i):wp(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Od(e,this._firestore);return this._mutations=this._mutations.concat(new vh(t._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Od(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Le(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cu(e)}get(e){const t=Od(e,this._firestore),r=new GC(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ke();const l=i[0];if(l.isFoundDocument())return new Ol(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Ol(this._firestore,r,t._key,null,t.converter);throw ke()})}set(e,t,r){const i=Od(e,this._firestore),l=qm(i.converter,t,r),d=Dp(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Od(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof xl?Ip(this._dataReader,"Transaction.update",l._key,t,r,i):wp(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Od(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Od(e,this._firestore),r=new Sc(this._firestore);return super.get(e).then(i=>new bo(this._firestore,r,t._key,i._document,new xd(!1,!1),t.converter))}}function Ov(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vw(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function Zh(){if(!function td(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$=mi.SDK_VERSION,(0,mi._registerComponent)(new Ri.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new nr(new Ia(t.getProvider("auth-internal")),new $_(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Le(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(g.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,mi.registerVersion)(N,"3.7.1",n),(0,mi.registerVersion)(N,"3.7.1","esm2017")}();class Rp{constructor(e){this._delegate=e}static fromBase64String(e){return Zh(),new Rp(Va.fromBase64String(e))}static fromUint8Array(e){return vw(),new Rp(Va.fromUint8Array(e))}toBase64(){return Zh(),this._delegate.toBase64()}toUint8Array(){return vw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Km(n){return function e1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bw{enableIndexedDbPersistence(e,t){return function fv(n,e){bv(n=yn(n,nr));const t=Mr(n),r=n._freezeSettings(),i=new Nm;return Bm(t,i,new Sm(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Vm(n){bv(n=yn(n,nr));const e=Mr(n),t=n._freezeSettings(),r=new Nm;return Bm(e,r,new NC(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pv(n){if(n._initialized&&!n._terminated)throw new Le(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!Ts.C())return Promise.resolve();const i=r+"main";yield Ts.delete(i)}),function(r){return t.apply(this,arguments)})(Kf(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dw{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof uo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Rm(n,e,t,r={}){var i;const l=(n=yn(n,Ad))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Tt("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=O.MOCK_USER;else{d=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Le(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new O(y)}n._authCredentials=new yl(new co(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function mv(n){return function La(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield Fm(n),t=yield yo(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.wu.delete(0),Jf(i)}(t)}))}(Mr(n=yn(n,nr)))}(this._delegate)}disableNetwork(){return function _v(n){return function ZD(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield Fm(n),t=yield yo(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const l=Je(i);l.wu.add(0),yield Ed(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Mr(n=yn(n,nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Xy("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gv(n){return function(e){const t=new zn;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function Uh(n,e){return bu.apply(this,arguments)}(yield lv(e),t)})),t.promise}(Mr(n=yn(n,nr)))}(this._delegate)}onSnapshotsInSync(e){return function ZC(n,e){return function kC(n,e){const t=new km(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Ns(n),i=t,Je(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Ns(n),i=t,void Je(r).bu.delete(i);var r,i}))}}(Mr(n=yn(n,nr)),Lm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kh(this,Om(this._delegate,e))}catch(t){throw As(t,"collection()","Firestore.collection()")}}doc(e){try{return new Do(this,nv(this._delegate,e))}catch(t){throw As(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cs(this,function tv(n,e){if(n=yn(n,Ad),Am("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(t=e,new $s(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw As(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Zm(n,e,t){n=yn(n,nr);const r=Object.assign(Object.assign({},CS),t);return function(i){if(i.maxAttempts<1)throw new Le(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const g=new zn;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const y=yield function cv(n){return _p(n).then(e=>e.datastore)}(i);new RC(i.asyncQueue,y,d,l,g).run()})),g.promise}(Mr(n),i=>e(new gw(n,i)),r)}(this._delegate,t=>e(new Qm(this,t)))}batch(){return Mr(this._delegate),new ww(new KC(this._delegate,e=>Rd(this._delegate,e)))}loadBundle(e){return function yv(n,e){const t=Mr(n=yn(n,nr)),r=new FC;return function uv(n,e,t,r){const i=function(l,d){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,w){if(y instanceof Uint8Array)return iv(y,w);if(y instanceof ArrayBuffer)return iv(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new di(y,d);var y}(t,Yf(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function UD(n,e,t){const r=Je(n);var i;(i=(0,Te.Z)(function*(l,d,g){try{const y=yield d.getMetadata();if(yield function(H,K){const ue=Je(H),Ce=Ti(K.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",Me=>ue.Ns.getBundleMetadata(Me,K.id)).then(Me=>!!Me&&Me.createTime.compareTo(Ce)>=0)}(l.localStore,y))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(H=y).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);g._updateProgress(OD(y));const w=new TC(y,l.localStore,d.It);let A=yield d.mc();for(;A;){const H=yield w.Fu(A);H&&g._updateProgress(H),A=yield d.mc()}const k=yield w.complete();return yield Fa(l,k.Lu,void 0),yield function(H,K){const ue=Je(H);return ue.persistence.runTransaction("Save bundle","readwrite",Ce=>ue.Ns.saveBundleMetadata(Ce,K))}(l.localStore,y),g._completeWith(k.progress),Promise.resolve(k.Bu)}catch(y){return Tt("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var H}),function(l,d,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield lv(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vv(n,e){return function yp(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield Gh(n),e)}))}(Mr(n=yn(n,nr)),e).then(t=>t?new Ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new cs(this,t):null)}}class Op extends zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rp(new Va(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Do.forKey(t,this.firestore,null)}}class Qm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Op(e)}get(e){const t=Pd(e);return this._delegate.get(t).then(r=>new kd(this._firestore,new bo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Pd(e);return r?(Ov("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Pd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Pd(e);return this._delegate.delete(t),this}}class ww{constructor(e){this._delegate=e}set(e,t,r){const i=Pd(e);return r?(Ov("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Pd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Pd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Su{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kp(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Su.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Su(e,new Op(e),t),i.set(t,l)),l}}Su.INSTANCES=new WeakMap;class Do{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Op(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Do(t,new Yn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Do(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kh(this.firestore,Om(this._delegate,e))}catch(t){throw As(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Yn&&HD(this._delegate,e)}set(e,t){t=Ov("DocumentReference.set",t);try{return t?dw(this._delegate,e,t):dw(this._delegate,e)}catch(r){throw As(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?hw(this._delegate,e):hw(this._delegate,e,t,...r)}catch(i){throw As(i,"updateDoc()","DocumentReference.update()")}}delete(){return function fw(n){return Rd(yn(n.firestore,nr),[new vh(n._key,tr.none())])}(this._delegate)}onSnapshot(...e){const t=Iw(e),r=Ew(e,i=>new kd(this.firestore,new bo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xv(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function uw(n){n=yn(n,Yn);const e=yn(n.firestore,nr),t=Mr(e),r=new Sc(e);return function KD(n,e){const t=new zn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,l,d){try{const g=yield function(y,w){const A=Je(y);return A.persistence.runTransaction("read document","readonly",k=>A.localDocuments.getDocument(k,w))}(i,l);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Le(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=_u(g,`Failed to get document '${l} from cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield Gh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new bo(e,r,n._key,i,new xd(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function zC(n){n=yn(n,Yn);const e=yn(n.firestore,nr);return QD(Mr(e),n._key,{source:"server"}).then(t=>Rv(e,n,t))}(this._delegate):function cw(n){n=yn(n,Yn);const e=yn(n.firestore,nr);return QD(Mr(e),n._key).then(t=>Rv(e,n,t))}(this._delegate),t.then(r=>new kd(this.firestore,new bo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Do(this.firestore,this._delegate.withConverter(e?Su.getInstance(this.firestore,e):null))}}function As(n,e,t){return n.message=n.message.replace(e,t),n}function Iw(n){for(const e of n)if("object"==typeof e&&!Km(e))return e;return{}}function Ew(n,e){var t,r;let i;return i=Km(n[0])?n[0]:Km(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Do(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Np(this._delegate,e._delegate)}}class kp extends kd{data(e){const t=this._delegate.data(e);return function Zr(n,e){n||ke()}(void 0!==t),t}}class cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Op(e)}where(e,t,r){try{return new cs(this.firestore,Tc(this._delegate,function Ft(n,e,t){const r=e,i=zh("where",n);return new BC(i,r,t)}(e,t,r)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cs(this.firestore,Tc(this._delegate,function UC(n,e="asc"){const t=e,r=zh("orderBy",n);return new jC(r,t)}(e,t)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cs(this.firestore,Tc(this._delegate,function Md(n){return Mm("limit",n),new ow("limit",n,"F")}(e)))}catch(t){throw As(t,"limit()","Query.limit()")}}limitToLast(e){try{return new cs(this.firestore,Tc(this._delegate,function $C(n){return Mm("limitToLast",n),new ow("limitToLast",n,"L")}(e)))}catch(t){throw As(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new cs(this.firestore,Tc(this._delegate,function Wm(...n){return new Tp("startAt",n,!0)}(...e)))}catch(t){throw As(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new cs(this.firestore,Tc(this._delegate,function xr(...n){return new Tp("startAfter",n,!1)}(...e)))}catch(t){throw As(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new cs(this.firestore,Tc(this._delegate,function aw(...n){return new HC("endBefore",n,!1)}(...e)))}catch(t){throw As(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new cs(this.firestore,Tc(this._delegate,function Sv(...n){return new HC("endAt",n,!0)}(...e)))}catch(t){throw As(t,"endAt()","Query.endAt()")}}isEqual(e){return rv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Mp(n){n=yn(n,Ni);const e=yn(n.firestore,nr),t=Mr(e),r=new Sc(e);return function OC(n,e){const t=new zn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,l,d){try{const g=yield xh(i,l,!0),y=new FD(l,g.Hi),w=y.Wu(g.documents),A=y.applyChanges(w,!1);d.resolve(A.snapshot)}catch(g){const y=_u(g,`Failed to execute query '${l} against cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield Gh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Tu(e,r,n,i))}(this._delegate):"server"===e?.source?function qC(n){n=yn(n,Ni);const e=yn(n.firestore,nr),t=Mr(e),r=new Sc(e);return YD(t,n._query,{source:"server"}).then(i=>new Tu(e,r,n,i))}(this._delegate):function Ap(n){n=yn(n,Ni);const e=yn(n.firestore,nr),t=Mr(e),r=new Sc(e);return sw(n._query),YD(t,n._query).then(i=>new Tu(e,r,n,i))}(this._delegate),t.then(r=>new kv(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Iw(e),r=Ew(e,i=>new kv(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xv(this._delegate,t,r)}withConverter(e){return new cs(this.firestore,this._delegate.withConverter(e?Su.getInstance(this.firestore,e):null))}}class n1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new n1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new kp(this._firestore,r))})}isEqual(e){return Np(this._delegate,e._delegate)}}class Kh extends cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Do(this.firestore,e):null}doc(e){try{return new Do(this.firestore,void 0===e?nv(this._delegate):nv(this._delegate,e))}catch(t){throw As(t,"doc()","CollectionReference.doc()")}}add(e){return function pw(n,e){const t=yn(n.firestore,nr),r=nv(n),i=qm(n.converter,e);return Rd(t,[Dp(Cu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Do(this.firestore,t))}isEqual(e){return HD(this._delegate,e._delegate)}withConverter(e){return new Kh(this.firestore,this._delegate.withConverter(e?Su.getInstance(this.firestore,e):null))}}function Pd(n){return yn(n,Yn)}class Pv{constructor(...e){this._delegate=new xl(...e)}static documentId(){return new Pv(jn.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function YC(){return new jm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fd(e)}static delete(){const e=function QC(){return new Wh("deleteField")}();return e._methodName="FieldValue.delete",new Fd(e)}static arrayUnion(...e){const t=function mw(...n){return new rw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Fd(t)}static arrayRemove(...e){const t=function xp(...n){return new Ev("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Fd(t)}static increment(e){const t=function JC(n){return new Cv("increment",n)}(e);return t._methodName="FieldValue.increment",new Fd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const r1={Firestore:Dw,GeoPoint:vp,Timestamp:Qn,Blob:Rp,Transaction:Qm,WriteBatch:ww,DocumentReference:Do,DocumentSnapshot:kd,Query:cs,QueryDocumentSnapshot:kp,QuerySnapshot:kv,CollectionReference:Kh,FieldPath:Pv,FieldValue:Fd,setLogLevel:function t1(n){!function je(n){te.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Fv(n){(function i1(n,e){n.INTERNAL.registerComponent(new Ri.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},r1)))})(n,(e,t)=>new Dw(e,t,new bw)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(Gl.Z);var cr=V(7579),Cw=V(6451),Pp=V(5363),Jo=V(8421);function $r(n,e){return(0,Qt.e)((t,r)=>{let i=null,l=0,d=!1;const g=()=>d&&!i&&r.complete();t.subscribe((0,On.x)(r,y=>{i?.unsubscribe();let w=0;const A=l++;(0,Jo.Xf)(n(y,A)).subscribe(i=(0,On.x)(r,k=>r.next(e?e(y,k,A,w++):k),()=>{i=null,g()}))},()=>{d=!0,g()}))})}var Tw=V(6063);class s1 extends cr.x{constructor(e=1/0,t=1/0,r=Tw.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)g=y;g&&r.splice(0,g+1)}}}var Lv=V(3099);function Ym(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Lv.B)({connector:()=>new s1(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Qh=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nc=V(515);function zi(n){return n<=0?()=>Nc.E:(0,Qt.e)((e,t)=>{let r=0;e.subscribe((0,On.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yh(n){return(0,Qt.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Nw(n=Aw){return(0,Qt.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Aw(){return new Qh}function Hs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bt((i,l)=>n(i,l,r)):Hn.y,zi(1),t?Yh(e):Nw(()=>new Qh))}var Ba=V(576);function Vv(n,e){return(0,Ba.m)(e)?$r(()=>n,e):$r(()=>n)}var Bv=V(9468);V(5867);const Pw=new Map,h1={activated:!1,tokenObservers:[]},xS={initialized:!1,enabled:!1};function qi(n){return Pw.get(n)||h1}function Xo(n,e){Pw.set(n,e)}function Fp(){return xS}class jw{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function Uw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const us=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Uv(n){if(!qi(n).activated)throw us.create("use-before-activation",{appName:n.name})}function n_(n,e){return r_.apply(this,arguments)}function r_(){return r_=(0,Te.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const K=yield d.getHeartbeatsHeader();K&&(l["X-Firebase-Client"]=K)}const g={method:"POST",body:JSON.stringify(e),headers:l};let y,w;try{y=yield fetch(n,g)}catch(K){throw us.create("fetch-network-error",{originalErrorMessage:null===(r=K)||void 0===r?void 0:r.message})}if(200!==y.status)throw us.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(K){throw us.create("fetch-parse-error",{originalErrorMessage:null===(i=K)||void 0===i?void 0:i.message})}const A=w.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const k=1e3*Number(A[1]),H=Date.now();return{token:w.token,expireTimeMillis:H+k,issuedAtTimeMillis:H}}),r_.apply(this,arguments)}function RS(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Jh="firebase-app-check-store";let Vp=null;function Xh(){return Vp||(Vp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(us.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Jh,{keyPath:"compositeKey"})}}catch(r){e(us.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Vp)}function Vd(){return Vd=(0,Te.Z)(function*(n,e){const r=(yield Xh()).transaction(Jh,"readwrite"),l=r.objectStore(Jh).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=y=>{d()},r.onerror=y=>{var w;g(us.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),Vd.apply(this,arguments)}const Au=new Fr.Yd("@firebase/app-check");function zv(n,e){return(0,Ht.hl)()?function Hv(n,e){return function Bp(n,e){return Vd.apply(this,arguments)}(function qw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Au.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function o_(){return Fp().enabled}function qv(){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,Te.Z)(function*(){const n=Fp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Zv.apply(this,arguments)}const OS={error:"UNKNOWN_ERROR"};function Kv(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function ef(n){return a_.apply(this,arguments)}function a_(){return a_=(0,Te.Z)(function*(n,e=!1){const t=n.app;Uv(t);const r=qi(t);let l,i=r.token;if(i&&!tf(i)&&(Xo(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(tf(y)?i=y:yield zv(t,void 0))}if(!e&&i&&tf(i))return{token:i.token};let g,d=!1;if(o_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=n_(RS(t,yield qv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield zv(t,y),Xo(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Au.warn(y.message):Au.error(y),l=y}return i?l?g=tf(i)?{token:i.token,internalError:l}:Qv(l):(g={token:i.token},Xo(t,Object.assign(Object.assign({},r),{token:i})),yield zv(t,i)):g=Qv(l),d&&Qw(t,g),g}),a_.apply(this,arguments)}function Up(n,e){const t=qi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Xo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Kw(n){const{app:e}=n,t=qi(e);let r=t.tokenRefresher;r||(r=function _1(n){const{app:e}=n;return new jw((0,Te.Z)(function*(){let r;if(r=qi(e).token?yield ef(n,!0):yield ef(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=qi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Xo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Qw(n,e){const t=qi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function tf(n){return n.expireTimeMillis-Date.now()>0}function Qv(n){return{token:Kv(OS),error:n}}class Yv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qi(this.app);for(const t of e)Up(this.app,t.next);return Promise.resolve()}}const n0="app-check-internal";!function oI(){(0,mi._registerComponent)(new Ri.wA("app-check",n=>function Yw(n,e){return new Yv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(n0).initialize()})),(0,mi._registerComponent)(new Ri.wA(n0,n=>function Jw(n){return{getToken:e=>ef(n,e),addTokenListener:e=>function jp(n,e,t,r){const{app:i}=n,l=qi(i),d={next:t,error:r,type:e};if(Xo(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&tf(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),Kw(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Kw(n))}(n,"INTERNAL",e),removeTokenListener:e=>Up(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mi.registerVersion)("@firebase/app-check","0.5.15")}();class r0{constructor(){return(0,qt.vb)("app-check")}}typeof window<"u"&&window;var uI=V(127);const a0=new u.InjectionToken("angularfire2.auth.use-emulator"),hI=new u.InjectionToken("angularfire2.auth.settings"),fI=new u.InjectionToken("angularfire2.auth.tenant-id"),l0=new u.InjectionToken("angularfire2.auth.langugage-code"),pI=new u.InjectionToken("angularfire2.auth.use-device-language"),c0=new u.InjectionToken("angularfire.auth.persistence"),u0=(n,e,t,r,i,l,d,g)=>(0,We.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))y.settings[w]=A;return g&&y.setPersistence(g),y},[t,r,i,l,d,g]);let rf=(()=>{class n{constructor(t,r,i,l,d,g,y,w,A,k,H,K){const ue=new cr.x,Ce=ft(void 0).pipe((0,Pp.Q)(d.outsideAngular),$r(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9545)))),(0,Xe.U)(()=>(0,We.on)(t,l,r)),(0,Xe.U)(Me=>u0(Me,l,g,w,A,k,y,H)),Ym({bufferSize:1,refCount:!1}));if((0,I.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{Ce.pipe(Hs()).subscribe();const dt=Ce.pipe($r(ht=>ht.getRedirectResult().then(ct=>ct,()=>null)),qt.iC,Ym({bufferSize:1,refCount:!1})),pt=Ce.pipe($r(ht=>new _n.y(ct=>({unsubscribe:l.runOutsideAngular(()=>ht.onAuthStateChanged(mt=>ct.next(mt),mt=>ct.error(mt),()=>ct.complete()))})))),Dt=Ce.pipe($r(ht=>new _n.y(ct=>({unsubscribe:l.runOutsideAngular(()=>ht.onIdTokenChanged(mt=>ct.next(mt),mt=>ct.error(mt),()=>ct.complete()))}))));this.authState=dt.pipe(Vv(pt),(0,Bv.R)(d.outsideAngular),(0,Pp.Q)(d.insideAngular)),this.user=dt.pipe(Vv(Dt),(0,Bv.R)(d.outsideAngular),(0,Pp.Q)(d.insideAngular)),this.idToken=this.user.pipe($r(ht=>ht?(0,tn.D)(ht.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe($r(ht=>ht?(0,tn.D)(ht.getIdTokenResult()):ft(null))),this.credential=(0,Cw.T)(dt,ue,this.authState.pipe(Bt(ht=>!ht))).pipe((0,Xe.U)(ht=>ht?.user?ht:null),(0,Bv.R)(d.outsideAngular),(0,Pp.Q)(d.insideAngular))}return(0,We.pX)(this,Ce,l,{spy:{apply:(Me,dt,pt)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&pt.then(Dt=>ue.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(We.Dh),u.\u0275\u0275inject(We.xv,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(qt.HU),u.\u0275\u0275inject(a0,8),u.\u0275\u0275inject(hI,8),u.\u0275\u0275inject(fI,8),u.\u0275\u0275inject(l0,8),u.\u0275\u0275inject(pI,8),u.\u0275\u0275inject(c0,8),u.\u0275\u0275inject(r0,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gI=(()=>{class n{constructor(){uI.Z.registerVersion("angularfire",qt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[rf]}),n})();function mI(n,e){return function M1(n,e=zt.z){return new _n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function c_(n,e){return mI(n,e).pipe((0,Xe.U)(t=>({payload:t,type:"query"})))}function Wp(n,e){return c_(n,e).pipe(ii(void 0),pi(),(0,Xe.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const y=i.find(A=>A.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),l}))}function yI(n,e,t){return Wp(n,t).pipe(gi((r,i)=>function x1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function R1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return d0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return d0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return d0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Ln(n,e=Hn.y){return n=n??Ga,(0,Qt.e)((t,r)=>{let i,l=!0;t.subscribe((0,On.x)(r,d=>{const g=e(d);(l||!n(i,g))&&(l=!1,i=g,r.next(d))}))})}(),(0,Xe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function d0(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function vI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bI{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Wp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Xe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ii(void 0),pi(),Bt(([r,i])=>i.length>0||!r),(0,Xe.U)(([r,i])=>i),qt.iC)}auditTrail(e){return this.stateChanges(e).pipe(gi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vI(e);return yI(this.query,t,this.afs.schedulers.outsideAngular).pipe(qt.iC)}valueChanges(e={}){return c_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qt.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(qt.iC)}add(e){return this.ref.add(e)}doc(e){return new DI(this.ref.doc(e),this.afs)}}class DI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=f0(r,t);return new bI(i,l,this.afs)}snapshotChanges(){return function _I(n,e){return mI(n,e).pipe(ii(void 0),pi(),(0,Xe.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Xe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe(qt.iC)}}class u_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Wp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Bt(t=>t.length>0),qt.iC):Wp(this.query,this.afs.schedulers.outsideAngular).pipe(qt.iC)}auditTrail(e){return this.stateChanges(e).pipe(gi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vI(e);return yI(this.query,t,this.afs.schedulers.outsideAngular).pipe(qt.iC)}valueChanges(e={}){return c_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),qt.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(qt.iC)}}const O1=new u.InjectionToken("angularfire2.enableFirestorePersistence"),h0=new u.InjectionToken("angularfire2.firestore.persistenceSettings"),d_=new u.InjectionToken("angularfire2.firestore.settings"),wI=new u.InjectionToken("angularfire2.firestore.use-emulator");function f0(n,e=(t=>t)){return{query:e(n),ref:n}}let p0=(()=>{class n{constructor(t,r,i,l,d,g,y,w,A,k,H,K,ue,Ce,Me,dt,pt){this.schedulers=y;const Dt=(0,We.on)(t,g,r),ht=A;k&&u0(Dt,g,H,ue,Ce,Me,K,dt),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const ct=g.runOutsideAngular(()=>Dt.firestore());if(l&&ct.settings(l),ht&&ct.useEmulator(...ht),i&&!(0,I.isPlatformServer)(d)){const mt=()=>{try{return(0,tn.D)(ct.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(en){return typeof console<"u"&&console.warn(en),ft(!1)}};return[ct,g.runOutsideAngular(mt)]}return[ct,ft(!1)]},[l,ht,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=f0(i,r),g=this.schedulers.ngZone.run(()=>l);return new bI(g,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new u_(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new DI(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(We.Dh),u.\u0275\u0275inject(We.xv,8),u.\u0275\u0275inject(O1,8),u.\u0275\u0275inject(d_,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(qt.HU),u.\u0275\u0275inject(h0,8),u.\u0275\u0275inject(wI,8),u.\u0275\u0275inject(rf,8),u.\u0275\u0275inject(a0,8),u.\u0275\u0275inject(hI,8),u.\u0275\u0275inject(fI,8),u.\u0275\u0275inject(l0,8),u.\u0275\u0275inject(pI,8),u.\u0275\u0275inject(c0,8),u.\u0275\u0275inject(r0,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),g0=(()=>{class n{constructor(){uI.Z.registerVersion("angularfire",qt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:O1,useValue:!0},{provide:h0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[p0]}),n})();var Pl=V(3241);const{isArray:k1}=Array,{getPrototypeOf:II,prototype:P1,keys:F1}=Object;function EI(n){if(1===n.length){const e=n[0];if(k1(e))return{args:e,keys:null};if(function L1(n){return n&&"object"==typeof n&&II(n)===P1}(e)){const t=F1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:h_}=Array;function m0(n){return(0,Xe.U)(e=>function V1(n,e){return h_(e)?n(...e):n(e)}(n,e))}function CI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let _0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n}),n})(),jd=(()=>{class n extends _0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const ja=new u.InjectionToken("NgValueAccessor"),B1={provide:ja,useExisting:(0,u.forwardRef)(()=>y0),multi:!0};let y0=(()=>{class n extends jd{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([B1]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const TI={provide:ja,useExisting:(0,u.forwardRef)(()=>Ai),multi:!0},j1=new u.InjectionToken("CompositionEventMode");let Ai=(()=>{class n extends _0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SI(){const n=(0,I.\u0275getDOM)()?(0,I.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(j1,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u.\u0275\u0275ProvidersFeature([TI]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function Ll(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Jn=new u.InjectionToken("NgValidators"),xu=new u.InjectionToken("NgAsyncValidators");function b0(n){return Ll(n.value)?{required:!0}:null}function zp(n){return null}function C0(n){return null!=n}function p_(n){return(0,u.\u0275isPromise)(n)?(0,tn.D)(n):n}function Ac(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function g_(n,e){return e.map(t=>t(n))}function Vl(n){return n.map(e=>function T0(n){return!n.validate}(e)?e:t=>e.validate(t))}function xI(n){return null!=n?function S0(n){if(!n)return null;const e=n.filter(C0);return 0==e.length?null:function(t){return Ac(g_(t,e))}}(Vl(n)):null}function A0(n){return null!=n?function N0(n){if(!n)return null;const e=n.filter(C0);return 0==e.length?null:function(t){return function Fl(...n){const e=(0,Rn.jO)(n),{args:t,keys:r}=EI(n),i=new _n.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let y=d,w=d;for(let A=0;A<d;A++){let k=!1;(0,Jo.Xf)(t[A]).subscribe((0,On.x)(l,H=>{k||(k=!0,w--),g[A]=H},()=>y--,void 0,()=>{(!y||!k)&&(w||l.next(r?CI(r,g):g),l.complete())}))}});return e?i.pipe(m0(e)):i}(g_(t,e).map(p_)).pipe((0,Xe.U)(Ac))}}(Vl(n)):null}function M0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R0(n){return n?Array.isArray(n)?n:[n]:[]}function qp(n,e){return Array.isArray(n)?n.includes(e):n===e}function O0(n,e){const t=R0(e);return R0(n).forEach(i=>{qp(t,i)||t.push(i)}),t}function k0(n,e){return R0(e).filter(t=>!qp(n,t))}class OI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=A0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mi extends OI{get formDirective(){return null}get path(){return null}}class Bl extends OI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ud=(()=>{class n extends P0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Bl,2))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})(),Ru=(()=>{class n extends P0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mi,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const $d="VALID",Ou="INVALID",af="PENDING",Kp="DISABLED";function __(n){return(lf(n)?n.validators:n)||null}function ku(n){return Array.isArray(n)?xI(n):n||null}function y_(n,e){return(lf(e)?e.asyncValidators:n)||null}function v_(n){return Array.isArray(n)?A0(n):n||null}function lf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class D_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ku(this._rawValidators),this._composedAsyncValidatorFn=v_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$d}get invalid(){return this.status===Ou}get pending(){return this.status==af}get disabled(){return this.status===Kp}get enabled(){return this.status!==Kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ku(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=v_(e)}addValidators(e){this.setValidators(O0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(O0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(k0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(k0(e,this._rawAsyncValidators))}hasValidator(e){return qp(this._rawValidators,e)}hasAsyncValidator(e){return qp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=af,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===af)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kp:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=af,this._hasOwnPendingAsyncValidator=!0;const t=p_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.EventEmitter,this.statusChanges=new u.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Kp:this.errors?Ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(af)?af:this._anyControlsHaveStatus(Ou)?Ou:$d}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Pu extends D_{constructor(e,t,r){super(__(t),y_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function b_(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.\u0275RuntimeError(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function PI(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.\u0275RuntimeError(1e3,"");if(!r[t])throw new u.\u0275RuntimeError(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Yp(n,e){I_(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function FI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&LI(n,e)})}(n,e),function VI(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function J1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&LI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Y1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function w_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function I_(n,e){const t=function RI(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(M0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function x0(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(M0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();w_(e._rawValidators,i),w_(e._rawAsyncValidators,i)}function LI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const nT={provide:Mi,useExisting:(0,u.forwardRef)(()=>Hd)},eg=(()=>Promise.resolve())();let Hd=(()=>{class n extends Mi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.EventEmitter,this.form=new Pu({},xI(t),A0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){eg.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){eg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){eg.then(()=>{const r=this._findContainer(t.path),i=new Pu({});(function E_(n,e){I_(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){eg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){eg.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function jI(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Jn,10),u.\u0275\u0275directiveInject(xu,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.\u0275\u0275ProvidersFeature([nT]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function UI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $I(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const HI=class extends D_{constructor(e=null,t,r){super(__(t),y_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$I(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$I(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},h={provide:Bl,useExisting:(0,u.forwardRef)(()=>v)},p=(()=>Promise.resolve())();let v=(()=>{class n extends Bl{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new HI,this._registered=!1,this.update=new u.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function j0(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Ai?t=l:function eT(n){return Object.getPrototypeOf(n.constructor)===jd}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function B0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){p.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.\u0275coerceToBoolean)(r);p.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Qp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mi,9),u.\u0275\u0275directiveInject(Jn,10),u.\u0275\u0275directiveInject(xu,10),u.\u0275\u0275directiveInject(ja,10),u.\u0275\u0275directiveInject(u.ChangeDetectorRef,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.\u0275\u0275ProvidersFeature([h]),u.\u0275\u0275InheritDefinitionFeature,u.\u0275\u0275NgOnChangesFeature]}),n})(),D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const C={provide:ja,useExisting:(0,u.forwardRef)(()=>M),multi:!0};let M=(()=>{class n extends jd{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([C]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();let rg=(()=>{class n{constructor(){this._validator=zp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();const ix={provide:Jn,useExisting:(0,u.forwardRef)(()=>ig),multi:!0};let ig=(()=>{class n extends rg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.\u0275coerceToBoolean,this.createValidator=t=>b0}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[u.\u0275\u0275ProvidersFeature([ix]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const ax={provide:Jn,useExisting:(0,u.forwardRef)(()=>WI),multi:!0};let WI=(()=>{class n extends rg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function tN(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function I0(n){return e=>Ll(e.value)||!function NI(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[u.\u0275\u0275ProvidersFeature([ax]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const cx={provide:Jn,useExisting:(0,u.forwardRef)(()=>zI),multi:!0};let zI=(()=>{class n extends rg{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function MI(n){if(!n)return zp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ll(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[u.\u0275\u0275ProvidersFeature([cx]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[Q]}),n})(),lN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[ux]}),n})();class hs extends cr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var hx=V(9672);function qI(...n){const e=(0,Rn.yG)(n),t=(0,Rn.jO)(n),{args:r,keys:i}=EI(n);if(0===r.length)return(0,tn.D)([],e);const l=new _n.y(function fx(n,e,t=Hn.y){return r=>{cN(e,()=>{const{length:i}=n,l=new Array(i);let d=i,g=i;for(let y=0;y<i;y++)cN(e,()=>{const w=(0,tn.D)(n[y],e);let A=!1;w.subscribe((0,On.x)(r,k=>{l[y]=k,A||(A=!0,g--),g||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>CI(i,d):Hn.y));return t?l.pipe(m0(t)):l}function cN(n,e,t){n?(0,hx.f)(t,n,e):e()}function uN(n){return new _n.y(e=>{(0,Jo.Xf)(n()).subscribe(e)})}var px=V(9635);function W0(n,e){const t=(0,Ba.m)(n)?n:()=>n,r=i=>i.error(t());return new _n.y(e?i=>e.schedule(r,0,i):r)}var dN=V(727);function sT(){return(0,Qt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,On.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hN extends _n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dN.w0;const t=this.getSubject();e.add(this.source.subscribe((0,On.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dN.w0.EMPTY)}return e}refCount(){return sT()(this)}}var Ms=V(5577);function sg(n,e){return(0,Ba.m)(e)?(0,Ms.z)(n,e,1):(0,Ms.z)(n,1)}var fs=V(8505);function cf(n){return(0,Qt.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,On.x)(t,void 0,void 0,d=>{l=(0,Jo.Xf)(n(d,cf(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function oT(n){return n<=0?()=>Nc.E:(0,Qt.e)((e,t)=>{let r=[];e.subscribe((0,On.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function fN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bt((i,l)=>n(i,l,r)):Hn.y,oT(1),t?Yh(e):Nw(()=>new Qh))}function aT(n){return(0,Qt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const vn="primary",z0=Symbol("RouteTitle");class mx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function N_(n){return new mx(n)}function _x(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],g=n[l];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!gN(n[i],e[i]))return!1;return!0}function gN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function mN(n){return Array.prototype.concat.apply([],n)}function _N(n){return n.length>0?n[n.length-1]:null}function xs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function uf(n){return(0,u.\u0275isObservable)(n)?n:(0,u.\u0275isPromise)(n)?(0,tn.D)(Promise.resolve(n)):ft(n)}const bx={exact:function bN(n,e,t){if(!ag(n.segments,e.segments)||!ZI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bN(n.children[r],e.children[r],t))return!1;return!0},subset:DN},yN={exact:function Dx(n,e){return Fu(n,e)},subset:function wx(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gN(n[t],e[t]))},ignored:()=>!0};function vN(n,e,t){return bx[t.paths](n.root,e.root,t.matrixParams)&&yN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function DN(n,e,t){return wN(n,e,e.segments,t)}function wN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ag(i,t)||e.hasChildren()||!ZI(i,t,r))}if(n.segments.length===t.length){if(!ag(n.segments,t)||!ZI(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!DN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ag(n.segments,i)&&ZI(n.segments,i,r)&&n.children[vn])&&wN(n.children[vn],e,l,r)}}function ZI(n,e,t){return e.every((r,i)=>yN[t](n[i].parameters,r.parameters))}class og{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=N_(this.queryParams)),this._queryParamMap}toString(){return Cx.serialize(this)}}class In{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xs(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KI(this)}}class q0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=N_(this.parameters)),this._parameterMap}toString(){return TN(this)}}function ag(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let IN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return new cT},providedIn:"root"}),n})();class cT{parse(e){const t=new kx(e);return new og(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Z0(e.root,!0)}`,r=function Nx(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${QI(t)}=${QI(i)}`).join("&"):`${QI(t)}=${QI(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Tx(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Cx=new cT;function KI(n){return n.segments.map(e=>TN(e)).join("/")}function Z0(n,e){if(!n.hasChildren())return KI(n);if(e){const t=n.children[vn]?Z0(n.children[vn],!1):"",r=[];return xs(n.children,(i,l)=>{l!==vn&&r.push(`${l}:${Z0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ex(n,e){let t=[];return xs(n.children,(r,i)=>{i===vn&&(t=t.concat(e(r,i)))}),xs(n.children,(r,i)=>{i!==vn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===vn?[Z0(n.children[vn],!1)]:[`${i}:${Z0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vn]?`${KI(n)}/${t[0]}`:`${KI(n)}/(${t.join("//")})`}}function EN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QI(n){return EN(n).replace(/%3B/gi,";")}function uT(n){return EN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function YI(n){return decodeURIComponent(n)}function CN(n){return YI(n.replace(/\+/g,"%20"))}function TN(n){return`${uT(n.path)}${function Sx(n){return Object.keys(n).map(e=>`;${uT(e)}=${uT(n[e])}`).join("")}(n.parameters)}`}const Ax=/^[^\/()?;=#]+/;function JI(n){const e=n.match(Ax);return e?e[0]:""}const Mx=/^[^=?&#]+/,Rx=/^[^&#]+/;class kx{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[vn]=new In(e,t)),r}parseSegment(){const e=JI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.\u0275RuntimeError(4009,!1);return this.capture(e),new q0(YI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=JI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=JI(this.remaining);i&&(r=i,this.capture(r))}e[YI(t)]=YI(r)}parseQueryParam(e){const t=function xx(n){const e=n.match(Mx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Ox(n){const e=n.match(Rx);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=CN(t),l=CN(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=JI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.\u0275RuntimeError(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=vn);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[vn]:new In([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.\u0275RuntimeError(4011,!1)}}function dT(n){return n.segments.length>0?new In([],{[vn]:n}):n}function XI(n){const e={};for(const r of Object.keys(n.children)){const l=XI(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Px(n){if(1===n.numberOfChildren&&n.children[vn]){const e=n.children[vn];return new In(n.segments.concat(e.segments),e.children)}return n}(new In(n.segments,e))}function lg(n){return n instanceof og}function Vx(n,e,t,r,i){if(0===t.length)return A_(e.root,e.root,e.root,r,i);const l=function AN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return xs(l.outlets,(y,w)=>{g[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:g}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,l]},[]);return new NN(t,e,r)}(t);return l.toRoot()?A_(e.root,e.root,new In([],{}),r,i):function d(y){const w=function jx(n,e,t,r){if(n.isAbsolute)return new M_(e.root,!0,0);if(-1===r)return new M_(t,t===e.root,0);return function MN(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.\u0275RuntimeError(4005,!1);i=r.segments.length}return new M_(r,!1,i-l)}(t,r+(K0(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),A=w.processChildren?Y0(w.segmentGroup,w.index,l.commands):fT(w.segmentGroup,w.index,l.commands);return A_(e.root,w.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function K0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Q0(n){return"object"==typeof n&&null!=n&&n.outlets}function A_(n,e,t,r,i){let d,l={};r&&xs(r,(y,w)=>{l[w]=Array.isArray(y)?y.map(A=>`${A}`):`${y}`}),d=n===e?t:SN(n,e,t);const g=dT(XI(d));return new og(g,l,i)}function SN(n,e,t){const r={};return xs(n.children,(i,l)=>{r[l]=i===e?t:SN(i,e,t)}),new In(n.segments,r)}class NN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&K0(r[0]))throw new u.\u0275RuntimeError(4003,!1);const i=r.find(Q0);if(i&&i!==_N(r))throw new u.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class M_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function fT(n,e,t){if(n||(n=new In([],{})),0===n.segments.length&&n.hasChildren())return Y0(n,e,t);const r=function $x(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],g=t[r];if(Q0(g))break;const y=`${g}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!RN(y,w,d))return l;r+=2}else{if(!RN(y,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new In(n.segments.slice(0,r.pathIndex),{});return l.children[vn]=new In(n.segments.slice(r.pathIndex),n.children),Y0(l,0,i)}return r.match&&0===i.length?new In(n.segments,{}):r.match&&!n.hasChildren()?pT(n,e,t):r.match?Y0(n,0,i):pT(n,e,t)}function Y0(n,e,t){if(0===t.length)return new In(n.segments,{});{const r=function Ux(n){return Q0(n[0])?n[0].outlets:{[vn]:n}}(t),i={};return xs(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=fT(n.children[d],e,l))}),xs(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new In(n.segments,i)}}function pT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Q0(l)){const y=Hx(l.outlets);return new In(r,y)}if(0===i&&K0(t[0])){r.push(new q0(n.segments[e].path,xN(t[0]))),i++;continue}const d=Q0(l)?l.outlets[vn]:`${l}`,g=i<t.length-1?t[i+1]:null;d&&g&&K0(g)?(r.push(new q0(d,xN(g))),i+=2):(r.push(new q0(d,{})),i++)}return new In(r,{})}function Hx(n){const e={};return xs(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pT(new In([],{}),0,t))}),e}function xN(n){const e={};return xs(n,(t,r)=>e[r]=`${t}`),e}function RN(n,e,t){return n==t.path&&Fu(e,t.parameters)}class Gd{constructor(e,t){this.id=e,this.url=t}}class gT extends Gd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cg extends Gd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eE extends Gd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ON extends Gd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gx extends Gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wx extends Gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zx extends Gd{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qx extends Gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zx extends Gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xx{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class PN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_T(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _T(e,this._root).map(t=>t.value)}}function mT(n,e){if(n===e.value)return e;for(const t of e.children){const r=mT(n,t);if(r)return r}return null}function _T(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_T(n,t);if(r.length)return r.unshift(e),r}return[]}class Wd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function x_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class FN extends PN{constructor(e,t){super(e),this.snapshot=t,yT(this,e)}toString(){return this.snapshot.toString()}}function LN(n,e){const t=function nR(n,e){const d=new tE([],{},{},"",{},vn,e,null,n.root,-1,{});return new BN("",new Wd(d,[]))}(n,e),r=new hs([new q0("",{})]),i=new hs({}),l=new hs({}),d=new hs({}),g=new hs(""),y=new df(r,i,d,g,l,vn,e,t.root);return y.snapshot=t.root,new FN(new Wd(y,[]),t)}class df{constructor(e,t,r,i,l,d,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,Xe.U)(w=>w[z0]))??ft(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(e=>N_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(e=>N_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function rR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tE{constructor(e,t,r,i,l,d,g,y,w,A,k,H){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.[z0],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=A,this._correctedLastPathIndex=H??A,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=N_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=N_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BN extends PN{constructor(e,t){super(t),this.url=e,yT(this,t)}toString(){return jN(this._root)}}function yT(n,e){e.value._routerState=n,e.children.forEach(t=>yT(n,t))}function jN(n){const e=n.children.length>0?` { ${n.children.map(jN).join(", ")} } `:"";return`${n.value}${e}`}function vT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fu(e.params,t.params)||n.params.next(t.params),function yx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bT(n,e){const t=Fu(n.params,e.params)&&function Ix(n,e){return ag(n,e)&&n.every((t,r)=>Fu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bT(n.parent,e.parent))}function J0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function sR(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return J0(n,r,i);return J0(n,r)})}(n,e,t);return new Wd(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>J0(n,g)),d}}const r=function oR(n){return new df(new hs(n.url),new hs(n.params),new hs(n.queryParams),new hs(n.fragment),new hs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>J0(n,l));return new Wd(r,i)}}const DT="ngNavigationCancelingError";function UN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=lg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$N(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $N(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[DT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function HN(n){return GN(n)&&lg(n.url)}function GN(n){return n&&n[DT]}class aR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new X0,this.attachRef=null}}let X0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new aR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nE=!1;let wT=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.EventEmitter,this.deactivateEvents=new u.EventEmitter,this.attachEvents=new u.EventEmitter,this.detachEvents=new u.EventEmitter,this.name=i||vn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.\u0275RuntimeError(4012,nE);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.\u0275RuntimeError(4012,nE);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.\u0275RuntimeError(4012,nE);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.\u0275RuntimeError(4013,nE);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new lR(t,g,i.injector);if(r&&function cR(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(X0),u.\u0275\u0275directiveInject(u.ViewContainerRef),u.\u0275\u0275injectAttribute("name"),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.EnvironmentInjector))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class lR{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===df?this.route:e===X0?this.childContexts:this.parent.get(e,t)}}let IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[wT],encapsulation:2}),n})();function WN(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function CT(n){const e=n.children&&n.children.map(CT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vn&&(t.component=IT),t}function jl(n){return n.outlet||vn}function zN(n,e){const t=n.filter(r=>jl(r)===e);return t.push(...n.filter(r=>jl(r)!==e)),t}function eb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pR{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=x_(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),xs(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=x_(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=x_(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=x_(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new eR(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Jx(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(vT(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),vT(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=eb(i.snapshot),y=g?.get(u.ComponentFactoryResolver)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=g,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class qN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rE{constructor(e,t){this.component=e,this.route=t}}function gR(n,e,t){const r=n._root;return tb(r,e?e._root:null,t,[r.value])}function R_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.\u0275isInjectable)(n)?e.get(n):n:r}function tb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=x_(e);return n.children.forEach(d=>{(function _R(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const y=function yR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ag(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ag(n.url,e.url)||!Fu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bT(n,e)||!Fu(n.queryParams,e.queryParams);default:return!bT(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new qN(r)):(l.data=d.data,l._resolvedData=d._resolvedData),tb(n,e,l.component?g?g.children:null:t,r,i),y&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new rE(g.outlet.component,d))}else d&&nb(e,g,i),i.canActivateChecks.push(new qN(r)),tb(n,null,l.component?g?g.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),xs(l,(d,g)=>nb(d,t.getContext(g),i)),i}function nb(n,e,t){const r=x_(n),i=n.value;xs(r,(l,d)=>{nb(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new rE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rb(n){return"function"==typeof n}function TT(n){return n instanceof Qh||"EmptyError"===n?.name}const iE=Symbol("INITIAL_VALUE");function O_(){return $r(n=>qI(n.map(e=>e.pipe(zi(1),ii(iE)))).pipe((0,Xe.U)(e=>{for(const t of e)if(!0!==t){if(t===iE)return iE;if(!1===t||t instanceof og)return t}return!0}),Bt(e=>e!==iE),zi(1)))}function ZN(n){return(0,px.z)((0,fs.b)(e=>{if(lg(e))throw UN(0,e)}),(0,Xe.U)(e=>!0===e))}const ST={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KN(n,e,t,r,i){const l=NT(n,e,t);return l.matched?function PR(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ft(i.map(d=>{const g=R_(d,n);return uf(function ER(n){return n&&rb(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(O_(),ZN()):ft(!0)}(r=WN(e,r),e,t).pipe((0,Xe.U)(d=>!0===d?l:{...ST})):ft(l)}function NT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ST}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_x)(t,n,e);if(!i)return{...ST};const l={};xs(i.posParams,(g,y)=>{l[y]=g.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function sE(n,e,t,r,i="corrected"){if(t.length>0&&function VR(n,e,t){return t.some(r=>oE(n,e,r)&&jl(r)!==vn)}(n,t,r)){const d=new In(e,function LR(n,e,t,r){const i={};i[vn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&jl(l)!==vn){const d=new In([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[jl(l)]=d}return i}(n,e,r,new In(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function BR(n,e,t){return t.some(r=>oE(n,e,r))}(n,t,r)){const d=new In(n.segments,function FR(n,e,t,r,i,l){const d={};for(const g of r)if(oE(n,t,g)&&!i[jl(g)]){const y=new In([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[jl(g)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new In(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function oE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QN(n,e,t,r){return!!(jl(n)===r||r!==vn&&oE(e,t,n))&&("**"===n.path||NT(e,n,t).matched)}function YN(n,e,t){return 0===e.length&&!n.children[t]}const aE=!1;class lE{constructor(e){this.segmentGroup=e||null}}class JN{constructor(e){this.urlTree=e}}function ib(n){return W0(new lE(n))}function XN(n){return W0(new JN(n))}class HR{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=sE(this.urlTree.root,[],[],this.config).segmentGroup,t=new In(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,vn).pipe((0,Xe.U)(l=>this.createUrlTree(XI(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cf(l=>{if(l instanceof JN)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof lE?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,vn).pipe((0,Xe.U)(i=>this.createUrlTree(XI(i),e.queryParams,e.fragment))).pipe(cf(i=>{throw i instanceof lE?this.noMatchError(i):i}))}noMatchError(e){return new u.\u0275RuntimeError(4002,aE)}createUrlTree(e,t,r){const i=dT(e);return new og(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Xe.U)(l=>new In([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,tn.D)(i).pipe(sg(l=>{const d=r.children[l],g=zN(t,l);return this.expandSegmentGroup(e,g,d,l).pipe((0,Xe.U)(y=>({segment:y,outlet:l})))}),gi((l,d)=>(l[d.outlet]=d.segment,l),{}),fN())}expandSegment(e,t,r,i,l,d){return(0,tn.D)(r).pipe(sg(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,l,d).pipe(cf(w=>{if(w instanceof lE)return ft(null);throw w}))),Hs(g=>!!g),cf((g,y)=>{if(TT(g))return YN(t,i,l)?ft(new In([],{})):ib(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,l,d,g){return QN(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):ib(t):ib(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XN(l):this.lineralizeSegments(r,l).pipe((0,Ms.z)(d=>{const g=new In(d,{});return this.expandSegment(e,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:g,consumedSegments:y,remainingSegments:w,positionalParamSegments:A}=NT(t,i,l);if(!g)return ib(t);const k=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?XN(k):this.lineralizeSegments(i,k).pipe((0,Ms.z)(H=>this.expandSegment(e,t,r,H.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=WN(r,e),r.loadChildren?(r._loadedRoutes?ft({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Xe.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new In(i,{})))):ft(new In(i,{}))):KN(t,r,i,e).pipe($r(({matched:d,consumedSegments:g,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ms.z)(A=>{const k=A.injector??e,H=A.routes,{segmentGroup:K,slicedSegments:ue}=sE(t,g,y,H),Ce=new In(K.segments,K.children);if(0===ue.length&&Ce.hasChildren())return this.expandChildren(k,H,Ce).pipe((0,Xe.U)(Dt=>new In(g,Dt)));if(0===H.length&&0===ue.length)return ft(new In(g,{}));const Me=jl(r)===l;return this.expandSegment(k,Ce,H,ue,Me?vn:l,!0).pipe((0,Xe.U)(pt=>new In(g.concat(pt.segments),pt.children)))})):ib(t)))}getChildConfig(e,t,r){return t.children?ft({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ft({routes:t._loadedRoutes,injector:t._loadedInjector}):function kR(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ft(!0):ft(i.map(d=>{const g=R_(d,n);return uf(function bR(n){return n&&rb(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(O_(),ZN())}(e,t,r).pipe((0,Ms.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,fs.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function UR(n){return W0($N(aE,3))}())):ft({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ft(r);if(i.numberOfChildren>1||!i.children[vn])return W0(new u.\u0275RuntimeError(4e3,aE));i=i.children[vn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new og(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xs(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[l]=t[g]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return xs(t.children,(g,y)=>{d[y]=this.createSegmentGroup(e,g,r,i)}),new In(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.\u0275RuntimeError(4001,aE);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class WR{}class ZR{constructor(e,t,r,i,l,d,g,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=sE(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,vn).pipe((0,Xe.U)(t=>{if(null===t)return null;const r=new tE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Wd(r,t),l=new BN(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=VN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(sg(i=>{const l=r.children[i],d=zN(t,i);return this.processSegmentGroup(e,d,l,i)}),gi((i,l)=>i&&l?(i.push(...l),i):null),function gx(n,e=!1){return(0,Qt.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),Yh(null),fN(),(0,Xe.U)(i=>{if(null===i)return null;const l=eA(i);return function KR(n){n.sort((e,t)=>e.value.outlet===vn?-1:t.value.outlet===vn?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,tn.D)(t).pipe(sg(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),Hs(d=>!!d),cf(d=>{if(TT(d))return YN(r,i,l)?ft([]):ft(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!QN(t,r,i,l))return ft(null);let d;if("**"===t.path){const g=i.length>0?_N(i).parameters:{},y=nA(r)+i.length;d=ft({snapshot:new tE(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iA(t),jl(t),t.component??t._loadedComponent??null,t,tA(r),y,sA(t),y),consumedSegments:[],remainingSegments:[]})}else d=KN(r,t,i,e).pipe((0,Xe.U)(({matched:g,consumedSegments:y,remainingSegments:w,parameters:A})=>{if(!g)return null;const k=nA(r)+y.length;return{snapshot:new tE(y,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iA(t),jl(t),t.component??t._loadedComponent??null,t,tA(r),k,sA(t),k),consumedSegments:y,remainingSegments:w}}));return d.pipe($r(g=>{if(null===g)return ft(null);const{snapshot:y,consumedSegments:w,remainingSegments:A}=g;e=t._injector??e;const k=t._loadedInjector??e,H=function QR(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:K,slicedSegments:ue}=sE(r,w,A,H.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution);if(0===ue.length&&K.hasChildren())return this.processChildren(k,H,K).pipe((0,Xe.U)(Me=>null===Me?null:[new Wd(y,Me)]));if(0===H.length&&0===ue.length)return ft([new Wd(y,[])]);const Ce=jl(t)===l;return this.processSegment(k,H,K,ue,Ce?vn:l).pipe((0,Xe.U)(Me=>null===Me?null:[new Wd(y,Me)]))}))}}function YR(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function eA(n){const e=[],t=new Set;for(const r of n){if(!YR(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=eA(r.children);e.push(new Wd(r.value,i))}return e.filter(r=>!t.has(r))}function tA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nA(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function iA(n){return n.data||{}}function sA(n){return n.resolve||{}}function eO(n,e){return(0,Ms.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ft(t);let l=0;return(0,tn.D)(i).pipe(sg(d=>function tO(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!oA(i)&&(l[z0]=i.title),function nO(n,e,t,r){const i=function rO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ft({});const l={};return(0,tn.D)(i).pipe((0,Ms.z)(d=>function iO(n,e,t,r){const i=eb(e)??r,l=R_(n,i);return uf(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Hs(),(0,fs.b)(g=>{l[d]=g}))),oT(1),function pN(n){return(0,Xe.U)(()=>n)}(l),cf(d=>TT(d)?Nc.E:W0(d)))}(l,n,e,r).pipe((0,Xe.U)(d=>(n._resolvedData=d,n.data=VN(n,t).resolve,i&&oA(i)&&(n.data[z0]=i.title),null)))}(d.route,r,n,e)),(0,fs.b)(()=>l++),oT(1),(0,Ms.z)(d=>l===i.length?ft(t):Nc.E))})}function oA(n){return"string"==typeof n.title||null===n.title}function AT(n){return $r(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,Xe.U)(()=>e)):ft(e)})}let aA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===vn);return r}getResolvedTitleForRoute(t){return t.data[z0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,u.inject)(lA)},providedIn:"root"}),n})(),lA=(()=>{class n extends aA{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject($n))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sO{}class aO extends class oO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const uE=new u.InjectionToken("",{providedIn:"root",factory:()=>({})}),MT=new u.InjectionToken("ROUTES");let xT=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ft(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=uf(t.loadComponent()).pipe((0,fs.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),aT(()=>{this.componentLoaders.delete(t)})),i=new hN(r,()=>new cr.x).pipe(sT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Xe.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,A=!1;Array.isArray(g)?w=g:(y=g.create(t).injector,w=mN(y.get(MT,[],u.InjectFlags.Self|u.InjectFlags.Optional)));return{routes:w.map(CT),injector:y}}),aT(()=>{this.childrenLoaders.delete(r)})),d=new hN(l,()=>new cr.x).pipe(sT());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return uf(t()).pipe((0,Ms.z)(r=>r instanceof u.NgModuleFactory||Array.isArray(r)?ft(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(u.Compiler))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cO{}class uO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dO(n){throw n}function hO(n,e,t){return e.parse("/")}const fO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function uA(){const n=(0,u.inject)(IN),e=(0,u.inject)(X0),t=(0,u.inject)(I.Location),r=(0,u.inject)(u.Injector),i=(0,u.inject)(u.Compiler),l=(0,u.inject)(MT,{optional:!0})??[],d=(0,u.inject)(uE,{optional:!0})??{},g=(0,u.inject)(lA),y=(0,u.inject)(aA,{optional:!0}),w=(0,u.inject)(cO,{optional:!0}),A=(0,u.inject)(sO,{optional:!0}),k=new Rr(null,n,e,t,r,i,mN(l));return w&&(k.urlHandlingStrategy=w),A&&(k.routeReuseStrategy=A),k.titleStrategy=y??g,function gO(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,k),k}let Rr=(()=>{class n{constructor(t,r,i,l,d,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cr.x,this.errorHandler=dO,this.malformedUriErrorHandler=hO,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ft(void 0),this.urlHandlingStrategy=new uO,this.routeReuseStrategy=new aO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(xT),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new Qx(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new Kx(H)),this.ngModule=d.get(u.NgModuleRef),this.console=d.get(u.\u0275Console);const k=d.get(u.NgZone);this.isNgZoneEnabled=k instanceof u.NgZone&&u.NgZone.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function vx(){return new og(new In([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LN(this.currentUrlTree,this.rootComponentType),this.transitions=new hs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Bt(i=>0!==i.id),(0,Xe.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),$r(i=>{let l=!1,d=!1;return ft(i).pipe((0,fs.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$r(g=>{const y=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return dA(g.source)&&(this.browserUrlTree=g.extractedUrl),ft(g).pipe($r(k=>{const H=this.transitions.getValue();return r.next(new gT(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),H!==this.transitions.getValue()?Nc.E:Promise.resolve(k)}),function GR(n,e,t,r){return $r(i=>function $R(n,e,t,r,i){return new HR(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Xe.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fs.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},i.urlAfterRedirects=k.urlAfterRedirects}),function XR(n,e,t,r,i,l){return(0,Ms.z)(d=>function qR(n,e,t,r,i,l,d="emptyOnly",g="legacy"){return new ZR(n,e,t,r,i,d,g,l).recognize().pipe($r(y=>null===y?function zR(n){return new _n.y(e=>e.error(n))}(new WR):ft(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,Xe.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fs.b)(k=>{if(i.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(K,k)}this.browserUrlTree=k.urlAfterRedirects}const H=new Gx(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next(H)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:K,source:ue,restoredState:Ce,extras:Me}=g,dt=new gT(H,this.serializeUrl(K),ue,Ce);r.next(dt);const pt=LN(K,this.rootComponentType).snapshot;return ft(i={...g,targetSnapshot:pt,urlAfterRedirects:K,extras:{...Me,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Nc.E}),(0,fs.b)(g=>{const y=new Wx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,Xe.U)(g=>i={...g,guards:gR(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function TR(n,e){return(0,Ms.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?ft({...t,guardsResult:!0}):function SR(n,e,t,r){return(0,tn.D)(n).pipe((0,Ms.z)(i=>function OR(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ft(l.map(g=>{const y=eb(e)??i,w=R_(g,y);return uf(function IR(n){return n&&rb(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Hs())})).pipe(O_()):ft(!0)}(i.component,i.route,t,e,r)),Hs(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ms.z)(g=>g&&function vR(n){return"boolean"==typeof n}(g)?function NR(n,e,t,r){return(0,tn.D)(e).pipe(sg(i=>Vt(function MR(n,e){return null!==n&&e&&e(new Yx(n)),ft(!0)}(i.route.parent,r),function AR(n,e){return null!==n&&e&&e(new Xx(n)),ft(!0)}(i.route,r),function RR(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function mR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>uN(()=>ft(d.guards.map(y=>{const w=eb(d.node)??t,A=R_(y,w);return uf(function wR(n){return n&&rb(n.canActivateChild)}(A)?A.canActivateChild(r,n):w.runInContext(()=>A(r,n))).pipe(Hs())})).pipe(O_())));return ft(l).pipe(O_())}(n,i.path,t),function xR(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const i=r.map(l=>uN(()=>{const d=eb(e)??t,g=R_(l,d);return uf(function DR(n){return n&&rb(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(Hs())}));return ft(i).pipe(O_())}(n,i.route,t))),Hs(i=>!0!==i,!0))}(r,l,n,e):ft(g)),(0,Xe.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,fs.b)(g=>{if(i.guardsResult=g.guardsResult,lg(g.guardsResult))throw UN(0,g.guardsResult);const y=new zx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),Bt(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),AT(g=>{if(g.guards.canActivateChecks.length)return ft(g).pipe((0,fs.b)(y=>{const w=new qx(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),$r(y=>{let w=!1;return ft(y).pipe(eO(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fs.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,fs.b)(y=>{const w=new Zx(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),AT(g=>{const y=w=>{const A=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,fs.b)(k=>{w.component=k}),(0,Xe.U)(()=>{})));for(const k of w.children)A.push(...y(k));return A};return qI(y(g.targetSnapshot.root)).pipe(Yh(),zi(1))}),AT(()=>this.afterPreactivation()),(0,Xe.U)(g=>{const y=function iR(n,e,t){const r=J0(n,e._root,t?t._root:void 0);return new FN(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:y}}),(0,fs.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,Xe.U)(r=>(new pR(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,fs.b)({next(){l=!0},complete(){l=!0}}),aT(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),cf(g=>{if(d=!0,GN(g)){HN(g)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new eE(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(r.next(y),HN(g)){const w=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dA(i.source)};this.scheduleNavigation(w,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new ON(i.id,this.serializeUrl(i.extractedUrl),g,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(g))}catch(w){i.reject(w)}}return Nc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const g={...l};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(CT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:g,preserveFragment:y}=r,w=i||this.routerState.root,A=y?this.currentUrlTree.fragment:d;let k=null;switch(g){case"merge":k={...this.currentUrlTree.queryParams,...l};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),Vx(w,this.currentUrlTree,t,k,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=lg(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function mO(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...fO}:!1===r?{...pO}:r,lg(t))return vN(this.currentUrlTree,t,i);const l=this.parseUrl(t);return vN(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new cg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let g,y,w;d?(g=d.resolve,y=d.reject,w=d.promise):w=new Promise((H,K)=>{g=H,y=K});const A=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),k=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:A,targetPageId:k,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:g,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(H=>Promise.reject(H))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new eE(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return uA()},providedIn:"root"}),n})();function dA(n){return"imperative"!==n}let RT=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new cr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(df),u.\u0275\u0275injectAttribute("tabindex"),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),ug=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new cr.x,this.subscription=t.events.subscribe(l=>{l instanceof cg&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(df),u.\u0275\u0275directiveInject(I.LocationStrategy))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.\u0275\u0275attribute("target",r.target)("href",r.href,u.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),hA=(()=>{class n{constructor(t,r,i,l,d,g){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=d,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.EventEmitter,this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof cg&&this.update()})}ngAfterContentInit(){ft(this.links.changes,this.linksWithHrefs.changes,ft(null)).pipe((0,ri.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,tn.D)(t).pipe((0,ri.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function _O(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(RT,8),u.\u0275\u0275directiveInject(ug,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.\u0275\u0275contentQuery(i,RT,5),u.\u0275\u0275contentQuery(i,ug,5)),2&t){let l;u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.links=l),u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();class fA{}let yO=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(t=>t instanceof cg),sg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.createEnvironmentInjector)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,g=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,tn.D)(i).pipe((0,ri.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ft(null);const l=i.pipe((0,Ms.z)(d=>null===d?ft(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,tn.D)([l,d]).pipe((0,ri.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Rr),u.\u0275\u0275inject(u.Compiler),u.\u0275\u0275inject(u.EnvironmentInjector),u.\u0275\u0275inject(fA),u.\u0275\u0275inject(xT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OT=new u.InjectionToken("");let pA=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new kN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function k_(n,e){return{\u0275kind:n,\u0275providers:e}}function kT(n){return[{provide:MT,multi:!0,useValue:n}]}function mA(){const n=(0,u.inject)(u.Injector);return e=>{const t=n.get(u.ApplicationRef);if(e!==t.components[0])return;const r=n.get(Rr),i=n.get(_A);1===n.get(PT)&&r.initialNavigation(),n.get(yA,null,u.InjectFlags.Optional)?.setUpPreloading(),n.get(OT,null,u.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const _A=new u.InjectionToken("",{factory:()=>new cr.x}),PT=new u.InjectionToken("",{providedIn:"root",factory:()=>1});const yA=new u.InjectionToken("");function wO(n){return k_(0,[{provide:yA,useExisting:yO},{provide:fA,useExisting:n}])}const vA=new u.InjectionToken("ROUTER_FORROOT_GUARD"),IO=[I.Location,{provide:IN,useClass:cT},{provide:Rr,useFactory:uA},X0,{provide:df,useFactory:function gA(n){return n.routerState.root},deps:[Rr]},xT];function EO(){return new u.NgProbeToken("Router",Rr)}let bA=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[IO,[],kT(t),{provide:vA,useFactory:NO,deps:[[Rr,new u.Optional,new u.SkipSelf]]},{provide:uE,useValue:r||{}},r?.useHash?{provide:I.LocationStrategy,useClass:I.HashLocationStrategy}:{provide:I.LocationStrategy,useClass:I.PathLocationStrategy},{provide:OT,useFactory:()=>{const n=(0,u.inject)(Rr),e=(0,u.inject)(I.ViewportScroller),t=(0,u.inject)(uE);return t.scrollOffset&&e.setOffset(t.scrollOffset),new pA(n,e,t)}},r?.preloadingStrategy?wO(r.preloadingStrategy).\u0275providers:[],{provide:u.NgProbeToken,multi:!0,useFactory:EO},r?.initialNavigation?AO(r):[],[{provide:DA,useFactory:mA},{provide:u.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:DA}]]}}static forChild(t){return{ngModule:n,providers:[kT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(vA,8))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[IT]}),n})();function NO(n){return"guarded"}function AO(n){return["disabled"===n.initialNavigation?k_(3,[{provide:u.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,u.inject)(Rr);return()=>{e.setUpLocationChangeListener()}}},{provide:PT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?k_(2,[{provide:PT,useValue:0},{provide:u.APP_INITIALIZER,multi:!0,deps:[u.Injector],useFactory:e=>{const t=e.get(I.LOCATION_INITIALIZED,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Rr),g=e.get(_A);(function i(l){e.get(Rr).events.pipe(Bt(g=>g instanceof cg||g instanceof eE||g instanceof ON),(0,Xe.U)(g=>g instanceof cg||g instanceof eE&&(0===g.code||1===g.code)&&null),Bt(g=>null!==g),zi(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||g.closed?ft(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const DA=new u.InjectionToken("");let FT=(()=>{class n{constructor(t){this.db=t,this.clienteColeccion=t.collection("clientes",r=>r.orderBy("nombre","asc"))}getClientes(){return this.clientes=this.clienteColeccion.snapshotChanges().pipe((0,Xe.U)(t=>t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i}))),this.clientes}agregarCliente(t){this.clienteColeccion.add(t)}getCliente(t){return this.clienteDoc=this.db.doc(`clientes/${t}`),this.cliente=this.clienteDoc.snapshotChanges().pipe((0,Xe.U)(r=>{if(!1===r.payload.exists)return null;{const i=r.payload.data();return i.id=r.payload.id,i}})),this.cliente}modificarCliente(t){this.clienteDoc=this.db.doc(`clientes/${t.id}`),this.clienteDoc.update(t)}eliminarCliente(t){this.clienteDoc=this.db.doc(`clientes/${t.id}`),this.clienteDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(p0))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const xO=["clienteForm"],RO=["botonCerrar"];function OO(n,e){if(1&n&&(u.\u0275\u0275elementStart(0,"tr")(1,"td"),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"td"),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"td"),u.\u0275\u0275text(6),u.\u0275\u0275pipe(7,"currency"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(8,"td")(9,"a",41),u.\u0275\u0275element(10,"i",42),u.\u0275\u0275text(11," Editar "),u.\u0275\u0275elementEnd()()()),2&n){const t=e.$implicit,r=e.index;u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(r+1),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate2("",t.nombre," ",t.apellido,""),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind3(7,5,t.saldo,"MNX","$")),u.\u0275\u0275advance(3),u.\u0275\u0275propertyInterpolate1("routerLink","/cliente/editar/",t.id,"")}}const pE=function(n){return{"is-invalid":n}};let kO=(()=>{class n{constructor(t,r){this.clientesServicio=t,this.flashMessages=r,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.clientesServicio.getClientes().subscribe(t=>{this.clientes=t})}getSaldoTotal(){let t=0;return this.clientes&&this.clientes.forEach(r=>{r.saldo&&(t+=r.saldo)}),t}agregar({value:t,valid:r}){r?(this.clientesServicio.agregarCliente(t),this.clienteForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(FT),u.\u0275\u0275directiveInject(Pl.GQ))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-clientes"]],viewQuery:function(t,r){if(1&t&&(u.\u0275\u0275viewQuery(xO,5),u.\u0275\u0275viewQuery(RO,5)),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.clienteForm=i.first),u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.botonCerrar=i.first)}},decls:93,vars:30,consts:[["id","actions",1,"py-4","mb-4","bg-light"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarClienteModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","clientes"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"table","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"card","text-center","bg-danger","text-white","mb-3"],[1,"card-body"],[1,"display-4"],[1,"card","text-center","bg-success","text-white","mb-3"],[1,"fas","fa-users"],["id","agregarClienteModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["data-bs-dismiss","modal",1,"close"],["botonCerrar",""],[3,"ngSubmit"],["clienteForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["type","email","name","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["type","number","name","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fas","fa-angle-double-right"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u.\u0275\u0275element(5,"i",5),u.\u0275\u0275text(6," Agregar Cliente "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",6)(8,"div",1)(9,"div",2)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4"),u.\u0275\u0275text(14,"Listado de Clientes"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(15,"table",10)(16,"thead",11)(17,"tr")(18,"th"),u.\u0275\u0275text(19,"#"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"th"),u.\u0275\u0275text(21,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"th"),u.\u0275\u0275text(23,"Saldo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(24,"th"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"tbody"),u.\u0275\u0275template(26,OO,12,9,"tr",12),u.\u0275\u0275elementEnd()()()(),u.\u0275\u0275elementStart(27,"div",3)(28,"div",13)(29,"div",14)(30,"h3"),u.\u0275\u0275text(31,"Saldo Total"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(32,"h4",15),u.\u0275\u0275text(33),u.\u0275\u0275pipe(34,"currency"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(35,"div",16)(36,"div",14)(37,"h3"),u.\u0275\u0275text(38,"Total Clientes"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(39,"h4",15),u.\u0275\u0275element(40,"i",17),u.\u0275\u0275text(41),u.\u0275\u0275elementEnd()()()()()()(),u.\u0275\u0275elementStart(42,"div",18)(43,"div",19)(44,"div",20)(45,"div",21)(46,"h5",22),u.\u0275\u0275text(47,"Agregar Cliente"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(48,"button",23,24)(50,"span"),u.\u0275\u0275text(51,"\xd7"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275element(52,"flash-messages"),u.\u0275\u0275elementStart(53,"form",25,26),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(54);return u.\u0275\u0275resetView(r.agregar(d.form))}),u.\u0275\u0275elementStart(55,"div",27)(56,"div",28)(57,"label",29),u.\u0275\u0275text(58,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(59,"input",30,31),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.nombre=d}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(61,"div",32),u.\u0275\u0275text(62," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(63,"div",32),u.\u0275\u0275text(64," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(65,"div",28)(66,"label",29),u.\u0275\u0275text(67,"Apellido"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(68,"input",33,34),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.apellido=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(70,"div",32),u.\u0275\u0275text(71," Apellido requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(72,"div",32),u.\u0275\u0275text(73," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(74,"div",28)(75,"label",29),u.\u0275\u0275text(76,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(77,"input",35,36),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.email=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(79,"div",32),u.\u0275\u0275text(80," Email requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(81,"div",32),u.\u0275\u0275text(82," Email no es v\xe1lido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(83,"div",28)(84,"label",29),u.\u0275\u0275text(85,"Saldo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(86,"input",37,38),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.saldo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(88,"div",32),u.\u0275\u0275text(89," Saldo requerido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(90,"div",39)(91,"button",40),u.\u0275\u0275text(92,"Guardar"),u.\u0275\u0275elementEnd()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(60),l=u.\u0275\u0275reference(69),d=u.\u0275\u0275reference(78),g=u.\u0275\u0275reference(87);u.\u0275\u0275advance(26),u.\u0275\u0275property("ngForOf",r.clientes),u.\u0275\u0275advance(7),u.\u0275\u0275textInterpolate1(" ",u.\u0275\u0275pipeBind3(34,18,r.getSaldoTotal(),"MNX","$")," "),u.\u0275\u0275advance(8),u.\u0275\u0275textInterpolate1(" ",null==r.clientes?null:r.clientes.length," "),u.\u0275\u0275advance(18),u.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",u.\u0275\u0275pureFunction1(22,pE,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.apellido)("ngClass",u.\u0275\u0275pureFunction1(24,pE,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.email)("ngClass",u.\u0275\u0275pureFunction1(26,pE,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.pattern)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.saldo)("ngClass",u.\u0275\u0275pureFunction1(28,pE,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[I.NgClass,I.NgForOf,ug,D,Ai,M,Ud,Ru,ig,WI,zI,v,Hd,Pl.cS,I.CurrencyPipe]}),n})(),PO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:7,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3),u.\u0275\u0275element(4,"i",4),u.\u0275\u0275text(5,"Control de Clientes "),u.\u0275\u0275elementEnd()()()(),u.\u0275\u0275element(6,"app-clientes"))},dependencies:[kO]}),n})(),gE=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((i,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}getAuth(){return this.authService.authState.pipe((0,Xe.U)(t=>t))}logout(){this.authService.signOut()}registrarse(t,r){return new Promise((i,l)=>{this.authService.createUserWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(rf))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),FO=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(Pl.GQ),u.\u0275\u0275directiveInject(gE))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","w-100"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Login "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18,"Login"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.login()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[D,Ai,Ud,Ru,ig,v,Hd,Pl.cS]}),n})(),LO=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(Pl.GQ),u.\u0275\u0275directiveInject(gE))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-registro"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Registrarse",1,"btn","btn-primary","w-100"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Registro "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18,"Registro"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.registro()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[D,Ai,Ud,Ru,ig,v,Hd,Pl.cS]}),n})(),mE=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(p0))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),VO=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r,this.permitirRegistro=!1}ngOnInit(){this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}guardar(){this.configuracionServicio.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(mE))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","w-100"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","w-100",3,"click"],[1,"fas","fa-check"],["id","configuracion"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),u.\u0275\u0275element(12,"i",8),u.\u0275\u0275text(13," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(14,"div",6)(15,"button",9),u.\u0275\u0275listener("click",function(){return r.guardar()}),u.\u0275\u0275element(16,"i",10),u.\u0275\u0275text(17,"Guardar cambios "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(18,"section",11)(19,"div",1)(20,"div",2)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h4"),u.\u0275\u0275text(25,"Editar Configuraci\xf3n"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(26,"div",15)(27,"fieldset",16)(28,"legend"),u.\u0275\u0275text(29,"Permitir registro de usuarios"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"div",17)(31,"label",18)(32,"input",19),u.\u0275\u0275listener("ngModelChange",function(l){return r.permitirRegistro=l}),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(33),u.\u0275\u0275elementEnd()()()()()()()()()),2&t&&(u.\u0275\u0275advance(32),u.\u0275\u0275property("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1("",r.permitirRegistro?"Si":"No"," "))},dependencies:[ug,y0,Ud,v]}),n})();const _E=function(n){return{"is-invalid":n}};let BO=(()=>{class n{constructor(t,r,i,l){this.clientesServicio=t,this.flashMessages=r,this.router=i,this.route=l,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientesServicio.getCliente(this.id).subscribe(t=>{this.cliente=t})}guardar({value:t,valid:r}){r?(t.id=this.id,this.clientesServicio.modificarCliente(t),this.router.navigate(["/"])):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}eliminar(){confirm("\xbfSeguro que desea eliminar el cliente?")&&(this.clientesServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(FT),u.\u0275\u0275directiveInject(Pl.GQ),u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(df))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-cliente"]],decls:68,vars:23,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],[3,"ngSubmit"],["clienteForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fas","fa-trash"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["type","email","name","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["type","number","name","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Editar Cliente"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"form",5,6),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(8);return u.\u0275\u0275resetView(r.guardar(d.form))}),u.\u0275\u0275element(9,"flash-messages"),u.\u0275\u0275elementStart(10,"section",7)(11,"div",1)(12,"div",2)(13,"div",8)(14,"a",9),u.\u0275\u0275element(15,"i",10),u.\u0275\u0275text(16," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(17,"div",8)(18,"button",11),u.\u0275\u0275element(19,"i",12),u.\u0275\u0275text(20,"Guardar Cliente "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(21,"div",8)(22,"a",13),u.\u0275\u0275listener("click",function(){return r.eliminar()}),u.\u0275\u0275element(23,"i",14),u.\u0275\u0275text(24," Eliminar Cliente "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(25,"section",15)(26,"div",1)(27,"div",2)(28,"div",16)(29,"div",17)(30,"div",18)(31,"h1"),u.\u0275\u0275text(32,"Editar Cliente"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(33,"div",19)(34,"div",20)(35,"label",21),u.\u0275\u0275text(36,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(37,"input",22,23),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.nombre=d}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(39,"div",24),u.\u0275\u0275text(40," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"div",24),u.\u0275\u0275text(42," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(43,"div",20)(44,"label",21),u.\u0275\u0275text(45,"Apellido"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(46,"input",25,26),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.apellido=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(48,"div",24),u.\u0275\u0275text(49," Apellido requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(50,"div",24),u.\u0275\u0275text(51," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(52,"div",20)(53,"label",21),u.\u0275\u0275text(54,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"input",27,28),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.email=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(57,"div",24),u.\u0275\u0275text(58," Email requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(59,"div",24),u.\u0275\u0275text(60," Email no es v\xe1lido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(61,"div",20)(62,"label",21),u.\u0275\u0275text(63,"Saldo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(64,"input",29,30),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.saldo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(66,"div",24),u.\u0275\u0275text(67," Saldo requerido "),u.\u0275\u0275elementEnd()()()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(38),l=u.\u0275\u0275reference(47),d=u.\u0275\u0275reference(56),g=u.\u0275\u0275reference(65);u.\u0275\u0275advance(37),u.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",u.\u0275\u0275pureFunction1(15,_E,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.apellido)("ngClass",u.\u0275\u0275pureFunction1(17,_E,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.email)("ngClass",u.\u0275\u0275pureFunction1(19,_E,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.pattern)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.saldo)("ngClass",u.\u0275\u0275pureFunction1(21,_E,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[I.NgClass,ug,D,Ai,M,Ud,Ru,ig,WI,zI,v,Hd,Pl.cS]}),n})(),jO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"p"),u.\u0275\u0275text(1,"no-encontrado works!"),u.\u0275\u0275elementEnd())}}),n})(),yE=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,Xe.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Rr),u.\u0275\u0275inject(rf))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),wA=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r}canActivate(){return this.configuracionServicio.getConfiguracion().pipe((0,Xe.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Rr),u.\u0275\u0275inject(mE))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const UO=[{path:"",component:PO,canActivate:[yE]},{path:"login",component:FO},{path:"registrarse",component:LO,canActivate:[wA]},{path:"configuracion",component:VO,canActivate:[yE]},{path:"cliente/editar/:id",component:BO,canActivate:[yE]},{path:"**",component:jO}];let $O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[bA.forRoot(UO),bA]}),n})();var HO=V(1144);const GO=["addListener","removeListener"],WO=["addEventListener","removeEventListener"],zO=["on","off"];function wo(n,e,t,r){if((0,Ba.m)(t)&&(r=t,t=void 0),r)return wo(n,e,t).pipe(m0(r));const[i,l]=function KO(n){return(0,Ba.m)(n.addEventListener)&&(0,Ba.m)(n.removeEventListener)}(n)?WO.map(d=>g=>n[d](e,g,t)):function qO(n){return(0,Ba.m)(n.addListener)&&(0,Ba.m)(n.removeListener)}(n)?GO.map(IA(n,e)):function ZO(n){return(0,Ba.m)(n.on)&&(0,Ba.m)(n.off)}(n)?zO.map(IA(n,e)):[];if(!i&&(0,HO.z)(n))return(0,Ms.z)(d=>wo(d,e,t))((0,Jo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new _n.y(d=>{const g=(...y)=>d.next(1<y.length?y:y[0]);return i(g),()=>l(g)})}function IA(n,e){return t=>r=>n[t](e,r)}var QO=V(3532);const{isArray:JO}=Array;function EA(n){return 1===n.length&&JO(n[0])?n[0]:n}var vE=V(5032);function bE(...n){const e=(0,Rn.jO)(n),t=EA(n);return t.length?new _n.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,Jo.Xf)(t[d]).subscribe((0,On.x)(r,g=>{if(i[d].push(g),i.every(y=>y.length)){const y=i.map(w=>w.shift());r.next(e?e(...y):y),i.some((w,A)=>!w.length&&l[A])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):Nc.E}function Zi(n){return(0,Qt.e)((e,t)=>{(0,Jo.Xf)(n).subscribe((0,On.x)(t,()=>t.complete(),vE.Z)),!t.closed&&e.subscribe(t)})}function VT(...n){const e=(0,Rn.jO)(n);return(0,Qt.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),g=!1;for(let y=0;y<i;y++)(0,Jo.Xf)(n[y]).subscribe((0,On.x)(r,w=>{l[y]=w,!g&&!d[y]&&(d[y]=!0,(g=d.every(Hn.y))&&(d=null))},vE.Z));t.subscribe((0,On.x)(r,y=>{if(g){const w=[y,...l];r.next(e?e(...w):w)}}))})}new _n.y(vE.Z),Math,Math,Math;const pP=["*"],RP=["dialog"];function QT(n){return"string"==typeof n}function fg(n){return null!=n}function B_(n){return(n||document.body).getBoundingClientRect()}const WA={animation:!0,transitionTimerDelayMs:5},TF=()=>{},{transitionTimerDelayMs:SF}=WA,db=new Map,Gs=(n,e,t,r)=>{let i=r.context||{};const l=db.get(e);if(l)switch(r.runningTransition){case"continue":return Nc.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),db.delete(e)}const d=t(e,r.animation,i)||TF;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),ft(void 0).pipe(function EF(n){return e=>new _n.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new cr.x,y=new cr.x,w=g.pipe(function ek(...n){return e=>Vt(e,ft(...n))}(!0));db.set(e,{transition$:g,complete:()=>{y.next(),y.complete()},context:i});const A=function CF(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const k=wo(e,"transitionend").pipe(Zi(w),Bt(({target:K})=>K===e));(function CA(...n){return 1===(n=EA(n)).length?(0,Jo.Xf)(n[0]):new _n.y(function XO(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Jo.Xf)(n[r]).subscribe((0,On.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function LT(n=0,e,t=zt.P){let r=-1;return null!=e&&((0,QO.K)(e)?t=e:r=e),new _n.y(i=>{let l=function YO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(A+SF).pipe(Zi(w)),k,y).pipe(Zi(w)).subscribe(()=>{db.delete(e),n.run(()=>{d(),g.next(),g.complete()})})}),g.asObservable()},JT=(n,e,t)=>{let{direction:r,maxSize:i,dimension:l}=t;const{classList:d}=n;function g(){d.add("collapse"),"show"===r?d.add("show"):d.remove("show")}if(e)return i||(i=function AF(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,l),t.maxSize=i,n.style[l]="show"!==r?i:"0px",d.remove("collapse"),d.remove("collapsing"),d.remove("show"),B_(n),d.add("collapsing")),n.style[l]="show"===r?i:"0px",()=>{g(),d.remove("collapsing"),n.style[l]=""};g()};let hb=(()=>{class n{constructor(){this.animation=WA.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),YA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),eM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),VF=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(hb))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BF=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new u.EventEmitter,this.shown=new u.EventEmitter,this.hidden=new u.EventEmitter,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Gs(this._zone,this._element.nativeElement,JT,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(VF),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]}),n})(),tM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();var Ki=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Ki||(Ki={})),Ki))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function iM(n){const e=Array.from(n.querySelectorAll(rM)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let hM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule,lN]}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["",8,"navbar"]]}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();class _g{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let yL=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(zi(1)).subscribe(()=>{Gs(this._zone,this._el.nativeElement,(t,r)=>{r&&B_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Gs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.\u0275\u0275classMap("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class mM{close(e){}dismiss(e){}}class vL{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new cr.x,this._dismissed=new cr.x,this._hidden=new cr.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Zi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Zi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function GA(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ft(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),bE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var mb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(mb||(mb={})),mb))();let bL=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new cr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.EventEmitter,this.shown=new cr.x,this.hidden=new cr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":QT(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=bE(Gs(this._zone,t,()=>t.classList.remove("show"),r),Gs(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};bE(Gs(this._zone,this._elRef.nativeElement,(l,d)=>{d&&B_(l),l.classList.add("show")},t),Gs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{wo(t,"keydown").pipe(Zi(this._closed$),Bt(i=>i.which===Ki.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(mb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;wo(this._dialogEl.nativeElement,"mousedown").pipe(Zi(this._closed$),(0,fs.b)(()=>r=!1),$r(()=>wo(t,"mouseup").pipe(Zi(this._closed$),zi(1))),Bt(({target:i})=>t===i)).subscribe(()=>{r=!0}),wo(t,"click").pipe(Zi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(mb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=iM(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Gs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(I.DOCUMENT),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.\u0275\u0275viewQuery(RP,7),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.\u0275\u0275classMap("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.\u0275\u0275classProp("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),u.\u0275\u0275projection(3),u.\u0275\u0275elementEnd()()),2&t&&u.\u0275\u0275classMap("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),DL=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wL=(()=>{class n{constructor(t,r,i,l,d,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=g,this._activeWindowCmptHasChanged=new cr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.EventEmitter,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=wo(e,"focusin").pipe(Zi(t),(0,Xe.U)(l=>l.target));wo(e,"keydown").pipe(Zi(t),Bt(l=>l.which===Ki.Tab),VT(i)).subscribe(([l,d])=>{const[g,y]=iM(e);(d===g||d===e)&&l.shiftKey&&(y.focus(),l.preventDefault()),d===y&&!l.shiftKey&&(g.focus(),l.preventDefault())}),r&&wo(e,"click").pipe(Zi(t),VT(i),(0,Xe.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:fg(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new mM,y=this._getContentRef(i.injector||t,r,g,i);let w=!1!==i.backdrop?this._attachBackdrop(l):void 0,A=this._attachWindowComponent(l,y.nodes),k=new vL(A,y,w,i.beforeDismiss);return this._registerModalRef(k),this._registerWindowCmpt(A),k.hidden.pipe(zi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=H=>{k.close(H)},g.dismiss=H=>{k.dismiss(H)},this._applyWindowOptions(A.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,i),w.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),k}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.createComponent)(yL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.createComponent)(bL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{fg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{fg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l){return r?r instanceof u.TemplateRef?this._createFromTemplateRef(r,i):QT(r)?this._createFromString(r):this._createFromComponent(t,r,i,l):new _g([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new _g([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new _g([[r]])}_createFromComponent(t,r,i,l){const d=u.Injector.create({providers:[{provide:mM,useValue:i}],parent:t}),g=(0,u.createComponent)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),y=g.location.nativeElement;return l.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new _g([[y]],g.hostView,g)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.ApplicationRef),u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(I.DOCUMENT),u.\u0275\u0275inject(DL),u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IL=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(hb))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EL=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(wL),u.\u0275\u0275inject(IL))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[EL]}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),AM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),OM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),PM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();new u.InjectionToken("live announcer delay",{providedIn:"root",factory:function LL(){return 100}});let LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),VM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();const VL=[QA,YA,eM,tM,hM,gM,_M,DM,VM,AM,xM,RM,OM,kM,PM,FM,LM];let BL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[VL,QA,YA,eM,tM,hM,gM,_M,DM,VM,AM,xM,RM,OM,kM,PM,FM,LM]}),n})();function jL(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",11)(1,"a",12),u.\u0275\u0275text(2,"Inicio"),u.\u0275\u0275elementEnd()())}function UL(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",13)(1,"a",14),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"div",16)(5,"a",17),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(6,"i",18),u.\u0275\u0275text(7,"Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()}if(2&n){const t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275attribute("aria-expanded",!t.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("Bienvenido ",t.loggedInUser," "),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngbCollapse",t.isDropdownCollapsed)}}function $L(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",20),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3,"Login "),u.\u0275\u0275elementEnd()())}function HL(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",21),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3,"Registro "),u.\u0275\u0275elementEnd()())}function GL(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",19)(1,"a",22),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.logout())}),u.\u0275\u0275element(2,"i",23),u.\u0275\u0275text(3,"Salir "),u.\u0275\u0275elementEnd()()}}let WL=(()=>{class n{constructor(t,r,i){this.loginService=t,this.router=r,this.configuracionServicio=i,this.isCollapsed=!0,this.isDropdownCollapsed=!0}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t?(this.isLoggedInt=!0,this.loggedInUser=t.email):this.isLoggedInt=!1}),this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}logout(){this.loginService.logout(),this.isLoggedInt=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(gE),u.\u0275\u0275directiveInject(Rr),u.\u0275\u0275directiveInject(mE))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:14,vars:7,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","aria-controls","navbarCollapse",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item px-2",4,"ngIf"],[1,"navbar-nav","ms-auto"],["class","nav-item dropdown mr-3",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["aria-controls","dropdownCollapse",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-user"],["id","dropdownCollapse",1,"dropdown-menu",3,"ngbCollapse"],["routerLink","/configuracion",1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","router-link-active",1,"nav-link"],["routerLink","/registrarse","routerLinkActive","router-link-active",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-times"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),u.\u0275\u0275text(3,"Control clientes"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"button",3),u.\u0275\u0275listener("click",function(){return r.isCollapsed=!r.isCollapsed}),u.\u0275\u0275element(5,"span",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5)(7,"ul",6),u.\u0275\u0275template(8,jL,3,0,"li",7),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(9,"ul",8),u.\u0275\u0275template(10,UL,8,3,"li",9),u.\u0275\u0275template(11,$L,4,0,"li",10),u.\u0275\u0275template(12,HL,4,0,"li",10),u.\u0275\u0275template(13,GL,4,0,"li",10),u.\u0275\u0275elementEnd()()()()),2&t&&(u.\u0275\u0275advance(4),u.\u0275\u0275attribute("aria-expanded",!r.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngbCollapse",r.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isLoggedInt),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isLoggedInt),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedInt),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedInt&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isLoggedInt&&r.permitirRegistro))},dependencies:[I.NgIf,ug,hA,BF,iS]}),n})(),zL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-warning","text-white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),u.\u0275\u0275text(5," Copyright \xa9 Curso Udemy - Zaira "),u.\u0275\u0275elementEnd()()()()())}}),n})(),qL=(()=>{class n{constructor(){this.title="control-clientes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[wT,WL,zL]}),n})(),ZL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n,bootstrap:[qL]}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[FT,gE,yE,mE,wA],imports:[gs,$O,lN,BL,We.hO.initializeApp(ze_firestore,"control-clientes"),g0,gI,Pl.qz.forRoot()]}),n})();(0,u.enableProdMode)(),ei().bootstrapModule(ZL).catch(n=>console.error(n))},5867:(vt,Se,V)=>{"use strict";V.d(Se,{C6:()=>I.getApps,Mq:()=>I.getApp});var I=V(9681);(0,I.registerVersion)("firebase","9.12.1","app")},127:(vt,Se,V)=>{"use strict";V.d(Se,{Z:()=>I.Z});var I=V(3942);I.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(vt,Se,V)=>{"use strict";V.r(Se);var I=V(5861),u=V(3942),B=V(2090),ae=V(9681),se=V(1877),pe=V(655),De=V(4859);const le=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new se.Yd("@firebase/auth");function st(_,...f){Qe.logLevel<=se.in.ERROR&&Qe.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function Pe(_,...f){throw Ye(_,...f)}function Ae(_,...f){return Ye(_,...f)}function Oe(_,f,m){const b=Object.assign(Object.assign({},He()),{[f]:m});return new B.LL("auth","Firebase",b).create(f,{appName:_.name})}function Ke(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Pe(_,"argument-error"),Oe(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(_,...f){if("string"!=typeof _){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return me.create(_,...f)}function q(_,f,...m){if(!_)throw Ye(f,...m)}function Ne(_){const f="INTERNAL ASSERTION FAILED: "+_;throw st(f),new Error(f)}function X(_,f){_||Ne(f)}const ie=new Map;function ge(_){X(_ instanceof Function,"Expected a class definition");let f=ie.get(_);return f?(X(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ie.set(_,f),f)}function Ge(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function It(){return"http:"===ln()||"https:"===ln()}function ln(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class En{constructor(f,m){this.shortDelay=f,this.longDelay=m,X(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nn(_,f){X(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class cn{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},br=new En(3e4,6e4);function jt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Tn(_,f,m,b){return ps.apply(this,arguments)}function ps(){return(ps=(0,I.Z)(function*(_,f,m,b,x={}){return Jr(_,x,(0,I.Z)(function*(){let L={},Y={};b&&("GET"===f?Y=b:L={body:JSON.stringify(b)});const Ee=(0,B.xO)(Object.assign({key:_.config.apiKey},Y)).slice(1),qe=yield _._getAdditionalHeaders();return qe["Content-Type"]="application/json",_.languageCode&&(qe["X-Firebase-Locale"]=_.languageCode),cn.fetch()(fi(_,_.config.apiHost,m,Ee),Object.assign({method:f,headers:qe,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Jr(_,f,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,I.Z)(function*(_,f,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},un),f);try{const x=new kr(_),L=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const Y=yield L.json();if("needConfirmation"in Y)throw ei(_,"account-exists-with-different-credential",Y);if(L.ok&&!("errorMessage"in Y))return Y;{const Ee=L.ok?Y.errorMessage:Y.error.message,[qe,gt]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw ei(_,"credential-already-in-use",Y);if("EMAIL_EXISTS"===qe)throw ei(_,"email-already-in-use",Y);if("USER_DISABLED"===qe)throw ei(_,"user-disabled",Y);const At=b[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw Oe(_,At,gt);Pe(_,At)}}catch(x){if(x instanceof B.ZR)throw x;Pe(_,"network-request-failed")}})).apply(this,arguments)}function Xr(_,f,m,b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,I.Z)(function*(_,f,m,b,x={}){const L=yield Tn(_,f,m,b,x);return"mfaPendingCredential"in L&&Pe(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function fi(_,f,m,b){const x=`${f}${m}?${b}`;return _.config.emulator?Nn(_.config,x):`${_.config.apiScheme}://${x}`}class kr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ae(this.auth,"network-request-failed")),br.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(_,f,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=Ae(_,f,b);return x.customData._tokenResponse=m,x}function at(){return(at=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Dr(_,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function dr(_,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ms(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Wt(){return(Wt=(0,I.Z)(function*(_,f=!1){const m=(0,B.m9)(_),b=yield m.getIdToken(f),x=wt(b);q(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,Y=L?.sign_in_provider;return{claims:x,token:b,authTime:ms(Ct(x.auth_time)),issuedAtTime:ms(Ct(x.iat)),expirationTime:ms(Ct(x.exp)),signInProvider:Y||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Ct(_){return 1e3*Number(_)}function wt(_){var f;const[m,b,x]=_.split(".");if(void 0===m||void 0===b||void 0===x)return st("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,B.tV)(b);return L?JSON.parse(L):(st("Failed to decode base64 JWT payload"),null)}catch(L){return st("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function hr(_,f){return An.apply(this,arguments)}function An(){return(An=(0,I.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof B.ZR&&ni(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function ni({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Lt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,I.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,I.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class xi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ms(this.lastLoginAt),this.creationTime=ms(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,I.Z)(function*(_){var f;const m=_.auth,b=yield _.getIdToken(),x=yield hr(_,dr(m,{idToken:b}));q(x?.users.length,m,"internal-error");const L=x.users[0];_._notifyReloadListener(L);const Y=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?yt(L.providerUserInfo):[],Ee=Pr(_.providerData,Y),At=!!_.isAnonymous&&!(_.email&&L.passwordHash||Ee?.length),Nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ee,metadata:new xi(L.createdAt,L.lastLoginAt),isAnonymous:At};Object.assign(_,Nt)})).apply(this,arguments)}function fr(){return(fr=(0,I.Z)(function*(_){const f=(0,B.m9)(_);yield fn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Pr(_,f){return[..._.filter(b=>!f.some(x=>x.providerId===b.providerId)),...f]}function yt(_){return _.map(f=>{var{providerId:m}=f,b=(0,pe._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function _t(){return(_t=(0,I.Z)(function*(_,f){const m=yield Jr(_,{},(0,I.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:L}=_.config,Y=fi(_,x,"/v1/token",`key=${L}`),Ee=yield _._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",cn.fetch()(Y,{method:"POST",headers:Ee,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){q(f.idToken,"internal-error"),q(typeof f.idToken<"u","internal-error"),q(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Cn(_){const f=wt(_);return q(f,"internal-error"),q(typeof f.exp<"u","internal-error"),q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,I.Z)(function*(){return q(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,I.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:Y}=yield function Be(_,f){return _t.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(x,L,Number(Y))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:x,expirationTime:L}=m,Y=new kt;return b&&(q("string"==typeof b,"internal-error",{appName:f}),Y.refreshToken=b),x&&(q("string"==typeof x,"internal-error",{appName:f}),Y.accessToken=x),L&&(q("number"==typeof L,"internal-error",{appName:f}),Y.expirationTime=L),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return Ne("not implemented")}}function xt(_,f){q("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Kt{constructor(f){var{uid:m,auth:b,stsTokenManager:x}=f,L=(0,pe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new xi(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,I.Z)(function*(){const b=yield hr(m,m.stsTokenManager.getToken(m.auth,f));return q(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function $n(_){return Wt.apply(this,arguments)}(this,f)}reload(){return function bn(_){return fr.apply(this,arguments)}(this)}_assign(f){this!==f&&(q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Kt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,I.Z)(function*(){let x=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),x=!0),m&&(yield fn(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,I.Z)(function*(){const m=yield f.getIdToken();return yield hr(f,function Ws(_,f){return at.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,x,L,Y,Ee,qe,gt,At;const Nt=null!==(b=m.displayName)&&void 0!==b?b:void 0,vr=null!==(x=m.email)&&void 0!==x?x:void 0,os=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,ld=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,cd=null!==(Ee=m.tenantId)&&void 0!==Ee?Ee:void 0,ud=null!==(qe=m._redirectEventId)&&void 0!==qe?qe:void 0,Rg=null!==(gt=m.createdAt)&&void 0!==gt?gt:void 0,Of=null!==(At=m.lastLoginAt)&&void 0!==At?At:void 0,{uid:gc,emailVerified:mc,isAnonymous:Og,providerData:Ra,stsTokenManager:gh}=m;q(gc&&gh,f,"internal-error");const Il=kt.fromJSON(this.name,gh);q("string"==typeof gc,f,"internal-error"),xt(Nt,f.name),xt(vr,f.name),q("boolean"==typeof mc,f,"internal-error"),q("boolean"==typeof Og,f,"internal-error"),xt(os,f.name),xt(ld,f.name),xt(cd,f.name),xt(ud,f.name),xt(Rg,f.name),xt(Of,f.name);const dd=new Kt({uid:gc,auth:f,email:vr,emailVerified:mc,displayName:Nt,isAnonymous:Og,photoURL:ld,phoneNumber:os,tenantId:cd,stsTokenManager:Il,createdAt:Rg,lastLoginAt:Of});return Ra&&Array.isArray(Ra)&&(dd.providerData=Ra.map(kf=>Object.assign({},kf))),ud&&(dd._redirectEventId=ud),dd}static _fromIdTokenResponse(f,m,b=!1){return(0,I.Z)(function*(){const x=new kt;x.updateFromServerResponse(m);const L=new Kt({uid:m.localId,auth:f,stsTokenManager:x,isAnonymous:b});return yield fn(L),L})()}}const W=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,I.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,I.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,I.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function ee(_,f,m){return`firebase:${_}:${f}:${m}`}class Re{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:x,name:L}=this.auth;this.fullUserKey=ee(this.userKey,x.apiKey,L),this.fullPersistenceKey=ee("persistence",x.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,I.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Kt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,I.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,I.Z)(function*(){if(!m.length)return new Re(ge(W),f,b);const x=(yield Promise.all(m.map(function(){var gt=(0,I.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let L=x[0]||ge(W);const Y=ee(b,f.config.apiKey,f.name);let Ee=null;for(const gt of m)try{const At=yield gt._get(Y);if(At){const Nt=Kt._fromJSON(f,At);gt!==L&&(Ee=Nt),L=gt;break}}catch{}const qe=x.filter(gt=>gt._shouldAllowMigration);return L._shouldAllowMigration&&qe.length?(L=qe[0],Ee&&(yield L._set(Y,Ee.toJSON())),yield Promise.all(m.map(function(){var gt=(0,I.Z)(function*(At){if(At!==L)try{yield At._remove(Y)}catch{}});return function(At){return gt.apply(this,arguments)}}())),new Re(L,f,b)):new Re(L,f,b)})()}}function ne(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Mn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(tt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ze(f))return"Blackberry";if(We(f))return"Webos";if(Et(f))return"Safari";if((f.includes("chrome/")||mn(f))&&!f.includes("edge/"))return"Chrome";if(pn(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function tt(_=(0,B.z$)()){return/firefox\//i.test(_)}function Et(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function mn(_=(0,B.z$)()){return/crios\//i.test(_)}function Mn(_=(0,B.z$)()){return/iemobile/i.test(_)}function pn(_=(0,B.z$)()){return/android/i.test(_)}function ze(_=(0,B.z$)()){return/blackberry/i.test(_)}function We(_=(0,B.z$)()){return/webos/i.test(_)}function zt(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ft(_=(0,B.z$)()){return zt(_)||pn(_)||We(_)||ze(_)||/windows phone/i.test(_)||Mn(_)}function ri(_,f=[]){let m;switch(_){case"Browser":m=ne((0,B.z$)());break;case"Worker":m=`${ne((0,B.z$)())}-${_}`;break;default:m=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class zs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=L=>new Promise((Y,Ee)=>{try{Y(f(L))}catch(qe){Ee(qe)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,I.Z)(function*(){var b;if(m.auth.currentUser===f)return;const x=[];try{for(const L of m.queue)yield L(f),L.onAbort&&x.push(L.onAbort)}catch(L){x.reverse();for(const Y of x)try{Y()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class Vt{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=ge(m)),this._initializationPromise=this.queue((0,I.Z)(function*(){var x,L;if(!b._deleted&&(b.persistenceManager=yield Re.create(b,f),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,I.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,I.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let L=x,Y=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ee=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,qe=L?._redirectEventId,gt=yield m.tryRedirectSignIn(f);(!Ee||Ee===qe)&&gt?.user&&(L=gt.user,Y=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(L)}catch(Ee){L=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ee))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,I.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,I.Z)(function*(){var b;try{yield fn(f)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,I.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,I.Z)(function*(){const b=f?(0,B.m9)(f):null;return b&&q(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,I.Z)(function*(){if(!b._deleted)return f&&q(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,I.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,I.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,I.Z)(function*(){yield m.assertedPersistence.setPersistence(ge(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,I.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,I.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&ge(f)||m._popupRedirectResolver;q(b,m,"argument-error"),m.redirectPersistenceManager=yield Re.create(m,[ge(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,I.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,I.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,I.Z)(function*(){if(f===m.currentUser)return m.queue((0,I.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,x){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return q(Y,this,"internal-error"),Y.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,b,x):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,I.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ri(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,I.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function Qt(_){return(0,B.m9)(_)}class ii{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pi(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function _s(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Hn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ne("not implemented")}_getIdTokenResponse(f){return Ne("not implemented")}_linkToIdToken(f,m){return Ne("not implemented")}_getReauthenticationResolver(f){return Ne("not implemented")}}function Ln(_,f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:resetPassword",jt(_,f))})).apply(this,arguments)}function Bt(_,f){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gl(_,f){return Te.apply(this,arguments)}function Te(){return(Te=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:update",jt(_,f))})).apply(this,arguments)}function Ri(){return(Ri=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithPassword",jt(_,f))})).apply(this,arguments)}function Fr(_,f){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:sendOobCode",jt(_,f))})).apply(this,arguments)}function pr(_,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,I.Z)(function*(_,f){return Fr(_,f)})).apply(this,arguments)}function nt(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(_,f){return Fr(_,f)})).apply(this,arguments)}function Mt(_,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,I.Z)(function*(_,f){return Fr(_,f)})).apply(this,arguments)}function qs(_,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,I.Z)(function*(_,f){return Fr(_,f)})).apply(this,arguments)}function ea(){return(ea=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithEmailLink",jt(_,f))})).apply(this,arguments)}function Wa(){return(Wa=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithEmailLink",jt(_,f))})).apply(this,arguments)}class Wl extends Hn{constructor(f,m,b,x=null){super("password",b),this._email=f,this._password=m,this._tenantId=x}static _fromEmailAndPassword(f,m){return new Wl(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Wl(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return function mi(_,f){return Ri.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Fc(_,f){return ea.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Pe(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,I.Z)(function*(){switch(b.signInMethod){case"password":return Bt(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Lc(_,f){return Wa.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function dn(_,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithIdp",jt(_,f))})).apply(this,arguments)}class Er extends Hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Er(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Pe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x}=m,L=(0,pe._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const Y=new Er(b,x);return Y.idToken=L.idToken||void 0,Y.accessToken=L.accessToken||void 0,Y.secret=L.secret,Y.nonce=L.nonce,Y.pendingToken=L.pendingToken||null,Y}_getIdTokenResponse(f){return dn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,dn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,dn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,B.xO)(m)}return f}}function Zd(_,f){return zl.apply(this,arguments)}function zl(){return(zl=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:sendVerificationCode",jt(_,f))})).apply(this,arguments)}function Xi(){return(Xi=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithPhoneNumber",jt(_,f))})).apply(this,arguments)}function sr(){return(sr=(0,I.Z)(function*(_,f){const m=yield Xr(_,"POST","/v1/accounts:signInWithPhoneNumber",jt(_,f));if(m.temporaryProof)throw ei(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ju={USER_NOT_FOUND:"user-not-found"};function ql(){return(ql=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithPhoneNumber",jt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ju)})).apply(this,arguments)}class Oi extends Hn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Oi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Oi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function na(_,f){return Xi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Vc(_,f){return sr.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function za(_,f){return ql.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:L}=f;return b||m||x||L?new Oi({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:L}):null}}class Co{constructor(f){var m,b,x,L,Y,Ee;const qe=(0,B.zd)((0,B.pd)(f)),gt=null!==(m=qe.apiKey)&&void 0!==m?m:null,At=null!==(b=qe.oobCode)&&void 0!==b?b:null,Nt=function Eo(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=qe.mode)&&void 0!==x?x:null);q(gt&&At&&Nt,"argument-error"),this.apiKey=gt,this.operation=Nt,this.code=At,this.continueUrl=null!==(L=qe.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(Y=qe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(Ee=qe.tenantId)&&void 0!==Ee?Ee:null}static parseLink(f){const m=function yi(_){const f=(0,B.zd)((0,B.pd)(_)).link,m=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||m||f||_}(f);try{return new Co(m)}catch{return null}}}let es=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return Wl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=Co.parseLink(b);return q(x,"argument-error"),Wl._fromEmailAndCode(m,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Cr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ki extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ts extends ki{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return q("providerId"in m&&"signInMethod"in m,"argument-error"),Er._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return q(f.idToken||f.accessToken,"argument-error"),Er._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ts.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ts.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:L,nonce:Y,providerId:Ee}=f;if(!b&&!x&&!m&&!L||!Ee)return null;try{return new ts(Ee)._credential({idToken:m,accessToken:b,nonce:Y,pendingToken:L})}catch{return null}}}let To=(()=>{class _ extends ki{constructor(){super("facebook.com")}static credential(m){return Er._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),qa=(()=>{class _ extends ki{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Er._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return _.credential(b,x)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),ra=(()=>{class _ extends ki{constructor(){super("github.com")}static credential(m){return Er._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Zs extends Hn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return dn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,dn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,dn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x,pendingToken:L}=m;return b&&x&&L&&b===x?new Zs(b,L):null}static _create(f,m){return new Zs(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Lr extends Cr{constructor(f){q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Lr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Lr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Zs.fromJSON(f);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Zs._create(b,m)}catch{return null}}}let Gr=(()=>{class _ extends ki{constructor(){super("twitter.com")}static credential(m,b){return Er._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return _.credential(b,x)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ks(_,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signUp",jt(_,f))})).apply(this,arguments)}class Tr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,x=!1){return(0,I.Z)(function*(){const L=yield Kt._fromIdTokenResponse(f,b,x),Y=jc(b);return new Tr({user:L,providerId:Y,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,I.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const x=jc(b);return new Tr({user:f,providerId:x,_tokenResponse:b,operationType:m})})()}}function jc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Gn(){return(Gn=(0,I.Z)(function*(_){var f;const m=Qt(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Tr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ks(m,{returnSecureToken:!0}),x=yield Tr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Os extends B.ZR{constructor(f,m,b,x){var L;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,x){return new Os(f,m,b,x)}}function Uu(_,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Os._fromErrorAndOperation(_,L,f,b):L})}function vi(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Qs(){return(Qs=(0,I.Z)(function*(_,f){const m=(0,B.m9)(_);yield sn(!0,m,f);const{providerUserInfo:b}=yield Dr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),x=vi(b||[]);return m.providerData=m.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ys(_,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,I.Z)(function*(_,f,m=!1){const b=yield hr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Tr._forOperation(_,"link",b)})).apply(this,arguments)}function sn(_,f,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,I.Z)(function*(_,f,m){yield fn(f);const x=!1===_?"provider-already-linked":"no-such-provider";q(vi(f.providerData).has(m)===_,f.auth,x)})).apply(this,arguments)}function vs(_,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,I.Z)(function*(_,f,m=!1){var b;const{auth:x}=_,L="reauthenticate";try{const Y=yield hr(_,Uu(x,L,f,_),m);q(Y.idToken,x,"internal-error");const Ee=wt(Y.idToken);q(Ee,x,"internal-error");const{sub:qe}=Ee;return q(_.uid===qe,x,"user-mismatch"),Tr._forOperation(_,L,Y)}catch(Y){throw"auth/user-not-found"===(null===(b=Y)||void 0===b?void 0:b.code)&&Pe(x,"user-mismatch"),Y}})).apply(this,arguments)}function si(_,f){return No.apply(this,arguments)}function No(){return(No=(0,I.Z)(function*(_,f,m=!1){const b="signIn",x=yield Uu(_,b,f),L=yield Tr._fromIdTokenResponse(_,b,x);return m||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Vn(_,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,I.Z)(function*(_,f){return si(Qt(_),f)})).apply(this,arguments)}function Ao(_,f){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,I.Z)(function*(_,f){const m=(0,B.m9)(_);return yield sn(!1,m,f.providerId),Ys(m,f)})).apply(this,arguments)}function Mo(_,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,I.Z)(function*(_,f){return vs((0,B.m9)(_),f)})).apply(this,arguments)}function Ro(_,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,I.Z)(function*(_,f){return Xr(_,"POST","/v1/accounts:signInWithCustomToken",jt(_,f))})).apply(this,arguments)}function ks(){return(ks=(0,I.Z)(function*(_,f){const m=Qt(_),b=yield Ro(m,{token:f,returnSecureToken:!0}),x=yield Tr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Fe{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?St._fromServerResponse(f,m):Pe(f,"internal-error")}}class St extends Fe{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new St(m)}}function Zn(_,f,m){var b;q((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),q(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_),x={requestType:"PASSWORD_RESET",email:f};m&&Zn(b,x,m),yield nt(b,x)})).apply(this,arguments)}function eo(){return(eo=(0,I.Z)(function*(_,f,m){yield Ln((0,B.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function sa(){return(sa=(0,I.Z)(function*(_,f){yield Gl((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function ko(_,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,I.Z)(function*(_,f){const m=(0,B.m9)(_),b=yield Ln(m,{oobCode:f}),x=b.requestType;switch(q(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(b.mfaInfo,m,"internal-error");default:q(b.email,m,"internal-error")}let L=null;return b.mfaInfo&&(L=Fe._fromServerResponse(Qt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function $c(){return($c=(0,I.Z)(function*(_,f){const{data:m}=yield ko((0,B.m9)(_),f);return m.email})).apply(this,arguments)}function Wn(){return(Wn=(0,I.Z)(function*(_,f,m){const b=Qt(_),x=yield Ks(b,{returnSecureToken:!0,email:f,password:m}),L=yield Tr._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function rs(){return(rs=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};q(m.handleCodeInApp,b,"argument-error"),m&&Zn(b,x,m),yield Mt(b,x)})).apply(this,arguments)}function oa(){return(oa=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_),x=es.credentialWithLink(f,m||Ge());return q(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vn(b,x)})).apply(this,arguments)}function Ya(_,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:createAuthUri",jt(_,f))})).apply(this,arguments)}function Lo(){return(Lo=(0,I.Z)(function*(_,f){const b={identifier:f,continueUri:It()?Ge():"http://localhost"},{signinMethods:x}=yield Ya((0,B.m9)(_),b);return x||[]})).apply(this,arguments)}function la(){return(la=(0,I.Z)(function*(_,f){const m=(0,B.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Zn(m.auth,x,f);const{email:L}=yield pr(m.auth,x);L!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ds(){return(Ds=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Zn(b.auth,L,m);const{email:Y}=yield qs(b.auth,L);Y!==_.email&&(yield _.reload())})).apply(this,arguments)}function Xa(_,f){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,I.Z)(function*(_,f){return Tn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function el(){return(el=(0,I.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,B.m9)(_),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Y=yield hr(b,Xa(b.auth,L));b.displayName=Y.displayName||null,b.photoURL=Y.photoUrl||null;const Ee=b.providerData.find(({providerId:qe})=>"password"===qe);Ee&&(Ee.displayName=b.displayName,Ee.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Y)})).apply(this,arguments)}function T(_,f,m){return P.apply(this,arguments)}function P(){return(P=(0,I.Z)(function*(_,f,m){const{auth:b}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const Y=yield hr(_,Bt(b,L));yield _._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class he{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class we extends he{constructor(f,m,b,x){super(f,m,b),this.username=x}}class lt extends he{constructor(f,m){super(f,"facebook.com",m)}}class an extends we{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class hn extends he{constructor(f,m){super(f,"google.com",m)}}class gn extends we{constructor(f,m,b){super(f,"twitter.com",m,b)}}function nn(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function U(_){var f,m;if(!_)return null;const{providerId:b}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const Y=null===(m=null===(f=wt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new he(L,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!b)return null;switch(b){case"facebook.com":return new lt(L,x);case"github.com":return new an(L,x);case"google.com":return new hn(L,x);case"twitter.com":return new gn(L,x,_.screenName||null);case"custom":case"anonymous":return new he(L,null);default:return new he(L,b,x)}}(m)}class Vi{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new Vi("enroll",f,m)}static _fromMfaPendingCredential(f){return new Vi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Vi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Vi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class tl{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Qt(f),x=m.customData._serverResponse,L=(x.mfaInfo||[]).map(Ee=>Fe._fromServerResponse(b,Ee));q(x.mfaPendingCredential,b,"internal-error");const Y=Vi._fromMfaPendingCredential(x.mfaPendingCredential);return new tl(Y,L,function(){var Ee=(0,I.Z)(function*(qe){const gt=yield qe._process(b,Y);delete x.mfaInfo,delete x.mfaPendingCredential;const At=Object.assign(Object.assign({},x),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(m.operationType){case"signIn":const Nt=yield Tr._fromIdTokenResponse(b,m.operationType,At);return yield b._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return q(m.user,b,"internal-error"),Tr._forOperation(m.user,m.operationType,At);default:Pe(b,"internal-error")}});return function(qe){return Ee.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,I.Z)(function*(){return m.signInResolver(f)})()}}function Ql(_,f){return Tn(_,"POST","/v2/accounts/mfaEnrollment:start",jt(_,f))}class nl{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Fe._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new nl(f)}getSession(){var f=this;return(0,I.Z)(function*(){return Vi._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,I.Z)(function*(){const x=f,L=yield b.getSession(),Y=yield hr(b.user,x._process(b.user.auth,L,m));return yield b.user._updateTokensIfNecessary(Y),b.user.reload()})()}unenroll(f){var m=this;return(0,I.Z)(function*(){var b;const x="string"==typeof f?f:f.uid,L=yield m.user.getIdToken(),Y=yield hr(m.user,function gf(_,f){return Tn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(_,f))}(m.user.auth,{idToken:L,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ee})=>Ee!==x),yield m.user._updateTokensIfNecessary(Y);try{yield m.user.reload()}catch(Ee){if("auth/user-token-expired"!==(null===(b=Ee)||void 0===b?void 0:b.code))throw Ee}})()}}const Yl=new WeakMap,Is="__sak";class no{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Is,"1"),this.storage.removeItem(Is),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jl=(()=>{class _ extends no{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rl(){const _=(0,B.z$)();return Et(_)||zt(_)}()&&function qt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ft(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),L=this.localCache[b];x!==L&&m(b,L,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ee,qe,gt)=>{this.notifyListeners(Ee,gt)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(x);if(m.newValue!==Ee)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const L=()=>{const Ee=this.storage.getItem(x);!b&&this.localCache[x]===Ee||this.notifyListeners(x,Ee)},Y=this.storage.getItem(x);!function Rn(){return(0,B.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,L=this;return(0,I.Z)(function*(){yield x().call(L,m,b),L.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,I.Z)(function*(){const L=yield b().call(x,m);return x.localCache[m]=JSON.stringify(L),L})()}_remove(m){var b=()=>super._remove,x=this;return(0,I.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return _.type="LOCAL",_})(),zr=(()=>{class _ extends no{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let $u=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(L=>L.isListeningto(m));if(b)return b;const x=new _(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,I.Z)(function*(){const x=m,{eventId:L,eventType:Y,data:Ee}=x.data,qe=b.handlersMap[Y];if(!qe?.size)return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:Y});const gt=Array.from(qe).map(function(){var Nt=(0,I.Z)(function*(vr){return vr(x.origin,Ee)});return function(vr){return Nt.apply(this,arguments)}}()),At=yield function Bi(_){return Promise.all(_.map(function(){var f=(0,I.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(gt);x.ports[0].postMessage({status:"done",eventId:L,eventType:Y,response:At})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ro(_="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return _+m}class ec{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var x=this;return(0,I.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let Y,Ee;return new Promise((qe,gt)=>{const At=ro("",20);L.port1.start();const Nt=setTimeout(()=>{gt(new Error("unsupported_event"))},b);Ee={messageChannel:L,onMessage(vr){const os=vr;if(os.data.eventId===At)switch(os.data.status){case"ack":clearTimeout(Nt),Y=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),qe(os.data.response);break;default:clearTimeout(Nt),clearTimeout(Y),gt(new Error("invalid_response"))}}},x.handlers.add(Ee),L.port1.addEventListener("message",Ee.onMessage),x.target.postMessage({eventType:f,eventId:At,data:m},[L.port2])}).finally(()=>{Ee&&x.removeMessageHandler(Ee)})})()}}function Yt(){return window}function Bo(){return typeof Yt().WorkerGlobalScope<"u"&&"function"==typeof Yt().importScripts}function tc(){return(tc=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ua="firebaseLocalStorageDb",da="firebaseLocalStorage",ha="fbase_key";class ui{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function il(_,f){return _.transaction([da],f?"readwrite":"readonly").objectStore(da)}function fa(){const _=indexedDB.open(ua,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(da,{keyPath:ha})}catch(x){m(x)}}),_.addEventListener("success",(0,I.Z)(function*(){const b=_.result;b.objectStoreNames.contains(da)?f(b):(b.close(),yield function zc(){const _=indexedDB.deleteDatabase(ua);return new ui(_).toPromise()}(),f(yield fa()))}))})}function ji(_,f,m){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,I.Z)(function*(_,f,m){const b=il(_,!0).put({[ha]:f,value:m});return new ui(b).toPromise()})).apply(this,arguments)}function pa(){return(pa=(0,I.Z)(function*(_,f){const m=il(_,!1).get(f),b=yield new ui(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function jo(_,f){const m=il(_,!0).delete(f);return new ui(m).toPromise()}const Uo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,I.Z)(function*(){return m.db||(m.db=yield fa()),m.db})()}_withRetries(m){var b=this;return(0,I.Z)(function*(){let x=0;for(;;)try{const L=yield b._openDb();return yield m(L)}catch(L){if(x++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,I.Z)(function*(){return Bo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,I.Z)(function*(){m.receiver=$u._getInstance(function Wc(){return Bo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,I.Z)(function*(x,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(x,L){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,I.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,I.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function Es(){return tc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ec(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,I.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Gc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const m=yield fa();return yield ji(m,Is,"1"),yield jo(m,Is),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,I.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,I.Z)(function*(){return x._withPendingWrite((0,I.Z)(function*(){return yield x._withRetries(L=>ji(L,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,I.Z)(function*(){const x=yield b._withRetries(L=>function qc(_,f){return pa.apply(this,arguments)}(L,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,I.Z)(function*(){return b._withPendingWrite((0,I.Z)(function*(){return yield b._withRetries(x=>jo(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,I.Z)(function*(){const b=yield m._withRetries(Y=>{const Ee=il(Y,!1).getAll();return new ui(Ee).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:Y,value:Ee}of b)L.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(Ee)&&(m.notifyListeners(Y,Ee),x.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!L.has(Y)&&(m.notifyListeners(Y,null),x.push(Y));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function nc(_,f){return Tn(_,"POST","/v2/accounts/mfaSignIn:start",jt(_,f))}function io(){return(io=(0,I.Z)(function*(_){return(yield Tn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fs(_){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=x=>{const L=Ae("internal-error");L.customData=x,m(L)},b.type="text/javascript",b.charset="UTF-8",function ga(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function $o(_){return`__${_}${Math.floor(1e6*Math.random())}`}const so=1e12;class kn{constructor(f){this.auth=f,this.counter=so,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new rc(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||so;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||so))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,I.Z)(function*(){var b;return null===(b=m._widgets.get(f||so))||void 0===b||b.execute(),""})()}}class rc{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;q(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ol(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const al=$o("rcb"),er=new En(3e4,6e4);class zu{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Yt().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return q(function Ig(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Yt().grecaptcha):new Promise((b,x)=>{const L=Yt().setTimeout(()=>{x(Ae(f,"network-request-failed"))},er.get());Yt()[al]=()=>{Yt().clearTimeout(L),delete Yt()[al];const Ee=Yt().grecaptcha;if(!Ee)return void x(Ae(f,"internal-error"));const qe=Ee.render;Ee.render=(gt,At)=>{const Nt=qe(gt,At);return this.counter++,Nt},this.hostLanguage=m,b(Ee)},Fs(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:al,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),x(Ae(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Yt().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nr{load(f){return(0,I.Z)(function*(){return new kn(f)})()}clearedOneInstance(){}}const _f="recaptcha",Eg={theme:"light",type:"image"};class _r{constructor(f,m=Object.assign({},Eg),b){this.parameters=m,this.type=_f,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(b),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;q(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nr:new zu,this.validateStartingState()}verify(){var f=this;return(0,I.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(L=>{const Y=Ee=>{!Ee||(f.tokenChangeListeners.delete(Y),L(Ee))};f.tokenChangeListeners.add(Y),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Yt()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,I.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,I.Z)(function*(){q(It()&&!Bo(),f.auth,"internal-error"),yield function ma(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function qr(_){return io.apply(this,arguments)}(f.auth);q(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _a{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Oi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function ic(){return(ic=(0,I.Z)(function*(_,f,m){const b=Qt(_),x=yield Ls(b,f,(0,B.m9)(m));return new _a(x,L=>Vn(b,L))})).apply(this,arguments)}function Ui(){return(Ui=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_);yield sn(!1,b,"phone");const x=yield Ls(b.auth,f,(0,B.m9)(m));return new _a(x,L=>Ao(b,L))})).apply(this,arguments)}function ya(){return(ya=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_),x=yield Ls(b.auth,f,(0,B.m9)(m));return new _a(x,L=>Mo(b,L))})).apply(this,arguments)}function Ls(_,f,m){return va.apply(this,arguments)}function va(){return(va=(0,I.Z)(function*(_,f,m){var b;const x=yield m.verify();try{let L;if(q("string"==typeof x,_,"argument-error"),q(m.type===_f,_,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const Y=L.session;if("phoneNumber"in L)return q("enroll"===Y.type,_,"internal-error"),(yield Ql(_,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{q("signin"===Y.type,_,"internal-error");const Ee=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return q(Ee,_,"missing-multi-factor-info"),(yield nc(_,{mfaPendingCredential:Y.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Zd(_,{phoneNumber:L.phoneNumber,recaptchaToken:x});return Y}}finally{m._reset()}})).apply(this,arguments)}function cl(){return(cl=(0,I.Z)(function*(_,f){yield Ys((0,B.m9)(_),f)})).apply(this,arguments)}let Kc=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Qt(m)}verifyPhoneNumber(m,b){return Ls(this.auth,m,(0,B.m9)(b))}static credential(m,b){return Oi._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?Oi._fromTokenResponse(b,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ba(_,f){return f?ge(f):(q(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ho extends Hn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return dn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return dn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return dn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function wi(_){return si(_.auth,new Ho(_),_.bypassAuthState)}function ul(_){const{auth:f,user:m}=_;return q(m,f,"internal-error"),vs(m,new Ho(_),_.bypassAuthState)}function Vs(_){return dl.apply(this,arguments)}function dl(){return(dl=(0,I.Z)(function*(_){const{auth:f,user:m}=_;return q(m,f,"internal-error"),Ys(m,new Ho(_),_.bypassAuthState)})).apply(this,arguments)}class hl{constructor(f,m,b,x,L=!1){this.auth=f,this.resolver=b,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,I.Z)(function*(b,x){f.pendingPromise={resolve:b,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,I.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:L,tenantId:Y,error:Ee,type:qe}=f;if(Ee)return void m.reject(Ee);const gt={auth:m.auth,requestUri:b,sessionId:x,tenantId:Y||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(qe)(gt))}catch(At){m.reject(At)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return wi;case"linkViaPopup":case"linkViaRedirect":return Vs;case"reauthViaPopup":case"reauthViaRedirect":return ul;default:Pe(this.auth,"internal-error")}}resolve(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fl=new En(2e3,1e4);function pl(){return(pl=(0,I.Z)(function*(_,f,m){const b=Qt(_);Ke(_,f,Cr);const x=ba(b,m);return new Da(b,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function qu(){return(qu=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_);Ke(b.auth,f,Cr);const x=ba(b.auth,m);return new Da(b.auth,"reauthViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}function ml(){return(ml=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_);Ke(b.auth,f,Cr);const x=ba(b.auth,m);return new Da(b.auth,"linkViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}let Da=(()=>{class _ extends hl{constructor(m,b,x,L,Y){super(m,b,L,Y),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,I.Z)(function*(){const b=yield m.execute();return q(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,I.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const b=ro();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Ae(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,fl.get())};m()}}return _.currentPopupAction=null,_})();const Bn=new Map;class Yc extends hl{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,I.Z)(function*(){let b=Bn.get(m.auth._key());if(!b){try{const L=(yield function sc(_,f){return Ii.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(L)}catch(x){b=()=>Promise.reject(x)}Bn.set(m.auth._key(),b)}return m.bypassAuthState||Bn.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,I.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const x=yield b.auth._redirectUserForId(f.eventId);if(x)return b.user=x,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Ii(){return(Ii=(0,I.Z)(function*(_,f){const m=Qu(f),b=lo(_);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function Zu(_,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,I.Z)(function*(_,f){return lo(_)._set(Qu(f),"true")})).apply(this,arguments)}function _l(_,f){Bn.set(_._key(),f)}function lo(_){return ge(_._redirectPersistence)}function Qu(_){return ee("pendingRedirect",_.config.apiKey,_.name)}function S(){return(S=(0,I.Z)(function*(_,f,m){const b=Qt(_);Ke(_,f,Cr);const x=ba(b,m);return yield Zu(x,b),x._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function $(){return($=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_);Ke(b.auth,f,Cr);const x=ba(b.auth,m);yield Zu(x,b.auth);const L=yield ke(b);return x._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function je(){return(je=(0,I.Z)(function*(_,f,m){const b=(0,B.m9)(_);Ke(b.auth,f,Cr);const x=ba(b.auth,m);yield sn(!1,b,f.providerId),yield Zu(x,b.auth);const L=yield ke(b);return x._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function it(){return(it=(0,I.Z)(function*(_,f){return yield Qt(_)._initializationPromise,Tt(_,f,!1)})).apply(this,arguments)}function Tt(_,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,I.Z)(function*(_,f,m=!1){const b=Qt(_),x=ba(b,f),Y=yield new Yc(b,x,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield b._persistUserIfCurrent(Y.user),yield b._setRedirectUser(null,f)),Y})).apply(this,arguments)}function ke(_){return ut.apply(this,arguments)}function ut(){return(ut=(0,I.Z)(function*(_){const f=ro(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Je{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function zn(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Le(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!Le(f)){const x=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ae(this.auth,x))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(be(f))}saveEventToCache(f){this.cachedEventUids.add(be(f)),this.lastProcessedEventTime=Date.now()}}function be(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Le({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function co(_){return wa.apply(this,arguments)}function wa(){return(wa=(0,I.Z)(function*(_,f={}){return Tn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const yl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ia=/^https?/;function Cg(){return(Cg=(0,I.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield co(_);for(const m of f)try{if(Tg(m))return}catch{}Pe(_,"unauthorized-domain")})).apply(this,arguments)}function Tg(_){const f=Ge(),{protocol:m,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const Y=new URL(_);return""===Y.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===b}if(!Ia.test(m))return!1;if(yl.test(_))return b===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const $_=new En(3e4,6e4);function H_(){const _=Yt().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Jc=null;function Zt(_){return Jc=Jc||function eh(_){return new Promise((f,m)=>{var b,x,L;function Y(){H_(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{H_(),m(Ae(_,"network-request-failed"))},timeout:$_.get()})}if(null!==(x=null===(b=Yt().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(L=Yt().gapi)||void 0===L||!L.load){const Ee=$o("iframefcb");return Yt()[Ee]=()=>{gapi.load?Y():m(Ae(_,"network-request-failed"))},Fs(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(qe=>m(qe))}Y()}}).catch(f=>{throw Jc=null,f})}(_),Jc}const vl=new En(5e3,15e3),Pt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wn(_){const f=_.config;q(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Nn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},x=ac.get(_.config.apiHost);x&&(b.eid=x);const L=_._getFrameworks();return L.length&&(b.fw=L.join(",")),`${m}?${(0,B.xO)(b).slice(1)}`}function jn(){return jn=(0,I.Z)(function*(_){const f=yield Zt(_),m=Yt().gapi;return q(m,_,"internal-error"),f.open({where:document.body,url:wn(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pt,dontclear:!0},b=>new Promise(function(){var x=(0,I.Z)(function*(L,Y){yield b.restyle({setHideOnLeave:!1});const Ee=Ae(_,"network-request-failed"),qe=Yt().setTimeout(()=>{Y(Ee)},vl.get());function gt(){Yt().clearTimeout(qe),L(b)}b.ping(gt).then(gt,()=>{Y(Ee)})});return function(L,Y){return x.apply(this,arguments)}}()))}),jn.apply(this,arguments)}const et={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yr(_,f,m,b,x,L){q(_.config.authDomain,_,"auth-domain-config-required"),q(_.config.apiKey,_,"invalid-api-key");const Y={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:x};if(f instanceof Cr){f.setDefaultLanguage(_.languageCode),Y.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(Y.customParameters=JSON.stringify(f.getCustomParameters()));for(const[qe,gt]of Object.entries(L||{}))Y[qe]=gt}if(f instanceof ki){const qe=f.getScopes().filter(gt=>""!==gt);qe.length>0&&(Y.scopes=qe.join(","))}_.tenantId&&(Y.tid=_.tenantId);const Ee=Y;for(const qe of Object.keys(Ee))void 0===Ee[qe]&&delete Ee[qe];return`${function If({config:_}){return _.emulator?Nn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(Ee).slice(1)}`}const th="webStorageSupport";class de extends class Ef{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ne("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new de(f)}_finalizeEnroll(f,m,b){return function Kd(_,f){return Tn(_,"POST","/v2/accounts/mfaEnrollment:finalize",jt(_,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Zc(_,f){return Tn(_,"POST","/v2/accounts/mfaSignIn:finalize",jt(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ta=(()=>{class _{constructor(){}static assertion(m){return de._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Ts="@firebase/auth",Ag="0.20.10";class Ju{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,I.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var x;f((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ar(){return window}function wl(){return(wl=(0,I.Z)(function*(_,f,m){var b;const{BuildInfo:x}=Ar();X(f.sessionId,"AuthEvent did not contain a session ID");const L=yield Hi(f.sessionId),Y={};return zt()?Y.ibi=x.packageName:pn()?Y.apn=x.packageName:Pe(_,"operation-not-supported-in-this-environment"),x.displayName&&(Y.appDisplayName=x.displayName),Y.sessionId=L,yr(_,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,Y)})).apply(this,arguments)}function uc(){return(uc=(0,I.Z)(function*(_){const{BuildInfo:f}=Ar(),m={};zt()?m.iosBundleId=f.packageName:pn()?m.androidPackageName=f.packageName:Pe(_,"operation-not-supported-in-this-environment"),yield co(_,m)})).apply(this,arguments)}function Tf(){return(Tf=(0,I.Z)(function*(_,f,m){const{cordova:b}=Ar();let x=()=>{};try{yield new Promise((L,Y)=>{let Ee=null;function qe(){var Nt;L();const vr=null===(Nt=b.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof vr&&vr(),"function"==typeof m?.close&&m.close()}function gt(){Ee||(Ee=window.setTimeout(()=>{Y(Ae(_,"redirect-cancelled-by-user"))},2e3))}function At(){"visible"===document?.visibilityState&&gt()}f.addPassiveListener(qe),document.addEventListener("resume",gt,!1),pn()&&document.addEventListener("visibilitychange",At,!1),x=()=>{f.removePassiveListener(qe),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",At,!1),Ee&&window.clearTimeout(Ee)}})}finally{x()}})).apply(this,arguments)}function Hi(_){return td.apply(this,arguments)}function td(){return(td=(0,I.Z)(function*(_){const f=Qr(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qr(_){if(X(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}(0,B.Pz)("authIdTokenMaxAge"),function W_(_){(0,ae._registerComponent)(new De.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:L,authDomain:Y}=b.options;return((Ee,qe)=>{q(L&&!L.includes(":"),"invalid-api-key",{appName:Ee.name}),q(!Y?.includes(":"),"argument-error",{appName:Ee.name});const gt={apiKey:L,authDomain:Y,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ri(_)},At=new Vt(Ee,qe,gt);return function Ve(_,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(ge);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,f?.popupRedirectResolver)}(At,m),At})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new De.wA("auth-internal",f=>{const m=Qt(f.getProvider("auth").getImmediate());return new Ju(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Ts,Ag,function Dl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(Ts,Ag,"esm2017")}("Browser");class Sa extends Je{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,I.Z)(function*(){yield f.initPromise})()}}function rh(_){return ih.apply(this,arguments)}function ih(){return(ih=(0,I.Z)(function*(_){const f=yield uo()._get(Na(_));return f&&(yield uo()._remove(Na(_))),f})).apply(this,arguments)}function sh(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function uo(){return ge(Jl)}function Na(_){return ee("authEvent",_.config.apiKey,_.name)}function Bs(_){if(!_?.includes("?"))return{};const[f,...m]=_.split("?");return(0,B.zd)(m.join("?"))}function hc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function Wo(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function zo(_=(0,B.z$)()){return!("file:"!==Wo()&&"ionic:"!==Wo()&&"capacitor:"!==Wo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ch(){try{const _=self.localStorage,f=ro();if(_)return _.setItem(f,"1"),_.removeItem(f),!function nu(_=(0,B.z$)()){return function lh(){return(0,B.w1)()&&11===document?.documentMode}()||function id(_=(0,B.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,B.hl)()}catch{return uh()&&(0,B.hl)()}return!1}function uh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dh(){return(function Mg(){return"http:"===Wo()||"https:"===Wo()}()||(0,B.ru)()||zo())&&!function ah(){return(0,B.b$)()||(0,B.UG)()}()&&ch()&&!uh()}function sd(){return zo()&&typeof document<"u"}function Vr(){return(Vr=(0,I.Z)(function*(){return!!sd()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const on={LOCAL:"local",NONE:"none",SESSION:"session"},ru=q,xa="persistence";function od(_){return qo.apply(this,arguments)}function qo(){return(qo=(0,I.Z)(function*(_){yield _._initializationPromise;const f=pc(),m=ee(xa,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function pc(){var _;try{return(null===(_=function hh(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const ad=q;class Gi{constructor(){this.browserResolver=ge(class Ng{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zr,this._completeRedirectFn=Tt,this._overrideRedirectResult=_l}_openPopup(f,m,b,x){var L=this;return(0,I.Z)(function*(){var Y;X(null===(Y=L.eventManagers[f._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const Ee=yr(f,m,b,Ge(),x);return function bf(_,f,m,b=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),Y=Math.max((window.screen.availWidth-b)/2,0).toString();let Ee="";const qe=Object.assign(Object.assign({},et),{width:b.toString(),height:x.toString(),top:L,left:Y}),gt=(0,B.z$)().toLowerCase();m&&(Ee=mn(gt)?"_blank":m),tt(gt)&&(f=f||"http://localhost",qe.scrollbars="yes");const At=Object.entries(qe).reduce((vr,[os,ld])=>`${vr}${os}=${ld},`,"");if(function tn(_=(0,B.z$)()){var f;return zt(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(gt)&&"_self"!==Ee)return function Xc(_,f){const m=document.createElement("a");m.href=_,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Ee),new bl(null);const Nt=window.open(f||"",Ee,At);q(Nt,_,"popup-blocked");try{Nt.focus()}catch{}return new bl(Nt)}(f,Ee,ro())})()}_openRedirect(f,m,b,x){var L=this;return(0,I.Z)(function*(){return yield L._originValidation(f),function ci(_){Yt().location.href=_}(yr(f,m,b,Ge(),x)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:x,promise:L}=this.eventManagers[m];return x?Promise.resolve(x):(X(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,I.Z)(function*(){const b=yield function Sg(_){return jn.apply(this,arguments)}(f),x=new Je(f);return b.register("authEvent",L=>(q(L?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:x},m.iframes[f._key()]=b,x})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(th,{type:th},x=>{var L;const Y=null===(L=x?.[0])||void 0===L?void 0:L[th];void 0!==Y&&m(!!Y),Pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yu(_){return Cg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ft()||Et()||zt()}}),this.cordovaResolver=ge(class Aa{constructor(){this._redirectPersistence=zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tt,this._overrideRedirectResult=_l}_initialize(f){var m=this;return(0,I.Z)(function*(){const b=f._key();let x=m.eventManagers.get(b);return x||(x=new Sa(f),m.eventManagers.set(b,x),m.attachCallbackListeners(f,x)),x})()}_openPopup(f){Pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,x){var L=this;return(0,I.Z)(function*(){!function ed(_){var f,m,b,x,L,Y,Ee,qe,gt,At;const Nt=Ar();q("function"==typeof(null===(f=Nt?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(m=Nt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(L=null===(x=null===(b=Nt?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===L?void 0:L.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(qe=null===(Ee=null===(Y=Nt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===qe?void 0:qe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(At=null===(gt=Nt?.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===At?void 0:At.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Y=yield L._initialize(f);yield Y.initialized(),Y.resetRedirect(),function Ku(){Bn.clear()}(),yield L._originValidation(f);const Ee=function ar(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:sh(),postBody:null,tenantId:_.tenantId,error:Ae(_,"no-auth-event")}}(f,b,x);yield function dc(_,f){return uo()._set(Na(_),f)}(f,Ee);const qe=yield function $i(_,f,m){return wl.apply(this,arguments)}(f,Ee,m),gt=yield function Kr(_){const{cordova:f}=Ar();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let x=null;b?f.plugins.browsertab.openUrl(_):x=f.InAppBrowser.open(_,function _n(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(x)})})}(qe);return function Un(_,f,m){return Tf.apply(this,arguments)}(f,Y,gt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ir(_){return uc.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:x,BuildInfo:L}=Ar(),Y=setTimeout((0,I.Z)(function*(){yield rh(f),m.onEvent(hc())}),500),Ee=function(){var At=(0,I.Z)(function*(Nt){clearTimeout(Y);const vr=yield rh(f);let os=null;vr&&Nt?.url&&(os=function eu(_,f){var m,b;const x=function lr(_){const f=Bs(_),m=f.link?decodeURIComponent(f.link):void 0,b=Bs(m).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Bs(x).link||x||b||m||_}(f);if(x.includes("/__/auth/callback")){const L=Bs(x),Y=L.firebaseError?function nd(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,Ee=null===(b=null===(m=Y?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],qe=Ee?Ae(Ee):null;return qe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}(vr,Nt.url)),m.onEvent(os||hc())});return function(vr){return At.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ee);const qe=x,gt=`${L.packageName.toLowerCase()}://`;Ar().handleOpenURL=function(){var At=(0,I.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(gt)&&Ee({url:Nt}),"function"==typeof qe)try{qe(Nt)}catch(vr){console.error(vr)}});return function(Nt){return At.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zr,this._completeRedirectFn=Tt,this._overrideRedirectResult=_l}_initialize(f){var m=this;return(0,I.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,x){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,m,b,x)})()}_openRedirect(f,m,b,x){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,m,b,x)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return sd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ad(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,I.Z)(function*(){if(f.underlyingResolver)return;const m=yield function q_(){return Vr.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Br(_){return _.unwrap()}function Z_(_){return ph(_)}function ph(_){const{_tokenResponse:f}=_ instanceof B.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Kc.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=qa;break;case"facebook.com":b=To;break;case"github.com":b=ra;break;case"twitter.com":b=Gr;break;default:const{oauthIdToken:x,oauthAccessToken:L,oauthTokenSecret:Y,pendingToken:Ee,nonce:qe}=f;return L||Y||x||Ee?Ee?m.startsWith("saml.")?Zs._create(m,Ee):Er._fromParams({providerId:m,signInMethod:m,pendingToken:Ee,idToken:x,accessToken:L}):new ts(m).credential({idToken:x,accessToken:L,rawNonce:qe}):null}return _ instanceof B.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function jr(_,f){return f.catch(m=>{throw m instanceof B.ZR&&function K_(_,f){var m,b;const x=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new Q_(_,function Xn(_,f){var m;const b=(0,B.m9)(_),x=f;return q(f.customData.operationType,b,"argument-error"),q(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),tl._fromError(b,x)}(_,f));else if(x){const L=ph(f),Y=f;L&&(Y.credential=L,Y.tenantId=x.tenantId||void 0,Y.email=x.email||void 0,Y.phoneNumber=x.phoneNumber||void 0)}}(_,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Z_(m),additionalUserInfo:nn(m),user:Ei.getOrCreate(x)}})}function Af(_,f){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,I.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>jr(_,m.confirm(b))}})).apply(this,arguments)}class Q_{constructor(f,m){this.resolver=m,this.auth=function Nf(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return jr(Br(this.auth),this.resolver.resolveSignIn(f))}}class Ei{constructor(f){this._delegate=f,this.multiFactor=function ca(_){const f=(0,B.m9)(_);return Yl.has(f)||Yl.set(f,nl._fromUser(f)),Yl.get(f)}(f)}static getOrCreate(f){return Ei.USER_MAP.has(f)||Ei.USER_MAP.set(f,new Ei(f)),Ei.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,I.Z)(function*(){return jr(m.auth,Ao(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,I.Z)(function*(){return Af(b.auth,function Di(_,f,m){return Ui.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,I.Z)(function*(){return jr(m.auth,function Xd(_,f,m){return ml.apply(this,arguments)}(m._delegate,f,Gi))})()}linkWithRedirect(f){var m=this;return(0,I.Z)(function*(){return yield od(Qt(m.auth)),function te(_,f,m){return function _e(_,f,m){return je.apply(this,arguments)}(_,f,m)}(m._delegate,f,Gi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,I.Z)(function*(){return jr(m.auth,Mo(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Af(this.auth,function ll(_,f,m){return ya.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return jr(this.auth,function gl(_,f,m){return qu.apply(this,arguments)}(this._delegate,f,Gi))}reauthenticateWithRedirect(f){var m=this;return(0,I.Z)(function*(){return yield od(Qt(m.auth)),function N(_,f,m){return function O(_,f,m){return $.apply(this,arguments)}(_,f,m)}(m._delegate,f,Gi)})()}sendEmailVerification(f){return function Vo(_,f){return la.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,I.Z)(function*(){return yield function gr(_,f){return Qs.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function E(_,f){return T((0,B.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function R(_,f){return T((0,B.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function yf(_,f){return cl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ws(_,f){return el.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Zl(_,f,m){return Ds.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ei.USER_MAP=new WeakMap;const Us=q;let xf=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Us(x,"invalid-api-key",{appName:m.name}),Us(x,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?Gi:void 0;this._delegate=b.initialize({options:{persistence:xg(x,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function On(_,f,m){const b=Qt(_);q(b._canInitEmulator,b,"emulator-config-failed"),q(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,L=pi(f),{host:Y,port:Ee}=function Xe(_){const f=pi(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const L=x[1];return{host:L,port:_s(b.substr(L.length+1))}}{const[L,Y]=b.split(":");return{host:L,port:_s(Y)}}}(f);b.config.emulator={url:`${L}//${Y}${null===Ee?"":`:${Ee}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Y,port:Ee,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function gi(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function oi(_,f){return sa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ko(this._delegate,m)}confirmPasswordReset(m,b){return function Ka(_,f,m){return eo.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var x=this;return(0,I.Z)(function*(){return jr(x._delegate,function to(_,f,m){return Wn.apply(this,arguments)}(x._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function aa(_,f){return Lo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ai(_,f){return"EMAIL_SIGNIN"===Co.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,I.Z)(function*(){Us(dh(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function re(_,f){return it.apply(this,arguments)}(m._delegate,Gi);return b?jr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Ma(_,f){Qt(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,x){const{next:L,error:Y,complete:Ee}=iu(m,b,x);return this._delegate.onAuthStateChanged(L,Y,Ee)}onIdTokenChanged(m,b,x){const{next:L,error:Y,complete:Ee}=iu(m,b,x);return this._delegate.onIdTokenChanged(L,Y,Ee)}sendSignInLinkToEmail(m,b){return function Fo(_,f,m){return rs.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Xs(_,f,m){return Pn.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,I.Z)(function*(){let x;switch(function fc(_,f){ru(Object.values(on).includes(f),_,"invalid-persistence-type"),(0,B.b$)()?ru(f!==on.SESSION,_,"unsupported-persistence-type"):(0,B.UG)()?ru(f===on.NONE,_,"unsupported-persistence-type"):uh()?ru(f===on.NONE||f===on.LOCAL&&(0,B.hl)(),_,"unsupported-persistence-type"):ru(f===on.NONE||ch(),_,"unsupported-persistence-type")}(b._delegate,m),m){case on.SESSION:x=zr;break;case on.LOCAL:x=(yield ge(Uo)._isAvailable())?Uo:Jl;break;case on.NONE:x=W;break;default:return Pe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return jr(this._delegate,function So(_){return Gn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return jr(this._delegate,Vn(this._delegate,m))}signInWithCustomToken(m){return jr(this._delegate,function Oo(_,f){return ks.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return jr(this._delegate,function ns(_,f,m){return Vn((0,B.m9)(_),es.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return jr(this._delegate,function Hc(_,f,m){return oa.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Af(this._delegate,function oo(_,f,m){return ic.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,I.Z)(function*(){return Us(dh(),b._delegate,"operation-not-supported-in-this-environment"),jr(b._delegate,function Qc(_,f,m){return pl.apply(this,arguments)}(b._delegate,m,Gi))})()}signInWithRedirect(m){var b=this;return(0,I.Z)(function*(){return Us(dh(),b._delegate,"operation-not-supported-in-this-environment"),yield od(b._delegate),function or(_,f,m){return function oc(_,f,m){return S.apply(this,arguments)}(_,f,m)}(b._delegate,m,Gi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Po(_,f){return $c.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=on,_})();function iu(_,f,m){let b=_;"function"!=typeof _&&({next:b,error:f,complete:m}=_);const x=b;return{next:Y=>x(Y&&Ei.getOrCreate(Y)),error:f,complete:m}}function xg(_,f){const m=function fh(_,f){const m=pc();if(!m)return[];const b=ee(xa,_,f);switch(m.getItem(b)){case on.NONE:return[W];case on.LOCAL:return[Uo,zr];case on.SESSION:return[zr];default:return[]}}(_,f);if(typeof self<"u"&&!m.includes(Uo)&&m.push(Uo),typeof window<"u")for(const b of[Jl,zr])m.includes(b)||m.push(b);return m.includes(W)||m.push(W),m}class $s{constructor(){this.providerId="phone",this._delegate=new Kc(Br(u.Z.auth()))}static credential(f,m){return Kc.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}$s.PHONE_SIGN_IN_METHOD=Kc.PHONE_SIGN_IN_METHOD,$s.PROVIDER_ID=Kc.PROVIDER_ID;const Y_=q;class su{constructor(f,m,b=u.Z.app()){var x;Y_(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new _r(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rf(_){_.INTERNAL.registerComponent(new De.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new xf(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:es,FacebookAuthProvider:To,GithubAuthProvider:ra,GoogleAuthProvider:qa,OAuthProvider:ts,SAMLAuthProvider:Lr,PhoneAuthProvider:$s,PhoneMultiFactorGenerator:Ta,RecaptchaVerifier:su,TwitterAuthProvider:Gr,Auth:xf,AuthCredential:Hn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.23")}(u.Z)},4497:(vt,Se)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var V=function(){function I(u,B,ae,se){this.id=I.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,u&&(this.text=u),B&&(this.cssClass=B),ae&&(this.closeOnClick=ae),se&&(this.showCloseBtn=se)}return I.nextId=0,I}();Se.FlashMessage=V},2570:function(vt,Se,V){"use strict";var I=V(4650),u=V(5673),B=V(6895);function ae(Ie,le){1&Ie&&I.\u0275\u0275element(0,"div",3)}function se(Ie,le){if(1&Ie){var He=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"button",7),I.\u0275\u0275listener("click",function(){I.\u0275\u0275restoreView(He);var fe=I.\u0275\u0275nextContext().$implicit,Qe=I.\u0275\u0275nextContext();return I.\u0275\u0275resetView(Qe.close(fe))}),I.\u0275\u0275elementStart(1,"span",8),I.\u0275\u0275text(2,"\xd7"),I.\u0275\u0275elementEnd()()}}var pe=function(Ie){return{"alert-dismissible":Ie}};function De(Ie,le){if(1&Ie){var He=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"div",4),I.\u0275\u0275listener("click",function(){var st=I.\u0275\u0275restoreView(He).$implicit,Pe=I.\u0275\u0275nextContext();return I.\u0275\u0275resetView(Pe.alertClicked(st))}),I.\u0275\u0275template(1,se,3,0,"button",5),I.\u0275\u0275element(2,"div",6),I.\u0275\u0275elementEnd()}if(2&Ie){var me=le.$implicit;I.\u0275\u0275classMapInterpolate1("alert flash-message ",me.cssClass,""),I.\u0275\u0275styleProp("cursor",me.closeOnClick?"pointer":"inherit"),I.\u0275\u0275property("ngClass",I.\u0275\u0275pureFunction1(8,pe,me.showCloseBtn)),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",me.showCloseBtn),I.\u0275\u0275advance(1),I.\u0275\u0275property("innerHTML",me.text,I.\u0275\u0275sanitizeHtml)}}var ye=this&&this.__decorate||function(Ie,le,He,me){var st,fe=arguments.length,Qe=fe<3?le:null===me?me=Object.getOwnPropertyDescriptor(le,He):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Qe=Reflect.decorate(Ie,le,He,me);else for(var Pe=Ie.length-1;Pe>=0;Pe--)(st=Ie[Pe])&&(Qe=(fe<3?st(Qe):fe>3?st(le,He,Qe):st(le,He))||Qe);return fe>3&&Qe&&Object.defineProperty(le,He,Qe),Qe},ve=this&&this.__metadata||function(Ie,le){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ie,le)};Object.defineProperty(Se,"__esModule",{value:!0});var G=V(4650),z=V(4497),J=V(5673),$e=function(){function Ie(le,He){this._flashMessagesService=le,this._cdRef=He,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return Ie.prototype.ngOnInit=function(){},Ie.prototype.show=function(le,He){var me=this;void 0===He&&(He={});var fe={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Qe in He)fe[Qe]=He[Qe];var st=new z.FlashMessage(le,fe.cssClass,fe.closeOnClick,fe.showCloseBtn);st.timer=window.setTimeout(function(){me._remove(st),me._cdRef.detectChanges()},fe.timeout),this.messages.push(st),this._cdRef.detectChanges()},Ie.prototype.close=function(le){clearTimeout(le.timer),this._remove(le),this._cdRef.detectChanges()},Ie.prototype.alertClicked=function(le){le.closeOnClick&&this.close(le)},Ie.prototype.grayOut=function(le){void 0===le&&(le=!1),this._grayOut=le},Ie.prototype._remove=function(le){this.messages=this.messages.filter(function(He){return He.id!==le.id})},(Ie=ye([ve("design:paramtypes",[J.FlashMessagesService,G.ChangeDetectorRef])],Ie)).\u0275fac=function(He){return new(He||Ie)(I.\u0275\u0275directiveInject(u.FlashMessagesService),I.\u0275\u0275directiveInject(I.ChangeDetectorRef))},Ie.\u0275cmp=I.\u0275\u0275defineComponent({type:Ie,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(He,me){1&He&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275template(1,ae,1,0,"div",1),I.\u0275\u0275template(2,De,3,10,"div",2),I.\u0275\u0275elementEnd()),2&He&&(I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",me._grayOut&&me.messages.length),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngForOf",me.messages))},dependencies:[B.NgClass,B.NgForOf,B.NgIf],encapsulation:2}),Ie}();Se.FlashMessagesComponent=$e},5673:function(vt,Se,V){"use strict";var I=V(4650);Object.defineProperty(Se,"__esModule",{value:!0}),V(4650);var ae=function(){function se(){}return se.\u0275fac=function(De){return new(De||se)},se.\u0275prov=I.\u0275\u0275defineInjectable({token:se,factory:function(pe){return se.\u0275fac(pe)}}),se}();Se.FlashMessagesService=ae},3241:(vt,Se,V)=>{var u=V(2570),B=V(8533);Se.qz=B.FlashMessagesModule;var ae=V(5673);Se.GQ=ae.FlashMessagesService,Se.cS=u.FlashMessagesComponent},8533:function(vt,Se,V){"use strict";var I=V(4650);V(2570),V(6895),Object.defineProperty(Se,"__esModule",{value:!0}),V(4650);var pe=V(6895),ye=(V(2570),V(5673)),ve=function(){function G(){}var z;return z=G,G.forRoot=function(){return{ngModule:z,providers:[ye.FlashMessagesService]}},G.\u0275fac=function($e){return new($e||G)},G.\u0275mod=I.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=I.\u0275\u0275defineInjector({imports:[pe.CommonModule]}),G}();Se.FlashMessagesModule=ve},9751:(vt,Se,V)=>{"use strict";V.d(Se,{y:()=>ye});var I=V(930),u=V(727),B=V(8822),ae=V(9635),se=V(2416),pe=V(576),De=V(2806);let ye=(()=>{class J{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const le=new J;return le.source=this,le.operator=Ie,le}subscribe(Ie,le,He){const me=function z(J){return J&&J instanceof I.Lv||function G(J){return J&&(0,pe.m)(J.next)&&(0,pe.m)(J.error)&&(0,pe.m)(J.complete)}(J)&&(0,u.Nn)(J)}(Ie)?Ie:new I.Hp(Ie,le,He);return(0,De.x)(()=>{const{operator:fe,source:Qe}=this;me.add(fe?fe.call(me,Qe):Qe?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(le){Ie.error(le)}}forEach(Ie,le){return new(le=ve(le))((He,me)=>{const fe=new I.Hp({next:Qe=>{try{Ie(Qe)}catch(st){me(st),fe.unsubscribe()}},error:me,complete:He});this.subscribe(fe)})}_subscribe(Ie){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Ie)}[B.L](){return this}pipe(...Ie){return(0,ae.U)(Ie)(this)}toPromise(Ie){return new(Ie=ve(Ie))((le,He)=>{let me;this.subscribe(fe=>me=fe,fe=>He(fe),()=>le(me))})}}return J.create=$e=>new J($e),J})();function ve(J){var $e;return null!==($e=J??se.v.Promise)&&void 0!==$e?$e:Promise}},7579:(vt,Se,V)=>{"use strict";V.d(Se,{x:()=>De});var I=V(9751),u=V(727);const ae=(0,V(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=V(8737),pe=V(2806);let De=(()=>{class ve extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const J=new ye(this,this);return J.operator=z,J}_throwIfClosed(){if(this.closed)throw new ae}next(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(z)}})}error(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:J}=this;for(;J.length;)J.shift().error(z)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:J,isStopped:$e,observers:Ie}=this;return J||$e?u.Lc:(this.currentObservers=null,Ie.push(z),new u.w0(()=>{this.currentObservers=null,(0,se.P)(Ie,z)}))}_checkFinalizedStatuses(z){const{hasError:J,thrownError:$e,isStopped:Ie}=this;J?z.error($e):Ie&&z.complete()}asObservable(){const z=new I.y;return z.source=this,z}}return ve.create=(G,z)=>new ye(G,z),ve})();class ye extends De{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,J;null===(J=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===J||J.call(z,G)}error(G){var z,J;null===(J=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===J||J.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,J;return null!==(J=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==J?J:u.Lc}}},930:(vt,Se,V)=>{"use strict";V.d(Se,{Hp:()=>He,Lv:()=>J});var I=V(576),u=V(727),B=V(2416),ae=V(7849),se=V(5032);const pe=ve("C",void 0,void 0);function ve(Pe,Ae,Oe){return{kind:Pe,value:Ae,error:Oe}}var G=V(3410),z=V(2806);class J extends u.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,u.Nn)(Ae)&&Ae.add(this)):this.destination=st}static create(Ae,Oe,Ke){return new He(Ae,Oe,Ke)}next(Ae){this.isStopped?Qe(function ye(Pe){return ve("N",Pe,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Qe(function De(Pe){return ve("E",void 0,Pe)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Qe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ie(Pe,Ae){return $e.call(Pe,Ae)}class le{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ae)}catch(Ke){me(Ke)}}error(Ae){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ae)}catch(Ke){me(Ke)}else me(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Oe){me(Oe)}}}class He extends J{constructor(Ae,Oe,Ke){let Ye;if(super(),(0,I.m)(Ae)||!Ae)Ye={next:Ae??void 0,error:Oe??void 0,complete:Ke??void 0};else{let q;this&&B.v.useDeprecatedNextContext?(q=Object.create(Ae),q.unsubscribe=()=>this.unsubscribe(),Ye={next:Ae.next&&Ie(Ae.next,q),error:Ae.error&&Ie(Ae.error,q),complete:Ae.complete&&Ie(Ae.complete,q)}):Ye=Ae}this.destination=new le(Ye)}}function me(Pe){B.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Pe):(0,ae.h)(Pe)}function Qe(Pe,Ae){const{onStoppedNotification:Oe}=B.v;Oe&&G.z.setTimeout(()=>Oe(Pe,Ae))}const st={closed:!0,next:se.Z,error:function fe(Pe){throw Pe},complete:se.Z}},727:(vt,Se,V)=>{"use strict";V.d(Se,{Lc:()=>pe,w0:()=>se,Nn:()=>De});var I=V(576);const B=(0,V(3888).d)(ve=>function(z){ve(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((J,$e)=>`${$e+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ae=V(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ie of z)Ie.remove(this);else z.remove(this);const{initialTeardown:J}=this;if((0,I.m)(J))try{J()}catch(Ie){G=Ie instanceof B?Ie.errors:[Ie]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ie of $e)try{ye(Ie)}catch(le){G=G??[],le instanceof B?G=[...G,...le.errors]:G.push(le)}}if(G)throw new B(G)}}add(G){var z;if(G&&G!==this)if(this.closed)ye(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ae.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ae.P)(z,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const ve=new se;return ve.closed=!0,ve})();const pe=se.EMPTY;function De(ve){return ve instanceof se||ve&&"closed"in ve&&(0,I.m)(ve.remove)&&(0,I.m)(ve.add)&&(0,I.m)(ve.unsubscribe)}function ye(ve){(0,I.m)(ve)?ve():ve.unsubscribe()}},2416:(vt,Se,V)=>{"use strict";V.d(Se,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,V)=>{"use strict";V.d(Se,{E:()=>u});const u=new(V(9751).y)(se=>se.complete())},8996:(vt,Se,V)=>{"use strict";V.d(Se,{D:()=>Ae});var I=V(8421),u=V(5363),B=V(9468),pe=V(9751),ye=V(2202),ve=V(576),G=V(9672);function J(Oe,Ke){if(!Oe)throw new Error("Iterable cannot be null");return new pe.y(Ye=>{(0,G.f)(Ye,Ke,()=>{const q=Oe[Symbol.asyncIterator]();(0,G.f)(Ye,Ke,()=>{q.next().then(Ne=>{Ne.done?Ye.complete():Ye.next(Ne.value)})},0,!0)})})}var $e=V(3670),Ie=V(8239),le=V(1144),He=V(6495),me=V(2206),fe=V(4532),Qe=V(3260);function Ae(Oe,Ke){return Ke?function Pe(Oe,Ke){if(null!=Oe){if((0,$e.c)(Oe))return function ae(Oe,Ke){return(0,I.Xf)(Oe).pipe((0,B.R)(Ke),(0,u.Q)(Ke))}(Oe,Ke);if((0,le.z)(Oe))return function De(Oe,Ke){return new pe.y(Ye=>{let q=0;return Ke.schedule(function(){q===Oe.length?Ye.complete():(Ye.next(Oe[q++]),Ye.closed||this.schedule())})})}(Oe,Ke);if((0,Ie.t)(Oe))return function se(Oe,Ke){return(0,I.Xf)(Oe).pipe((0,B.R)(Ke),(0,u.Q)(Ke))}(Oe,Ke);if((0,me.D)(Oe))return J(Oe,Ke);if((0,He.T)(Oe))return function z(Oe,Ke){return new pe.y(Ye=>{let q;return(0,G.f)(Ye,Ke,()=>{q=Oe[ye.h](),(0,G.f)(Ye,Ke,()=>{let Ne,X;try{({value:Ne,done:X}=q.next())}catch(ie){return void Ye.error(ie)}X?Ye.complete():Ye.next(Ne)},0,!0)}),()=>(0,ve.m)(q?.return)&&q.return()})}(Oe,Ke);if((0,Qe.L)(Oe))return function st(Oe,Ke){return J((0,Qe.Q)(Oe),Ke)}(Oe,Ke)}throw(0,fe.z)(Oe)}(Oe,Ke):(0,I.Xf)(Oe)}},8421:(vt,Se,V)=>{"use strict";V.d(Se,{Xf:()=>$e});var I=V(655),u=V(1144),B=V(8239),ae=V(9751),se=V(3670),pe=V(2206),De=V(4532),ye=V(6495),ve=V(3260),G=V(576),z=V(7849),J=V(8822);function $e(Pe){if(Pe instanceof ae.y)return Pe;if(null!=Pe){if((0,se.c)(Pe))return function Ie(Pe){return new ae.y(Ae=>{const Oe=Pe[J.L]();if((0,G.m)(Oe.subscribe))return Oe.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,u.z)(Pe))return function le(Pe){return new ae.y(Ae=>{for(let Oe=0;Oe<Pe.length&&!Ae.closed;Oe++)Ae.next(Pe[Oe]);Ae.complete()})}(Pe);if((0,B.t)(Pe))return function He(Pe){return new ae.y(Ae=>{Pe.then(Oe=>{Ae.closed||(Ae.next(Oe),Ae.complete())},Oe=>Ae.error(Oe)).then(null,z.h)})}(Pe);if((0,pe.D)(Pe))return fe(Pe);if((0,ye.T)(Pe))return function me(Pe){return new ae.y(Ae=>{for(const Oe of Pe)if(Ae.next(Oe),Ae.closed)return;Ae.complete()})}(Pe);if((0,ve.L)(Pe))return function Qe(Pe){return fe((0,ve.Q)(Pe))}(Pe)}throw(0,De.z)(Pe)}function fe(Pe){return new ae.y(Ae=>{(function st(Pe,Ae){var Oe,Ke,Ye,q;return(0,I.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,I.KL)(Pe);!(Ke=yield Oe.next()).done;)if(Ae.next(Ke.value),Ae.closed)return}catch(Ne){Ye={error:Ne}}finally{try{Ke&&!Ke.done&&(q=Oe.return)&&(yield q.call(Oe))}finally{if(Ye)throw Ye.error}}Ae.complete()})})(Pe,Ae).catch(Oe=>Ae.error(Oe))})}},6451:(vt,Se,V)=>{"use strict";V.d(Se,{T:()=>pe});var I=V(8189),u=V(8421),B=V(515),ae=V(3269),se=V(8996);function pe(...De){const ye=(0,ae.yG)(De),ve=(0,ae._6)(De,1/0),G=De;return G.length?1===G.length?(0,u.Xf)(G[0]):(0,I.J)(ve)((0,se.D)(G,ye)):B.E}},5403:(vt,Se,V)=>{"use strict";V.d(Se,{x:()=>u});var I=V(930);function u(ae,se,pe,De,ye){return new B(ae,se,pe,De,ye)}class B extends I.Lv{constructor(se,pe,De,ye,ve,G){super(se),this.onFinalize=ve,this.shouldUnsubscribe=G,this._next=pe?function(z){try{pe(z)}catch(J){se.error(J)}}:super._next,this._error=ye?function(z){try{ye(z)}catch(J){se.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(vt,Se,V)=>{"use strict";V.d(Se,{U:()=>B});var I=V(4482),u=V(5403);function B(ae,se){return(0,I.e)((pe,De)=>{let ye=0;pe.subscribe((0,u.x)(De,ve=>{De.next(ae.call(se,ve,ye++))}))})}},8189:(vt,Se,V)=>{"use strict";V.d(Se,{J:()=>B});var I=V(5577),u=V(4671);function B(ae=1/0){return(0,I.z)(u.y,ae)}},5577:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>ye});var I=V(4004),u=V(8421),B=V(4482),ae=V(9672),se=V(5403),De=V(576);function ye(ve,G,z=1/0){return(0,De.m)(G)?ye((J,$e)=>(0,I.U)((Ie,le)=>G(J,Ie,$e,le))((0,u.Xf)(ve(J,$e))),z):("number"==typeof G&&(z=G),(0,B.e)((J,$e)=>function pe(ve,G,z,J,$e,Ie,le,He){const me=[];let fe=0,Qe=0,st=!1;const Pe=()=>{st&&!me.length&&!fe&&G.complete()},Ae=Ke=>fe<J?Oe(Ke):me.push(Ke),Oe=Ke=>{Ie&&G.next(Ke),fe++;let Ye=!1;(0,u.Xf)(z(Ke,Qe++)).subscribe((0,se.x)(G,q=>{$e?.(q),Ie?Ae(q):G.next(q)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(fe--;me.length&&fe<J;){const q=me.shift();le?(0,ae.f)(G,le,()=>Oe(q)):Oe(q)}Pe()}catch(q){G.error(q)}}))};return ve.subscribe((0,se.x)(G,Ae,()=>{st=!0,Pe()})),()=>{He?.()}}(J,$e,ve,z)))}},5363:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>ae});var I=V(9672),u=V(4482),B=V(5403);function ae(se,pe=0){return(0,u.e)((De,ye)=>{De.subscribe((0,B.x)(ye,ve=>(0,I.f)(ye,se,()=>ye.next(ve),pe),()=>(0,I.f)(ye,se,()=>ye.complete(),pe),ve=>(0,I.f)(ye,se,()=>ye.error(ve),pe)))})}},3099:(vt,Se,V)=>{"use strict";V.d(Se,{B:()=>se});var I=V(8421),u=V(7579),B=V(930),ae=V(4482);function se(De={}){const{connector:ye=(()=>new u.x),resetOnError:ve=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=De;return J=>{let $e,Ie,le,He=0,me=!1,fe=!1;const Qe=()=>{Ie?.unsubscribe(),Ie=void 0},st=()=>{Qe(),$e=le=void 0,me=fe=!1},Pe=()=>{const Ae=$e;st(),Ae?.unsubscribe()};return(0,ae.e)((Ae,Oe)=>{He++,!fe&&!me&&Qe();const Ke=le=le??ye();Oe.add(()=>{He--,0===He&&!fe&&!me&&(Ie=pe(Pe,z))}),Ke.subscribe(Oe),!$e&&He>0&&($e=new B.Hp({next:Ye=>Ke.next(Ye),error:Ye=>{fe=!0,Qe(),Ie=pe(st,ve,Ye),Ke.error(Ye)},complete:()=>{me=!0,Qe(),Ie=pe(st,G),Ke.complete()}}),(0,I.Xf)(Ae).subscribe($e))})(J)}}function pe(De,ye,...ve){if(!0===ye)return void De();if(!1===ye)return;const G=new B.Hp({next:()=>{G.unsubscribe(),De()}});return ye(...ve).subscribe(G)}},9468:(vt,Se,V)=>{"use strict";V.d(Se,{R:()=>u});var I=V(4482);function u(B,ae=0){return(0,I.e)((se,pe)=>{pe.add(B.schedule(()=>se.subscribe(pe),ae))})}},8505:(vt,Se,V)=>{"use strict";V.d(Se,{b:()=>se});var I=V(576),u=V(4482),B=V(5403),ae=V(4671);function se(pe,De,ye){const ve=(0,I.m)(pe)||De||ye?{next:pe,error:De,complete:ye}:pe;return ve?(0,u.e)((G,z)=>{var J;null===(J=ve.subscribe)||void 0===J||J.call(ve);let $e=!0;G.subscribe((0,B.x)(z,Ie=>{var le;null===(le=ve.next)||void 0===le||le.call(ve,Ie),z.next(Ie)},()=>{var Ie;$e=!1,null===(Ie=ve.complete)||void 0===Ie||Ie.call(ve),z.complete()},Ie=>{var le;$e=!1,null===(le=ve.error)||void 0===le||le.call(ve,Ie),z.error(Ie)},()=>{var Ie,le;$e&&(null===(Ie=ve.unsubscribe)||void 0===Ie||Ie.call(ve)),null===(le=ve.finalize)||void 0===le||le.call(ve)}))}):ae.y}},4408:(vt,Se,V)=>{"use strict";V.d(Se,{o:()=>se});var I=V(727);class u extends I.w0{constructor(De,ye){super()}schedule(De,ye=0){return this}}const B={setInterval(pe,De,...ye){const{delegate:ve}=B;return ve?.setInterval?ve.setInterval(pe,De,...ye):setInterval(pe,De,...ye)},clearInterval(pe){const{delegate:De}=B;return(De?.clearInterval||clearInterval)(pe)},delegate:void 0};var ae=V(8737);class se extends u{constructor(De,ye){super(De,ye),this.scheduler=De,this.work=ye,this.pending=!1}schedule(De,ye=0){var ve;if(this.closed)return this;this.state=De;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,ye)),this.pending=!0,this.delay=ye,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(z,this.id,ye),this}requestAsyncId(De,ye,ve=0){return B.setInterval(De.flush.bind(De,this),ve)}recycleAsyncId(De,ye,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ye;null!=ye&&B.clearInterval(ye)}execute(De,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(De,ye);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ye){let G,ve=!1;try{this.work(De)}catch(z){ve=!0,G=z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:De,scheduler:ye}=this,{actions:ve}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ve,this),null!=De&&(this.id=this.recycleAsyncId(ye,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,V)=>{"use strict";V.d(Se,{v:()=>B});var I=V(6063);class u{constructor(se,pe=u.now){this.schedulerActionCtor=se,this.now=pe}schedule(se,pe=0,De){return new this.schedulerActionCtor(this,se).schedule(De,pe)}}u.now=I.l.now;class B extends u{constructor(se,pe=u.now){super(se,pe),this.actions=[],this._active=!1}flush(se){const{actions:pe}=this;if(this._active)return void pe.push(se);let De;this._active=!0;do{if(De=se.execute(se.state,se.delay))break}while(se=pe.shift());if(this._active=!1,De){for(;se=pe.shift();)se.unsubscribe();throw De}}}},4986:(vt,Se,V)=>{"use strict";V.d(Se,{P:()=>ae,z:()=>B});var I=V(4408);const B=new(V(7565).v)(I.o),ae=B},6063:(vt,Se,V)=>{"use strict";V.d(Se,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>I});const I={setTimeout(u,B,...ae){const{delegate:se}=I;return se?.setTimeout?se.setTimeout(u,B,...ae):setTimeout(u,B,...ae)},clearTimeout(u){const{delegate:B}=I;return(B?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(vt,Se,V)=>{"use strict";V.d(Se,{h:()=>u});const u=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,V)=>{"use strict";V.d(Se,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Se,V)=>{"use strict";V.d(Se,{_6:()=>pe,jO:()=>ae,yG:()=>se});var I=V(576),u=V(3532);function B(De){return De[De.length-1]}function ae(De){return(0,I.m)(B(De))?De.pop():void 0}function se(De){return(0,u.K)(B(De))?De.pop():void 0}function pe(De,ye){return"number"==typeof B(De)?De.pop():ye}},8737:(vt,Se,V)=>{"use strict";function I(u,B){if(u){const ae=u.indexOf(B);0<=ae&&u.splice(ae,1)}}V.d(Se,{P:()=>I})},3888:(vt,Se,V)=>{"use strict";function I(u){const ae=u(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}V.d(Se,{d:()=>I})},2806:(vt,Se,V)=>{"use strict";V.d(Se,{O:()=>ae,x:()=>B});var I=V(2416);let u=null;function B(se){if(I.v.useDeprecatedSynchronousErrorHandling){const pe=!u;if(pe&&(u={errorThrown:!1,error:null}),se(),pe){const{errorThrown:De,error:ye}=u;if(u=null,De)throw ye}}else se()}function ae(se){I.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=se)}},9672:(vt,Se,V)=>{"use strict";function I(u,B,ae,se=0,pe=!1){const De=B.schedule(function(){ae(),pe?u.add(this.schedule(null,se)):this.unsubscribe()},se);if(u.add(De),!pe)return De}V.d(Se,{f:()=>I})},4671:(vt,Se,V)=>{"use strict";function I(u){return u}V.d(Se,{y:()=>I})},1144:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>I});const I=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(vt,Se,V)=>{"use strict";V.d(Se,{D:()=>u});var I=V(576);function u(B){return Symbol.asyncIterator&&(0,I.m)(B?.[Symbol.asyncIterator])}},576:(vt,Se,V)=>{"use strict";function I(u){return"function"==typeof u}V.d(Se,{m:()=>I})},3670:(vt,Se,V)=>{"use strict";V.d(Se,{c:()=>B});var I=V(8822),u=V(576);function B(ae){return(0,u.m)(ae[I.L])}},6495:(vt,Se,V)=>{"use strict";V.d(Se,{T:()=>B});var I=V(2202),u=V(576);function B(ae){return(0,u.m)(ae?.[I.h])}},8239:(vt,Se,V)=>{"use strict";V.d(Se,{t:()=>u});var I=V(576);function u(B){return(0,I.m)(B?.then)}},3260:(vt,Se,V)=>{"use strict";V.d(Se,{L:()=>ae,Q:()=>B});var I=V(655),u=V(576);function B(se){return(0,I.FC)(this,arguments,function*(){const De=se.getReader();try{for(;;){const{value:ye,done:ve}=yield(0,I.qq)(De.read());if(ve)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(ye)}}finally{De.releaseLock()}})}function ae(se){return(0,u.m)(se?.getReader)}},3532:(vt,Se,V)=>{"use strict";V.d(Se,{K:()=>u});var I=V(576);function u(B){return B&&(0,I.m)(B.schedule)}},4482:(vt,Se,V)=>{"use strict";V.d(Se,{A:()=>u,e:()=>B});var I=V(576);function u(ae){return(0,I.m)(ae?.lift)}function B(ae){return se=>{if(u(se))return se.lift(function(pe){try{return ae(pe,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Se,V)=>{"use strict";function I(){}V.d(Se,{Z:()=>I})},9635:(vt,Se,V)=>{"use strict";V.d(Se,{U:()=>B,z:()=>u});var I=V(4671);function u(...ae){return B(ae)}function B(ae){return 0===ae.length?I.y:1===ae.length?ae[0]:function(pe){return ae.reduce((De,ye)=>ye(De),pe)}}},7849:(vt,Se,V)=>{"use strict";V.d(Se,{h:()=>B});var I=V(2416),u=V(3410);function B(ae){u.z.setTimeout(()=>{const{onUnhandledError:se}=I.v;if(!se)throw ae;se(ae)})}},4532:(vt,Se,V)=>{"use strict";function I(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>I})},655:(vt,Se,V)=>{"use strict";function ae(X,ie){var ge={};for(var ce in X)Object.prototype.hasOwnProperty.call(X,ce)&&ie.indexOf(ce)<0&&(ge[ce]=X[ce]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ce=Object.getOwnPropertySymbols(X);Ve<ce.length;Ve++)ie.indexOf(ce[Ve])<0&&Object.prototype.propertyIsEnumerable.call(X,ce[Ve])&&(ge[ce[Ve]]=X[ce[Ve]])}return ge}function ye(X,ie,ge,ce){return new(ge||(ge=Promise))(function(Ge,It){function ln(En){try{ot(ce.next(En))}catch(Nn){It(Nn)}}function Xt(En){try{ot(ce.throw(En))}catch(Nn){It(Nn)}}function ot(En){En.done?Ge(En.value):function Ve(Ge){return Ge instanceof ge?Ge:new ge(function(It){It(Ge)})}(En.value).then(ln,Xt)}ot((ce=ce.apply(X,ie||[])).next())})}function me(X){return this instanceof me?(this.v=X,this):new me(X)}function fe(X,ie,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ce=ge.apply(X,ie||[]),Ge=[];return Ve={},It("next"),It("throw"),It("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function It(cn){ce[cn]&&(Ve[cn]=function(un){return new Promise(function(br,jt){Ge.push([cn,un,br,jt])>1||ln(cn,un)})})}function ln(cn,un){try{!function Xt(cn){cn.value instanceof me?Promise.resolve(cn.value.v).then(ot,En):Nn(Ge[0][2],cn)}(ce[cn](un))}catch(br){Nn(Ge[0][3],br)}}function ot(cn){ln("next",cn)}function En(cn){ln("throw",cn)}function Nn(cn,un){cn(un),Ge.shift(),Ge.length&&ln(Ge[0][0],Ge[0][1])}}function st(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ie=X[Symbol.asyncIterator];return ie?ie.call(X):(X=function J(X){var ie="function"==typeof Symbol&&Symbol.iterator,ge=ie&&X[ie],ce=0;if(ge)return ge.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ce>=X.length&&(X=void 0),{value:X&&X[ce++],done:!X}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ge={},ce("next"),ce("throw"),ce("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ce(Ge){ge[Ge]=X[Ge]&&function(It){return new Promise(function(ln,Xt){!function Ve(Ge,It,ln,Xt){Promise.resolve(Xt).then(function(ot){Ge({value:ot,done:ln})},It)}(ln,Xt,(It=X[Ge](It)).done,It.value)})}}}V.d(Se,{FC:()=>fe,KL:()=>st,_T:()=>ae,mG:()=>ye,qq:()=>me})},6895:(vt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{APP_BASE_HREF:()=>fe,AsyncPipe:()=>zl,CommonModule:()=>Zs,CurrencyPipe:()=>ts,DATE_PIPE_DEFAULT_TIMEZONE:()=>ju,DOCUMENT:()=>De,DatePipe:()=>za,DecimalPipe:()=>Cr,FormStyle:()=>X,FormatWidth:()=>ge,HashLocationStrategy:()=>st,I18nPluralPipe:()=>Oi,I18nSelectPipe:()=>Eo,IMAGE_LOADER:()=>Ro,JsonPipe:()=>yi,KeyValuePipe:()=>Bc,LOCATION_INITIALIZED:()=>G,Location:()=>Pe,LocationStrategy:()=>me,LowerCasePipe:()=>na,NgClass:()=>Bt,NgComponentOutlet:()=>Hl,NgFor:()=>Ri,NgForOf:()=>Ri,NgForOfContext:()=>mi,NgIf:()=>pr,NgIfContext:()=>_i,NgLocaleLocalization:()=>Hn,NgLocalization:()=>_s,NgOptimizedImage:()=>rs,NgPlural:()=>Fc,NgPluralCase:()=>ea,NgStyle:()=>Lc,NgSwitch:()=>Mt,NgSwitchCase:()=>ys,NgSwitchDefault:()=>qs,NgTemplateOutlet:()=>Wa,NumberFormatStyle:()=>q,NumberSymbol:()=>ce,PRECONNECT_CHECK_BLOCKLIST:()=>Ao,PathLocationStrategy:()=>Qe,PercentPipe:()=>ki,PlatformLocation:()=>ye,Plural:()=>Ne,SlicePipe:()=>ra,TitleCasePipe:()=>Vc,TranslationWidth:()=>ie,UpperCasePipe:()=>sr,VERSION:()=>Gn,ViewportScroller:()=>Os,WeekDay:()=>Ve,XhrFactory:()=>Ys,formatCurrency:()=>ri,formatDate:()=>Cn,formatNumber:()=>Vt,formatPercent:()=>zs,getCurrencySymbol:()=>gs,getLocaleCurrencyCode:()=>Hr,getLocaleCurrencyName:()=>Jr,getLocaleCurrencySymbol:()=>ps,getLocaleDateFormat:()=>cn,getLocaleDateTimeFormat:()=>br,getLocaleDayNames:()=>ln,getLocaleDayPeriods:()=>It,getLocaleDirection:()=>Ws,getLocaleEraNames:()=>ot,getLocaleExtraDayPeriodRules:()=>kr,getLocaleExtraDayPeriods:()=>ei,getLocaleFirstDayOfWeek:()=>En,getLocaleId:()=>Ge,getLocaleMonthNames:()=>Xt,getLocaleNumberFormat:()=>Tn,getLocaleNumberSymbol:()=>jt,getLocalePluralCase:()=>Rs,getLocaleTimeFormat:()=>un,getLocaleWeekEndRange:()=>Nn,getNumberOfCurrencyDigits:()=>ti,isPlatformBrowser:()=>ia,isPlatformServer:()=>Tr,isPlatformWorkerApp:()=>jc,isPlatformWorkerUi:()=>So,provideCloudflareLoader:()=>Fe,provideCloudinaryLoader:()=>Zn,provideImageKitLoader:()=>Pn,provideImgixLoader:()=>eo,registerLocaleData:()=>Ln,\u0275BrowserPlatformLocation:()=>z,\u0275DomAdapter:()=>pe,\u0275NullViewportScroller:()=>Qs,\u0275PLATFORM_BROWSER_ID:()=>Pi,\u0275PLATFORM_SERVER_ID:()=>Lr,\u0275PLATFORM_WORKER_APP_ID:()=>Gr,\u0275PLATFORM_WORKER_UI_ID:()=>Ks,\u0275getDOM:()=>B,\u0275parseCookieValue:()=>Ga,\u0275setRootDomAdapter:()=>se});var I=V(4650);let u=null;function B(){return u}function se(E){u||(u=E)}class pe{}const De=new I.InjectionToken("DocumentToken");let ye=(()=>{class E{historyGo(T){throw new Error("Not implemented")}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return function ve(){return(0,I.\u0275\u0275inject)(z)}()},providedIn:"platform"}),E})();const G=new I.InjectionToken("Location Initialized");let z=(()=>{class E extends ye{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",T,!1),()=>P.removeEventListener("popstate",T)}onHashChange(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",T,!1),()=>P.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,P,U){J()?this._history.pushState(T,P,U):this.location.hash=U}replaceState(T,P,U){J()?this._history.replaceState(T,P,U):this.location.hash=U}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(De))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return function $e(){return new z((0,I.\u0275\u0275inject)(De))}()},providedIn:"platform"}),E})();function J(){return!!window.history.pushState}function Ie(E,R){if(0==E.length)return R;if(0==R.length)return E;let T=0;return E.endsWith("/")&&T++,R.startsWith("/")&&T++,2==T?E+R.substring(1):1==T?E+R:E+"/"+R}function le(E){const R=E.match(/#|\?|$/),T=R&&R.index||E.length;return E.slice(0,T-("/"===E[T-1]?1:0))+E.slice(T)}function He(E){return E&&"?"!==E[0]?"?"+E:E}let me=(()=>{class E{historyGo(T){throw new Error("Not implemented")}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return(0,I.inject)(Qe)},providedIn:"root"}),E})();const fe=new I.InjectionToken("appBaseHref");let Qe=(()=>{class E extends me{constructor(T,P){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,I.inject)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Ie(this._baseHref,T)}path(T=!1){const P=this._platformLocation.pathname+He(this._platformLocation.search),U=this._platformLocation.hash;return U&&T?`${P}${U}`:P}pushState(T,P,U,he){const we=this.prepareExternalUrl(U+He(he));this._platformLocation.pushState(T,P,we)}replaceState(T,P,U,he){const we=this.prepareExternalUrl(U+He(he));this._platformLocation.replaceState(T,P,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(ye),I.\u0275\u0275inject(fe,8))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),st=(()=>{class E extends me{constructor(T,P){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(T){const P=Ie(this._baseHref,T);return P.length>0?"#"+P:P}pushState(T,P,U,he){let we=this.prepareExternalUrl(U+He(he));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(T,P,we)}replaceState(T,P,U,he){let we=this.prepareExternalUrl(U+He(he));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(T,P,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(ye),I.\u0275\u0275inject(fe,8))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac}),E})(),Pe=(()=>{class E{constructor(T){this._subject=new I.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const P=this._locationStrategy.getBaseHref();this._baseHref=le(Ke(P)),this._locationStrategy.onPopState(U=>{this._subject.emit({url:this.path(!0),pop:!0,state:U.state,type:U.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,P=""){return this.path()==this.normalize(T+He(P))}normalize(T){return E.stripTrailingSlash(function Oe(E,R){return E&&R.startsWith(E)?R.substring(E.length):R}(this._baseHref,Ke(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,P="",U=null){this._locationStrategy.pushState(U,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+He(P)),U)}replaceState(T,P="",U=null){this._locationStrategy.replaceState(U,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+He(P)),U)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",P){this._urlChangeListeners.forEach(U=>U(T,P))}subscribe(T,P,U){return this._subject.subscribe({next:T,error:P,complete:U})}}return E.normalizeQueryParams=He,E.joinWithSlash=Ie,E.stripTrailingSlash=le,E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(me))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return function Ae(){return new Pe((0,I.\u0275\u0275inject)(me))}()},providedIn:"root"}),E})();function Ke(E){return E.replace(/\/index.html$/,"")}const Ye={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q))(),Ne=(()=>((Ne=Ne||{})[Ne.Zero=0]="Zero",Ne[Ne.One=1]="One",Ne[Ne.Two=2]="Two",Ne[Ne.Few=3]="Few",Ne[Ne.Many=4]="Many",Ne[Ne.Other=5]="Other",Ne))(),X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))(),Ve=(()=>((Ve=Ve||{})[Ve.Sunday=0]="Sunday",Ve[Ve.Monday=1]="Monday",Ve[Ve.Tuesday=2]="Tuesday",Ve[Ve.Wednesday=3]="Wednesday",Ve[Ve.Thursday=4]="Thursday",Ve[Ve.Friday=5]="Friday",Ve[Ve.Saturday=6]="Saturday",Ve))();function Ge(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.LocaleId]}function It(E,R,T){const P=(0,I.\u0275findLocaleData)(E),he=at([P[I.\u0275LocaleDataIndex.DayPeriodsFormat],P[I.\u0275LocaleDataIndex.DayPeriodsStandalone]],R);return at(he,T)}function ln(E,R,T){const P=(0,I.\u0275findLocaleData)(E),he=at([P[I.\u0275LocaleDataIndex.DaysFormat],P[I.\u0275LocaleDataIndex.DaysStandalone]],R);return at(he,T)}function Xt(E,R,T){const P=(0,I.\u0275findLocaleData)(E),he=at([P[I.\u0275LocaleDataIndex.MonthsFormat],P[I.\u0275LocaleDataIndex.MonthsStandalone]],R);return at(he,T)}function ot(E,R){return at((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.Eras],R)}function En(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.FirstDayOfWeek]}function Nn(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.WeekendRange]}function cn(E,R){return at((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.DateFormat],R)}function un(E,R){return at((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.TimeFormat],R)}function br(E,R){return at((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.DateTimeFormat],R)}function jt(E,R){const T=(0,I.\u0275findLocaleData)(E),P=T[I.\u0275LocaleDataIndex.NumberSymbols][R];if(typeof P>"u"){if(R===ce.CurrencyDecimal)return T[I.\u0275LocaleDataIndex.NumberSymbols][ce.Decimal];if(R===ce.CurrencyGroup)return T[I.\u0275LocaleDataIndex.NumberSymbols][ce.Group]}return P}function Tn(E,R){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.NumberFormats][R]}function ps(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.CurrencySymbol]||null}function Jr(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.CurrencyName]||null}function Hr(E){return(0,I.\u0275getLocaleCurrencyCode)(E)}const Rs=I.\u0275getLocalePluralCase;function fi(E){if(!E[I.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${E[I.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kr(E){const R=(0,I.\u0275findLocaleData)(E);return fi(R),(R[I.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?Dr(P):[Dr(P[0]),Dr(P[1])])}function ei(E,R,T){const P=(0,I.\u0275findLocaleData)(E);fi(P);const he=at([P[I.\u0275LocaleDataIndex.ExtraData][0],P[I.\u0275LocaleDataIndex.ExtraData][1]],R)||[];return at(he,T)||[]}function Ws(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.Directionality]}function at(E,R){for(let T=R;T>-1;T--)if(typeof E[T]<"u")return E[T];throw new Error("Locale data API: locale data undefined")}function Dr(E){const[R,T]=E.split(":");return{hours:+R,minutes:+T}}function gs(E,R,T="en"){const P=function Xr(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.Currencies]}(T)[E]||Ye[E]||[],U=P[1];return"narrow"===R&&"string"==typeof U?U:P[0]||E}function ti(E){let R;const T=Ye[E];return T&&(R=T[2]),"number"==typeof R?R:2}const ms=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qn={},$n=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function Cn(E,R,T,P){let U=function tt(E){if(mn(E))return E;if("number"==typeof E&&!isNaN(E))return new Date(E);if("string"==typeof E){if(E=E.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(E)){const[U,he=1,we=1]=E.split("-").map(lt=>+lt);return hr(U,he-1,we)}const T=parseFloat(E);if(!isNaN(E-T))return new Date(T);let P;if(P=E.match(ms))return function Et(E){const R=new Date(0);let T=0,P=0;const U=E[8]?R.setUTCFullYear:R.setFullYear,he=E[8]?R.setUTCHours:R.setHours;E[9]&&(T=Number(E[9]+E[10]),P=Number(E[9]+E[11])),U.call(R,Number(E[1]),Number(E[2])-1,Number(E[3]));const we=Number(E[4]||0)-T,lt=Number(E[5]||0)-P,an=Number(E[6]||0),hn=Math.floor(1e3*parseFloat("0."+(E[7]||0)));return he.call(R,we,lt,an,hn),R}(P)}const R=new Date(E);if(!mn(R))throw new Error(`Unable to convert "${E}" into a date`);return R}(E);R=An(T,R)||R;let lt,we=[];for(;R;){if(lt=$n.exec(R),!lt){we.push(R);break}{we=we.concat(lt.slice(1));const gn=we.pop();if(!gn)break;R=gn}}let an=U.getTimezoneOffset();P&&(an=ee(P,an),U=function ne(E,R,T){const P=T?-1:1,U=E.getTimezoneOffset();return function Re(E,R){return(E=new Date(E.getTime())).setMinutes(E.getMinutes()+R),E}(E,P*(ee(R,U)-U))}(U,P,!0));let hn="";return we.forEach(gn=>{const nn=function W(E){if(Z[E])return Z[E];let R;switch(E){case"G":case"GG":case"GGG":R=bn(wt.Eras,ie.Abbreviated);break;case"GGGG":R=bn(wt.Eras,ie.Wide);break;case"GGGGG":R=bn(wt.Eras,ie.Narrow);break;case"y":R=fn(Ct.FullYear,1,0,!1,!0);break;case"yy":R=fn(Ct.FullYear,2,0,!0,!0);break;case"yyy":R=fn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":R=fn(Ct.FullYear,4,0,!1,!0);break;case"Y":R=Kt(1);break;case"YY":R=Kt(2,!0);break;case"YYY":R=Kt(3);break;case"YYYY":R=Kt(4);break;case"M":case"L":R=fn(Ct.Month,1,1);break;case"MM":case"LL":R=fn(Ct.Month,2,1);break;case"MMM":R=bn(wt.Months,ie.Abbreviated);break;case"MMMM":R=bn(wt.Months,ie.Wide);break;case"MMMMM":R=bn(wt.Months,ie.Narrow);break;case"LLL":R=bn(wt.Months,ie.Abbreviated,X.Standalone);break;case"LLLL":R=bn(wt.Months,ie.Wide,X.Standalone);break;case"LLLLL":R=bn(wt.Months,ie.Narrow,X.Standalone);break;case"w":R=xt(1);break;case"ww":R=xt(2);break;case"W":R=xt(1,!0);break;case"d":R=fn(Ct.Date,1);break;case"dd":R=fn(Ct.Date,2);break;case"c":case"cc":R=fn(Ct.Day,1);break;case"ccc":R=bn(wt.Days,ie.Abbreviated,X.Standalone);break;case"cccc":R=bn(wt.Days,ie.Wide,X.Standalone);break;case"ccccc":R=bn(wt.Days,ie.Narrow,X.Standalone);break;case"cccccc":R=bn(wt.Days,ie.Short,X.Standalone);break;case"E":case"EE":case"EEE":R=bn(wt.Days,ie.Abbreviated);break;case"EEEE":R=bn(wt.Days,ie.Wide);break;case"EEEEE":R=bn(wt.Days,ie.Narrow);break;case"EEEEEE":R=bn(wt.Days,ie.Short);break;case"a":case"aa":case"aaa":R=bn(wt.DayPeriods,ie.Abbreviated);break;case"aaaa":R=bn(wt.DayPeriods,ie.Wide);break;case"aaaaa":R=bn(wt.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":R=bn(wt.DayPeriods,ie.Abbreviated,X.Standalone,!0);break;case"bbbb":R=bn(wt.DayPeriods,ie.Wide,X.Standalone,!0);break;case"bbbbb":R=bn(wt.DayPeriods,ie.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":R=bn(wt.DayPeriods,ie.Abbreviated,X.Format,!0);break;case"BBBB":R=bn(wt.DayPeriods,ie.Wide,X.Format,!0);break;case"BBBBB":R=bn(wt.DayPeriods,ie.Narrow,X.Format,!0);break;case"h":R=fn(Ct.Hours,1,-12);break;case"hh":R=fn(Ct.Hours,2,-12);break;case"H":R=fn(Ct.Hours,1);break;case"HH":R=fn(Ct.Hours,2);break;case"m":R=fn(Ct.Minutes,1);break;case"mm":R=fn(Ct.Minutes,2);break;case"s":R=fn(Ct.Seconds,1);break;case"ss":R=fn(Ct.Seconds,2);break;case"S":R=fn(Ct.FractionalSeconds,1);break;case"SS":R=fn(Ct.FractionalSeconds,2);break;case"SSS":R=fn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":R=Pr(Wt.Short);break;case"ZZZZZ":R=Pr(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":R=Pr(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":R=Pr(Wt.Long);break;default:return null}return Z[E]=R,R}(gn);hn+=nn?nn(U,T,an):"''"===gn?"'":gn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hn}function hr(E,R,T){const P=new Date(0);return P.setFullYear(E,R,T),P.setHours(0,0,0),P}function An(E,R){const T=Ge(E);if(qn[T]=qn[T]||{},qn[T][R])return qn[T][R];let P="";switch(R){case"shortDate":P=cn(E,ge.Short);break;case"mediumDate":P=cn(E,ge.Medium);break;case"longDate":P=cn(E,ge.Long);break;case"fullDate":P=cn(E,ge.Full);break;case"shortTime":P=un(E,ge.Short);break;case"mediumTime":P=un(E,ge.Medium);break;case"longTime":P=un(E,ge.Long);break;case"fullTime":P=un(E,ge.Full);break;case"short":const U=An(E,"shortTime"),he=An(E,"shortDate");P=ni(br(E,ge.Short),[U,he]);break;case"medium":const we=An(E,"mediumTime"),lt=An(E,"mediumDate");P=ni(br(E,ge.Medium),[we,lt]);break;case"long":const an=An(E,"longTime"),hn=An(E,"longDate");P=ni(br(E,ge.Long),[an,hn]);break;case"full":const gn=An(E,"fullTime"),nn=An(E,"fullDate");P=ni(br(E,ge.Full),[gn,nn])}return P&&(qn[T][R]=P),P}function ni(E,R){return R&&(E=E.replace(/\{([^}]+)}/g,function(T,P){return null!=R&&P in R?R[P]:T})),E}function Lt(E,R,T="-",P,U){let he="";(E<0||U&&E<=0)&&(U?E=1-E:(E=-E,he=T));let we=String(E);for(;we.length<R;)we="0"+we;return P&&(we=we.slice(we.length-R)),he+we}function fn(E,R,T=0,P=!1,U=!1){return function(he,we){let lt=function Ji(E,R){switch(E){case Ct.FullYear:return R.getFullYear();case Ct.Month:return R.getMonth();case Ct.Date:return R.getDate();case Ct.Hours:return R.getHours();case Ct.Minutes:return R.getMinutes();case Ct.Seconds:return R.getSeconds();case Ct.FractionalSeconds:return R.getMilliseconds();case Ct.Day:return R.getDay();default:throw new Error(`Unknown DateType value "${E}".`)}}(E,he);if((T>0||lt>-T)&&(lt+=T),E===Ct.Hours)0===lt&&-12===T&&(lt=12);else if(E===Ct.FractionalSeconds)return function xi(E,R){return Lt(E,3).substring(0,R)}(lt,R);const an=jt(we,ce.MinusSign);return Lt(lt,R,an,P,U)}}function bn(E,R,T=X.Format,P=!1){return function(U,he){return function fr(E,R,T,P,U,he){switch(T){case wt.Months:return Xt(R,U,P)[E.getMonth()];case wt.Days:return ln(R,U,P)[E.getDay()];case wt.DayPeriods:const we=E.getHours(),lt=E.getMinutes();if(he){const hn=kr(R),gn=ei(R,U,P),nn=hn.findIndex(Kn=>{if(Array.isArray(Kn)){const[Dn,Fn]=Kn,is=we>=Dn.hours&&lt>=Dn.minutes,li=we<Fn.hours||we===Fn.hours&&lt<Fn.minutes;if(Dn.hours<Fn.hours){if(is&&li)return!0}else if(is||li)return!0}else if(Kn.hours===we&&Kn.minutes===lt)return!0;return!1});if(-1!==nn)return gn[nn]}return It(R,U,P)[we<12?0:1];case wt.Eras:return ot(R,P)[E.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(U,he,E,R,T,P)}}function Pr(E){return function(R,T,P){const U=-1*P,he=jt(T,ce.MinusSign),we=U>0?Math.floor(U/60):Math.ceil(U/60);switch(E){case Wt.Short:return(U>=0?"+":"")+Lt(we,2,he)+Lt(Math.abs(U%60),2,he);case Wt.ShortGMT:return"GMT"+(U>=0?"+":"")+Lt(we,1,he);case Wt.Long:return"GMT"+(U>=0?"+":"")+Lt(we,2,he)+":"+Lt(Math.abs(U%60),2,he);case Wt.Extended:return 0===P?"Z":(U>=0?"+":"")+Lt(we,2,he)+":"+Lt(Math.abs(U%60),2,he);default:throw new Error(`Unknown zone width "${E}"`)}}}function kt(E){return hr(E.getFullYear(),E.getMonth(),E.getDate()+(4-E.getDay()))}function xt(E,R=!1){return function(T,P){let U;if(R){const he=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,we=T.getDate();U=1+Math.floor((we+he)/7)}else{const he=kt(T),we=function _t(E){const R=hr(E,0,1).getDay();return hr(E,0,1+(R<=4?4:11)-R)}(he.getFullYear()),lt=he.getTime()-we.getTime();U=1+Math.round(lt/6048e5)}return Lt(U,E,jt(P,ce.MinusSign))}}function Kt(E,R=!1){return function(T,P){return Lt(kt(T).getFullYear(),E,jt(P,ce.MinusSign),R)}}const Z={};function ee(E,R){E=E.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+E)/6e4;return isNaN(T)?R:T}function mn(E){return E instanceof Date&&!isNaN(E.valueOf())}const Mn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qt(E,R,T,P,U,he,we=!1){let lt="",an=!1;if(isFinite(E)){let hn=function On(E){let P,U,he,we,lt,R=Math.abs(E)+"",T=0;for((U=R.indexOf("."))>-1&&(R=R.replace(".","")),(he=R.search(/e/i))>0?(U<0&&(U=he),U+=+R.slice(he+1),R=R.substring(0,he)):U<0&&(U=R.length),he=0;"0"===R.charAt(he);he++);if(he===(lt=R.length))P=[0],U=1;else{for(lt--;"0"===R.charAt(lt);)lt--;for(U-=he,P=[],we=0;he<=lt;he++,we++)P[we]=Number(R.charAt(he))}return U>22&&(P=P.splice(0,21),T=U-1,U=1),{digits:P,exponent:T,integerLen:U}}(E);we&&(hn=function ii(E){if(0===E.digits[0])return E;const R=E.digits.length-E.integerLen;return E.exponent?E.exponent+=2:(0===R?E.digits.push(0,0):1===R&&E.digits.push(0),E.integerLen+=2),E}(hn));let gn=R.minInt,nn=R.minFrac,Kn=R.maxFrac;if(he){const Ps=he.match(Mn);if(null===Ps)throw new Error(`${he} is not a valid digit info`);const ss=Ps[1],Li=Ps[3],Vi=Ps[5];null!=ss&&(gn=Xe(ss)),null!=Li&&(nn=Xe(Li)),null!=Vi?Kn=Xe(Vi):null!=Li&&nn>Kn&&(Kn=nn)}!function pi(E,R,T){if(R>T)throw new Error(`The minimum number of digits after fraction (${R}) is higher than the maximum (${T}).`);let P=E.digits,U=P.length-E.integerLen;const he=Math.min(Math.max(R,U),T);let we=he+E.integerLen,lt=P[we];if(we>0){P.splice(Math.max(E.integerLen,we));for(let nn=we;nn<P.length;nn++)P[nn]=0}else{U=Math.max(0,U),E.integerLen=1,P.length=Math.max(1,we=he+1),P[0]=0;for(let nn=1;nn<we;nn++)P[nn]=0}if(lt>=5)if(we-1<0){for(let nn=0;nn>we;nn--)P.unshift(0),E.integerLen++;P.unshift(1),E.integerLen++}else P[we-1]++;for(;U<Math.max(0,he);U++)P.push(0);let an=0!==he;const hn=R+E.integerLen,gn=P.reduceRight(function(nn,Kn,Dn,Fn){return Fn[Dn]=(Kn+=nn)<10?Kn:Kn-10,an&&(0===Fn[Dn]&&Dn>=hn?Fn.pop():an=!1),Kn>=10?1:0},0);gn&&(P.unshift(gn),E.integerLen++)}(hn,nn,Kn);let Dn=hn.digits,Fn=hn.integerLen;const is=hn.exponent;let li=[];for(an=Dn.every(Ps=>!Ps);Fn<gn;Fn++)Dn.unshift(0);for(;Fn<0;Fn++)Dn.unshift(0);Fn>0?li=Dn.splice(Fn,Dn.length):(li=Dn,Dn=[0]);const Wr=[];for(Dn.length>=R.lgSize&&Wr.unshift(Dn.splice(-R.lgSize,Dn.length).join(""));Dn.length>R.gSize;)Wr.unshift(Dn.splice(-R.gSize,Dn.length).join(""));Dn.length&&Wr.unshift(Dn.join("")),lt=Wr.join(jt(T,P)),li.length&&(lt+=jt(T,U)+li.join("")),is&&(lt+=jt(T,ce.Exponential)+"+"+is)}else lt=jt(T,ce.Infinity);return lt=E<0&&!an?R.negPre+lt+R.negSuf:R.posPre+lt+R.posSuf,lt}function ri(E,R,T,P,U){const we=Qt(Tn(R,q.Currency),jt(R,ce.MinusSign));return we.minFrac=ti(P),we.maxFrac=we.minFrac,qt(E,we,R,ce.CurrencyGroup,ce.CurrencyDecimal,U).replace("\xa4",T).replace("\xa4","").trim()}function zs(E,R,T){return qt(E,Qt(Tn(R,q.Percent),jt(R,ce.MinusSign)),R,ce.Group,ce.Decimal,T,!0).replace(new RegExp("%","g"),jt(R,ce.PercentSign))}function Vt(E,R,T){return qt(E,Qt(Tn(R,q.Decimal),jt(R,ce.MinusSign)),R,ce.Group,ce.Decimal,T)}function Qt(E,R="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=E.split(";"),U=P[0],he=P[1],we=-1!==U.indexOf(".")?U.split("."):[U.substring(0,U.lastIndexOf("0")+1),U.substring(U.lastIndexOf("0")+1)],lt=we[0],an=we[1]||"";T.posPre=lt.substring(0,lt.indexOf("#"));for(let gn=0;gn<an.length;gn++){const nn=an.charAt(gn);"0"===nn?T.minFrac=T.maxFrac=gn+1:"#"===nn?T.maxFrac=gn+1:T.posSuf+=nn}const hn=lt.split(",");if(T.gSize=hn[1]?hn[1].length:0,T.lgSize=hn[2]||hn[1]?(hn[2]||hn[1]).length:0,he){const gn=U.length-T.posPre.length-T.posSuf.length,nn=he.indexOf("#");T.negPre=he.substring(0,nn).replace(/'/g,""),T.negSuf=he.slice(nn+gn).replace(/'/g,"")}else T.negPre=R+T.posPre,T.negSuf=T.posSuf;return T}function Xe(E){const R=parseInt(E);if(isNaN(R))throw new Error("Invalid integer literal when parsing "+E);return R}let _s=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(T){let P=null;return T?P=new T:(U=I.\u0275\u0275inject(I.LOCALE_ID),P=new Hn(U)),P;var U},providedIn:"root"}),E})();function gi(E,R,T,P){let U=`=${E}`;if(R.indexOf(U)>-1||(U=T.getPluralCategory(E,P),R.indexOf(U)>-1))return U;if(R.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${E}"`)}let Hn=(()=>{class E extends _s{constructor(T){super(),this.locale=T}getPluralCategory(T,P){switch(Rs(P||this.locale)(T)){case Ne.Zero:return"zero";case Ne.One:return"one";case Ne.Two:return"two";case Ne.Few:return"few";case Ne.Many:return"many";default:return"other"}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(I.LOCALE_ID))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac}),E})();function Ln(E,R,T){return(0,I.\u0275registerLocaleData)(E,R,T)}function Ga(E,R){R=encodeURIComponent(R);for(const T of E.split(";")){const P=T.indexOf("="),[U,he]=-1==P?[T,""]:[T.slice(0,P),T.slice(P+1)];if(U.trim()===R)return decodeURIComponent(he)}return null}let Bt=(()=>{class E{constructor(T,P,U,he){this._iterableDiffers=T,this._keyValueDiffers=P,this._ngEl=U,this._renderer=he,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,I.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,I.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),T.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!0)):Object.keys(T).forEach(P=>this._toggleClass(P,!!T[P])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!1)):Object.keys(T).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(T,P){(T=T.trim())&&T.split(/\s+/g).forEach(U=>{P?this._renderer.addClass(this._ngEl.nativeElement,U):this._renderer.removeClass(this._ngEl.nativeElement,U)})}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.IterableDiffers),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.Renderer2))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),E})(),Hl=(()=>{class E{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:P,ngComponentOutletNgModule:U,ngComponentOutletNgModuleFactory:he}=this;if(P.clear(),this._componentRef=void 0,this.ngComponentOutlet){const we=this.ngComponentOutletInjector||P.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=U?(0,I.createNgModule)(U,Gl(we)):he?he.create(Gl(we)):void 0),this._componentRef=P.createComponent(this.ngComponentOutlet,{index:P.length,injector:we,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),E})();function Gl(E){return E.get(I.NgModuleRef).injector}class mi{constructor(R,T,P,U){this.$implicit=R,this.ngForOf=T,this.index=P,this.count=U}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ri=(()=>{class E{constructor(T,P,U){this._viewContainer=T,this._template=P,this._differs=U,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const P=this._viewContainer;T.forEachOperation((U,he,we)=>{if(null==U.previousIndex)P.createEmbeddedView(this._template,new mi(U.item,this._ngForOf,-1,-1),null===we?void 0:we);else if(null==we)P.remove(null===he?void 0:he);else if(null!==he){const lt=P.get(he);P.move(lt,we),Fr(lt,U)}});for(let U=0,he=P.length;U<he;U++){const lt=P.get(U).context;lt.index=U,lt.count=he,lt.ngForOf=this._ngForOf}T.forEachIdentityChange(U=>{Fr(P.get(U.currentIndex),U)})}static ngTemplateContextGuard(T,P){return!0}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.IterableDiffers))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),E})();function Fr(E,R){E.context.$implicit=R.item}let pr=(()=>{class E{constructor(T,P){this._viewContainer=T,this._context=new _i,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){nt("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){nt("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,P){return!0}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),E})();class _i{constructor(){this.$implicit=null,this.ngIf=null}}function nt(E,R){if(R&&!R.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,I.\u0275stringify)(R)}'.`)}class wr{constructor(R,T){this._viewContainerRef=R,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(R){R&&!this._created?this.create():!R&&this._created&&this.destroy()}}let Mt=(()=>{class E{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const P=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(T)}}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),E})(),ys=(()=>{class E{constructor(T,P,U){this.ngSwitch=U,U._addCase(),this._view=new wr(T,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Mt,9))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),E})(),qs=(()=>{class E{constructor(T,P,U){U._addDefault(new wr(T,P))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Mt,9))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngSwitchDefault",""]],standalone:!0}),E})(),Fc=(()=>{class E{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,P){this._caseViews[T]=P}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),P=gi(this._switchValue,T,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(_s))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),E})(),ea=(()=>{class E{constructor(T,P,U,he){this.value=T;const we=!isNaN(Number(T));he.addCase(we?`=${T}`:T,new wr(U,P))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275injectAttribute("ngPluralCase"),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(Fc,1))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngPluralCase",""]],standalone:!0}),E})(),Lc=(()=>{class E{constructor(T,P,U){this._ngEl=T,this._differs=P,this._renderer=U,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,P){const[U,he]=T.split("."),we=-1===U.indexOf("-")?void 0:I.RendererStyleFlags2.DashCase;null!=P?this._renderer.setStyle(this._ngEl.nativeElement,U,he?`${P}${he}`:P,we):this._renderer.removeStyle(this._ngEl.nativeElement,U,we)}_applyChanges(T){T.forEachRemovedItem(P=>this._setStyle(P.key,null)),T.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),T.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.Renderer2))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),E})(),Wa=(()=>{class E{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:U,ngTemplateOutletContext:he,ngTemplateOutletInjector:we}=this;this._viewRef=P.createEmbeddedView(U,he,we?{injector:we}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),E})();function dn(E,R){return new I.\u0275RuntimeError(2100,!1)}class ta{createSubscription(R,T){return R.subscribe({next:T,error:P=>{throw P}})}dispose(R){R.unsubscribe()}}class Ir{createSubscription(R,T){return R.then(T,P=>{throw P})}dispose(R){}}const Er=new Ir,Zd=new ta;let zl=(()=>{class E{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,P=>this._updateLatestValue(T,P))}_selectStrategy(T){if((0,I.\u0275isPromise)(T))return Er;if((0,I.\u0275isSubscribable)(T))return Zd;throw dn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,P){T===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ChangeDetectorRef,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"async",type:E,pure:!1,standalone:!0}),E})(),na=(()=>{class E{transform(T){if(null==T)return null;if("string"!=typeof T)throw dn();return T.toLowerCase()}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"lowercase",type:E,pure:!0,standalone:!0}),E})();const Xi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Vc=(()=>{class E{transform(T){if(null==T)return null;if("string"!=typeof T)throw dn();return T.replace(Xi,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"titlecase",type:E,pure:!0,standalone:!0}),E})(),sr=(()=>{class E{transform(T){if(null==T)return null;if("string"!=typeof T)throw dn();return T.toUpperCase()}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"uppercase",type:E,pure:!0,standalone:!0}),E})();const ju=new I.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let za=(()=>{class E{constructor(T,P){this.locale=T,this.defaultTimezone=P}transform(T,P="mediumDate",U,he){if(null==T||""===T||T!=T)return null;try{return Cn(T,P,he||this.locale,U??this.defaultTimezone??void 0)}catch(we){throw dn()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(ju,24))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"date",type:E,pure:!0,standalone:!0}),E})();const ql=/#/g;let Oi=(()=>{class E{constructor(T){this._localization=T}transform(T,P,U){if(null==T)return"";if("object"!=typeof P||null===P)throw dn();return P[gi(T,Object.keys(P),this._localization,U)].replace(ql,T.toString())}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(_s,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nPlural",type:E,pure:!0,standalone:!0}),E})(),Eo=(()=>{class E{transform(T,P){if(null==T)return"";if("object"!=typeof P||"string"!=typeof T)throw dn();return P.hasOwnProperty(T)?P[T]:P.hasOwnProperty("other")?P.other:""}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nSelect",type:E,pure:!0,standalone:!0}),E})(),yi=(()=>{class E{transform(T){return JSON.stringify(T,null,2)}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"json",type:E,pure:!1,standalone:!0}),E})(),Bc=(()=>{class E{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=es}transform(T,P=es){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const U=this.differ.diff(T),he=P!==this.compareFn;return U&&(this.keyValues=[],U.forEachItem(we=>{this.keyValues.push(function Co(E,R){return{key:E,value:R}}(we.key,we.currentValue))})),(U||he)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.KeyValueDiffers,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"keyvalue",type:E,pure:!1,standalone:!0}),E})();function es(E,R){const T=E.key,P=R.key;if(T===P)return 0;if(void 0===T)return 1;if(void 0===P)return-1;if(null===T)return 1;if(null===P)return-1;if("string"==typeof T&&"string"==typeof P)return T<P?-1:1;if("number"==typeof T&&"number"==typeof P)return T-P;if("boolean"==typeof T&&"boolean"==typeof P)return T<P?-1:1;const U=String(T),he=String(P);return U==he?0:U<he?-1:1}let Cr=(()=>{class E{constructor(T){this._locale=T}transform(T,P,U){if(!To(T))return null;U=U||this._locale;try{return Vt(qa(T),U,P)}catch(he){throw dn()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"number",type:E,pure:!0,standalone:!0}),E})(),ki=(()=>{class E{constructor(T){this._locale=T}transform(T,P,U){if(!To(T))return null;U=U||this._locale;try{return zs(qa(T),U,P)}catch(he){throw dn()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"percent",type:E,pure:!0,standalone:!0}),E})(),ts=(()=>{class E{constructor(T,P="USD"){this._locale=T,this._defaultCurrencyCode=P}transform(T,P=this._defaultCurrencyCode,U="symbol",he,we){if(!To(T))return null;we=we||this._locale,"boolean"==typeof U&&(U=U?"symbol":"code");let lt=P||this._defaultCurrencyCode;"code"!==U&&(lt="symbol"===U||"symbol-narrow"===U?gs(lt,"symbol"===U?"wide":"narrow",we):U);try{return ri(qa(T),we,lt,P,he)}catch(an){throw dn()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(I.DEFAULT_CURRENCY_CODE,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"currency",type:E,pure:!0,standalone:!0}),E})();function To(E){return!(null==E||""===E||E!=E)}function qa(E){if("string"==typeof E&&!isNaN(Number(E)-parseFloat(E)))return Number(E);if("number"!=typeof E)throw new Error(`${E} is not a number`);return E}let ra=(()=>{class E{transform(T,P,U){if(null==T)return null;if(!this.supports(T))throw dn();return T.slice(P,U)}supports(T){return"string"==typeof T||Array.isArray(T)}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"slice",type:E,pure:!1,standalone:!0}),E})(),Zs=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275mod=I.\u0275\u0275defineNgModule({type:E}),E.\u0275inj=I.\u0275\u0275defineInjector({}),E})();const Pi="browser",Lr="server",Gr="browserWorkerApp",Ks="browserWorkerUi";function ia(E){return E===Pi}function Tr(E){return E===Lr}function jc(E){return E===Gr}function So(E){return E===Ks}const Gn=new I.Version("14.2.8");let Os=(()=>{class E{}return E.\u0275prov=(0,I.\u0275\u0275defineInjectable)({token:E,providedIn:"root",factory:()=>new Uu((0,I.\u0275\u0275inject)(De),window)}),E})();class Uu{constructor(R,T){this.document=R,this.window=T,this.offset=()=>[0,0]}setOffset(R){this.offset=Array.isArray(R)?()=>R:R}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(R){this.supportsScrolling()&&this.window.scrollTo(R[0],R[1])}scrollToAnchor(R){if(!this.supportsScrolling())return;const T=function gr(E,R){const T=E.getElementById(R)||E.getElementsByName(R)[0];if(T)return T;if("function"==typeof E.createTreeWalker&&E.body&&(E.body.createShadowRoot||E.body.attachShadow)){const P=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let U=P.currentNode;for(;U;){const he=U.shadowRoot;if(he){const we=he.getElementById(R)||he.querySelector(`[name="${R}"]`);if(we)return we}U=P.nextNode()}}return null}(this.document,R);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(R){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=R)}}scrollToElement(R){const T=R.getBoundingClientRect(),P=T.left+this.window.pageXOffset,U=T.top+this.window.pageYOffset,he=this.offset();this.window.scrollTo(P-he[0],U-he[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const R=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!R||!R.writable&&!R.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vi(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class Qs{setOffset(R){}getScrollPosition(){return[0,0]}scrollToPosition(R){}scrollToAnchor(R){}setHistoryScrollRestoration(R){}}class Ys{}function Vn(E){return E.startsWith("/")?E.slice(1):E}const Ao=new I.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),xo=E=>E.src,Ro=new I.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>xo});function bs(E,R){return function(P,U={ensurePreconnect:!0}){return function si(E){if("string"!=typeof E||""===E.trim())return!1;try{return new URL(E),!0}catch{return!1}}(P)||function Oo(E,R){throw new I.\u0275RuntimeError(2959,!1)}(),P=function No(E){return E.endsWith("/")?E.slice(0,-1):E}(P),[{provide:Ro,useValue:lt=>(function vs(E){return/^https?:\/\//.test(E)}(lt.src)&&function ks(E,R){throw new I.\u0275RuntimeError(2959,!1)}(),E(P,{...lt,src:Vn(lt.src)}))}]}}const Fe=bs(St);function St(E,R){let T="format=auto";return R.width&&(T+=`,width=${R.width}`),`${E}/cdn-cgi/image/${T}/${R.src}`}const Zn=bs(Xs);function Xs(E,R){let T="f_auto,q_auto";return R.width&&(T+=`,w_${R.width}`),`${E}/image/upload/${T}/${R.src}`}const Pn=bs(Ka);function Ka(E,R){let T="tr:q-auto";return R.width&&(T+=`,w-${R.width}`),`${E}/${T}/${R.src}`}const eo=bs(oi);function oi(E,R){const T=new URL(`${E}/${R.src}`);return T.searchParams.set("auto","format"),R.width&&T.searchParams.set("w",R.width.toString()),T.href}const Po=/^((\s*\d+w\s*(,|$)){1,})$/;let rs=(()=>{class E{constructor(){this.imageLoader=(0,I.inject)(Ro),this.renderer=(0,I.inject)(I.Renderer2),this.imgElement=(0,I.inject)(I.ElementRef).nativeElement,this.injector=(0,I.inject)(I.Injector),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1}set rawSrc(T){}set width(T){this._width=ai(T)}get width(){return this._width}set height(T){this._height=ai(T)}get height(){return this._height}set priority(T){this._priority=function Hc(E){return null!=E&&"false"!=`${E}`}(T)}get priority(){return this._priority}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString()),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("src",this.getRewrittenSrc()),this.ngSrcset&&this.setHostAttribute("srcset",this.getRewrittenSrcset())}ngOnChanges(T){}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.imageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const T=Po.test(this.ngSrcset);return this.ngSrcset.split(",").filter(U=>""!==U).map(U=>{U=U.trim();const he=T?parseFloat(U):parseFloat(U)*this.width;return`${this.imageLoader({src:this.ngSrc,width:he})} ${U}`}).join(", ")}ngOnDestroy(){}setHostAttribute(T,P){this.renderer.setAttribute(this.imgElement,T,P)}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["img","ngSrc",""],["img","rawSrc",""]],inputs:{rawSrc:"rawSrc",ngSrc:"ngSrc",ngSrcset:"ngSrcset",width:"width",height:"height",loading:"loading",priority:"priority",src:"src",srcset:"srcset"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),E})();function ai(E){return"string"==typeof E?parseInt(E,10):E}},4650:(vt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>rc,ANIMATION_MODULE_TYPE:()=>F1,APP_BOOTSTRAP_LISTENER:()=>II,APP_ID:()=>wI,APP_INITIALIZER:()=>h0,ApplicationInitStatus:()=>d_,ApplicationModule:()=>j0,ApplicationRef:()=>Ru,Attribute:()=>so,COMPILER_OPTIONS:()=>ja,CUSTOM_ELEMENTS_SCHEMA:()=>Nt,ChangeDetectionStrategy:()=>$n,ChangeDetectorRef:()=>z1,Compiler:()=>jd,CompilerFactory:()=>B1,Component:()=>yI,ComponentFactory:()=>iu,ComponentFactoryResolver:()=>ou,ComponentRef:()=>xf,ContentChild:()=>Jd,ContentChildren:()=>er,DEFAULT_CURRENCY_CODE:()=>V1,DebugElement:()=>Ou,DebugEventListener:()=>Q1,DebugNode:()=>$d,DefaultIterableDiffer:()=>Jp,Directive:()=>Wp,ENVIRONMENT_INITIALIZER:()=>ah,ElementRef:()=>f,EmbeddedViewRef:()=>K1,EnvironmentInjector:()=>Gi,ErrorHandler:()=>au,EventEmitter:()=>kl,Host:()=>Gt,HostBinding:()=>vI,HostListener:()=>bI,INJECTOR:()=>lh,Inject:()=>je,InjectFlags:()=>at,Injectable:()=>nC,InjectionToken:()=>kn,Injector:()=>cu,Input:()=>d0,IterableDiffers:()=>E_,KeyValueDiffers:()=>V0,LOCALE_ID:()=>h_,MissingTranslationStrategy:()=>Fl,ModuleWithComponentFactories:()=>_0,NO_ERRORS_SCHEMA:()=>vr,NgModule:()=>DI,NgModuleFactory:()=>Ba,NgModuleRef:()=>Hs,NgProbeToken:()=>A0,NgZone:()=>Jn,Optional:()=>re,Output:()=>R1,PACKAGE_ROOT_URL:()=>P1,PLATFORM_ID:()=>k1,PLATFORM_INITIALIZER:()=>Pl,Pipe:()=>x1,PlatformRef:()=>Bl,Query:()=>al,QueryList:()=>Bp,ReflectiveInjector:()=>go,ReflectiveKey:()=>po,Renderer2:()=>L,RendererFactory2:()=>x,RendererStyleFlags2:()=>Tl,ResolvedReflectiveFactory:()=>by,Sanitizer:()=>Ee,SecurityContext:()=>lr,Self:()=>it,SimpleChange:()=>Cr,SkipSelf:()=>Tt,TRANSLATIONS:()=>m0,TRANSLATIONS_FORMAT:()=>CI,TemplateRef:()=>Vd,Testability:()=>MI,TestabilityRegistry:()=>zp,Type:()=>ma,VERSION:()=>gt,Version:()=>qe,ViewChild:()=>Ig,ViewChildren:()=>zu,ViewContainerRef:()=>i_,ViewEncapsulation:()=>wt,ViewRef:()=>F0,asNativeElements:()=>L0,assertPlatform:()=>O0,createComponent:()=>JS,createEnvironmentInjector:()=>Mw,createNgModule:()=>Vv,createNgModuleRef:()=>Bv,createPlatform:()=>M0,createPlatformFactory:()=>qp,defineInjectable:()=>br,destroyPlatform:()=>OI,enableProdMode:()=>$S,forwardRef:()=>z,getDebugNode:()=>Pu,getModuleFactory:()=>HS,getNgModuleById:()=>GS,getPlatform:()=>Mi,importProvidersFrom:()=>ch,inject:()=>S,isDevMode:()=>US,platformCore:()=>jI,reflectComponentType:()=>XS,resolveForwardRef:()=>J,setTestabilityGetter:()=>C0,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>g_,\u0275APP_ID_RANDOM_PROVIDER:()=>p0,\u0275ChangeDetectorStatus:()=>Wt,\u0275ComponentFactory:()=>iu,\u0275Console:()=>EI,\u0275DEFAULT_LOCALE_ID:()=>Md,\u0275INJECTOR_SCOPE:()=>od,\u0275LContext:()=>Ur,\u0275LifecycleHooksFeature:()=>RD,\u0275LocaleDataIndex:()=>Ft,\u0275NG_COMP_DEF:()=>xi,\u0275NG_DIR_DEF:()=>fn,\u0275NG_ELEMENT_ID:()=>Pr,\u0275NG_INJ_DEF:()=>kr,\u0275NG_MOD_DEF:()=>bn,\u0275NG_PIPE_DEF:()=>Ji,\u0275NG_PROV_DEF:()=>fi,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>At,\u0275NO_CHANGE:()=>Jt,\u0275NgModuleFactory:()=>Ld,\u0275NoopNgZone:()=>w0,\u0275ReflectionCapabilities:()=>Xd,\u0275Render3ComponentFactory:()=>Vh,\u0275Render3ComponentRef:()=>gm,\u0275Render3NgModuleRef:()=>Jm,\u0275RuntimeError:()=>le,\u0275TESTABILITY:()=>I0,\u0275TESTABILITY_GETTER:()=>E0,\u0275ViewRef:()=>_o,\u0275_sanitizeHtml:()=>uo,\u0275_sanitizeUrl:()=>Xu,\u0275allowSanitizationBypassAndThrow:()=>Ta,\u0275bypassSanitizationTrustHtml:()=>Ag,\u0275bypassSanitizationTrustResourceUrl:()=>cc,\u0275bypassSanitizationTrustScript:()=>Dl,\u0275bypassSanitizationTrustStyle:()=>Ju,\u0275bypassSanitizationTrustUrl:()=>W_,\u0275clearResolutionOfComponentResourcesQueue:()=>Yu,\u0275coerceToBoolean:()=>tT,\u0275compileComponent:()=>S1,\u0275compileDirective:()=>cI,\u0275compileNgModule:()=>C1,\u0275compileNgModuleDefs:()=>l_,\u0275compileNgModuleFactory:()=>S0,\u0275compilePipe:()=>_I,\u0275createInjector:()=>Zg,\u0275defaultIterableDiffers:()=>B0,\u0275defaultKeyValueDiffers:()=>eT,\u0275detectChanges:()=>VD,\u0275devModeEqual:()=>vm,\u0275findLocaleData:()=>zh,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>sI,\u0275formatRuntimeError:()=>He,\u0275getDebugNode:()=>Pu,\u0275getDebugNodeR2:()=>zS,\u0275getDirectives:()=>u1,\u0275getHostElement:()=>kw,\u0275getInjectableDef:()=>Tn,\u0275getLContext:()=>$t,\u0275getLocaleCurrencyCode:()=>sw,\u0275getLocalePluralCase:()=>qh,\u0275getSanitizationBypassType:()=>Ts,\u0275getUnknownElementStrictMode:()=>cd,\u0275getUnknownPropertyStrictMode:()=>Of,\u0275global:()=>Cn,\u0275injectChangeDetectorRef:()=>q1,\u0275internalCreateApplication:()=>R0,\u0275isBoundToModule:()=>N0,\u0275isDefaultChangeDetectionStrategy:()=>Ct,\u0275isInjectable:()=>ps,\u0275isListLikeIterable:()=>Sd,\u0275isObservable:()=>UD,\u0275isPromise:()=>pp,\u0275isStandalone:()=>mn,\u0275isSubscribable:()=>Cm,\u0275ivyEnabled:()=>QS,\u0275makeDecorator:()=>Fs,\u0275noSideEffects:()=>qn,\u0275patchComponentDefWithScope:()=>aI,\u0275publishDefaultGlobalUtils:()=>j1,\u0275publishGlobalUtil:()=>Ai,\u0275registerLocaleData:()=>VC,\u0275resetCompiledComponents:()=>r0,\u0275resetJitOptions:()=>w1,\u0275resolveComponentResources:()=>Le,\u0275setAllowDuplicateNgModuleIdsForTest:()=>Pt,\u0275setClassMetadata:()=>Fp,\u0275setCurrentInjector:()=>lo,\u0275setDocument:()=>wn,\u0275setLocaleId:()=>Sv,\u0275setUnknownElementStrictMode:()=>ld,\u0275setUnknownPropertyStrictMode:()=>Rg,\u0275store:()=>Dm,\u0275stringify:()=>ye,\u0275transitiveScopesFor:()=>Bd,\u0275unregisterLocaleData:()=>BC,\u0275unwrapSafeValue:()=>de,\u0275\u0275CopyDefinitionFeature:()=>LD,\u0275\u0275FactoryTarget:()=>Nr,\u0275\u0275InheritDefinitionFeature:()=>sp,\u0275\u0275NgOnChangesFeature:()=>ki,\u0275\u0275ProvidersFeature:()=>Aw,\u0275\u0275StandaloneFeature:()=>Xm,\u0275\u0275advance:()=>zg,\u0275\u0275attribute:()=>ap,\u0275\u0275attributeInterpolate1:()=>bm,\u0275\u0275attributeInterpolate2:()=>lp,\u0275\u0275attributeInterpolate3:()=>zy,\u0275\u0275attributeInterpolate4:()=>cp,\u0275\u0275attributeInterpolate5:()=>Fa,\u0275\u0275attributeInterpolate6:()=>up,\u0275\u0275attributeInterpolate7:()=>qy,\u0275\u0275attributeInterpolate8:()=>dp,\u0275\u0275attributeInterpolateV:()=>Zy,\u0275\u0275classMap:()=>cv,\u0275\u0275classMapInterpolate1:()=>bv,\u0275\u0275classMapInterpolate2:()=>Va,\u0275\u0275classMapInterpolate3:()=>xl,\u0275\u0275classMapInterpolate4:()=>LC,\u0275\u0275classMapInterpolate5:()=>Eu,\u0275\u0275classMapInterpolate6:()=>vp,\u0275\u0275classMapInterpolate7:()=>ew,\u0275\u0275classMapInterpolate8:()=>tw,\u0275\u0275classMapInterpolateV:()=>Dv,\u0275\u0275classProp:()=>Gh,\u0275\u0275contentQuery:()=>Xw,\u0275\u0275defineComponent:()=>Be,\u0275\u0275defineDirective:()=>ee,\u0275\u0275defineInjectable:()=>un,\u0275\u0275defineInjector:()=>jt,\u0275\u0275defineNgModule:()=>Kt,\u0275\u0275definePipe:()=>Re,\u0275\u0275directiveInject:()=>Sh,\u0275\u0275disableBindings:()=>ks,\u0275\u0275element:()=>wm,\u0275\u0275elementContainer:()=>Jy,\u0275\u0275elementContainerEnd:()=>Hh,\u0275\u0275elementContainerStart:()=>Im,\u0275\u0275elementEnd:()=>$h,\u0275\u0275elementStart:()=>fp,\u0275\u0275enableBindings:()=>Oo,\u0275\u0275getCurrentView:()=>Em,\u0275\u0275getInheritedFactory:()=>Wu,\u0275\u0275hostProperty:()=>Cp,\u0275\u0275i18n:()=>Cw,\u0275\u0275i18nApply:()=>$r,\u0275\u0275i18nAttributes:()=>Pp,\u0275\u0275i18nEnd:()=>cr,\u0275\u0275i18nExp:()=>Jo,\u0275\u0275i18nPostprocess:()=>Tw,\u0275\u0275i18nStart:()=>Fv,\u0275\u0275inject:()=>or,\u0275\u0275injectAttribute:()=>Zc,\u0275\u0275invalidFactory:()=>oD,\u0275\u0275invalidFactoryDep:()=>oc,\u0275\u0275listener:()=>Tm,\u0275\u0275loadQuery:()=>eI,\u0275\u0275namespaceHTML:()=>hn,\u0275\u0275namespaceMathML:()=>an,\u0275\u0275namespaceSVG:()=>lt,\u0275\u0275nextContext:()=>ev,\u0275\u0275ngDeclareClassMetadata:()=>eg,\u0275\u0275ngDeclareComponent:()=>Hd,\u0275\u0275ngDeclareDirective:()=>nT,\u0275\u0275ngDeclareFactory:()=>UI,\u0275\u0275ngDeclareInjectable:()=>HI,\u0275\u0275ngDeclareInjector:()=>YS,\u0275\u0275ngDeclareNgModule:()=>rT,\u0275\u0275ngDeclarePipe:()=>GI,\u0275\u0275pipe:()=>Hw,\u0275\u0275pipeBind1:()=>Gw,\u0275\u0275pipeBind2:()=>Ww,\u0275\u0275pipeBind3:()=>Jh,\u0275\u0275pipeBind4:()=>$v,\u0275\u0275pipeBindV:()=>Vp,\u0275\u0275projection:()=>yn,\u0275\u0275projectionDef:()=>gp,\u0275\u0275property:()=>hp,\u0275\u0275propertyInterpolate:()=>Mm,\u0275\u0275propertyInterpolate1:()=>mp,\u0275\u0275propertyInterpolate2:()=>xm,\u0275\u0275propertyInterpolate3:()=>Ad,\u0275\u0275propertyInterpolate4:()=>Rm,\u0275\u0275propertyInterpolate5:()=>Yn,\u0275\u0275propertyInterpolate6:()=>Ni,\u0275\u0275propertyInterpolate7:()=>Yo,\u0275\u0275propertyInterpolate8:()=>Om,\u0275\u0275propertyInterpolateV:()=>tv,\u0275\u0275pureFunction0:()=>e_,\u0275\u0275pureFunction1:()=>Fw,\u0275\u0275pureFunction2:()=>Lw,\u0275\u0275pureFunction3:()=>Vw,\u0275\u0275pureFunction4:()=>jv,\u0275\u0275pureFunction5:()=>Bw,\u0275\u0275pureFunction6:()=>jw,\u0275\u0275pureFunction7:()=>Uw,\u0275\u0275pureFunction8:()=>$w,\u0275\u0275pureFunctionV:()=>us,\u0275\u0275queryRefresh:()=>Yw,\u0275\u0275reference:()=>jD,\u0275\u0275registerNgModuleType:()=>vl,\u0275\u0275resetView:()=>Xs,\u0275\u0275resolveBody:()=>wh,\u0275\u0275resolveDocument:()=>Dh,\u0275\u0275resolveWindow:()=>Ff,\u0275\u0275restoreView:()=>Zn,\u0275\u0275sanitizeHtml:()=>Bs,\u0275\u0275sanitizeResourceUrl:()=>js,\u0275\u0275sanitizeScript:()=>hc,\u0275\u0275sanitizeStyle:()=>rd,\u0275\u0275sanitizeUrl:()=>Aa,\u0275\u0275sanitizeUrlOrResourceUrl:()=>oh,\u0275\u0275setComponentScope:()=>_t,\u0275\u0275setNgModuleScope:()=>Z,\u0275\u0275styleMap:()=>yo,\u0275\u0275styleMapInterpolate1:()=>wv,\u0275\u0275styleMapInterpolate2:()=>bp,\u0275\u0275styleMapInterpolate3:()=>nw,\u0275\u0275styleMapInterpolate4:()=>Cu,\u0275\u0275styleMapInterpolate5:()=>Dp,\u0275\u0275styleMapInterpolate6:()=>Wh,\u0275\u0275styleMapInterpolate7:()=>Iv,\u0275\u0275styleMapInterpolate8:()=>jm,\u0275\u0275styleMapInterpolateV:()=>rw,\u0275\u0275styleProp:()=>Fm,\u0275\u0275stylePropInterpolate1:()=>Ev,\u0275\u0275stylePropInterpolate2:()=>Cv,\u0275\u0275stylePropInterpolate3:()=>wp,\u0275\u0275stylePropInterpolate4:()=>Ip,\u0275\u0275stylePropInterpolate5:()=>Um,\u0275\u0275stylePropInterpolate6:()=>Cc,\u0275\u0275stylePropInterpolate7:()=>$m,\u0275\u0275stylePropInterpolate8:()=>Hm,\u0275\u0275stylePropInterpolateV:()=>Ep,\u0275\u0275syntheticHostListener:()=>Sm,\u0275\u0275syntheticHostProperty:()=>Tv,\u0275\u0275template:()=>BD,\u0275\u0275templateRefExtractor:()=>Jv,\u0275\u0275text:()=>hv,\u0275\u0275textInterpolate:()=>fv,\u0275\u0275textInterpolate1:()=>Vm,\u0275\u0275textInterpolate2:()=>Bm,\u0275\u0275textInterpolate3:()=>pv,\u0275\u0275textInterpolate4:()=>gv,\u0275\u0275textInterpolate5:()=>mv,\u0275\u0275textInterpolate6:()=>_v,\u0275\u0275textInterpolate7:()=>XD,\u0275\u0275textInterpolate8:()=>yv,\u0275\u0275textInterpolateV:()=>vv,\u0275\u0275trustConstantHtml:()=>Ma,\u0275\u0275trustConstantResourceUrl:()=>Sf,\u0275\u0275viewQuery:()=>Jw});var I=V(7579),u=V(727),B=V(9751),ae=V(6451),se=V(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function De(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ve(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=pe({__forward_ref__:pe});function z(s){return s.__forward_ref__=z,s.toString=function(){return ye(this())},s}function J(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}class le extends Error{constructor(o,a){super(He(o,a)),this.code=o}}function He(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function Ae(s,o){throw new le(-201,!1)}function ot(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function un(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}const br=un;function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Tn(s){return Jr(s,fi)||Jr(s,ei)}function ps(s){return null!==Tn(s)}function Jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Rs(s){return s&&(s.hasOwnProperty(kr)||s.hasOwnProperty(Ws))?s[kr]:null}const fi=pe({\u0275prov:pe}),kr=pe({\u0275inj:pe}),ei=pe({ngInjectableDef:pe}),Ws=pe({ngInjectorDef:pe});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Dr;function dr(s){const o=Dr;return Dr=s,o}function ti(s,o,a){const c=Tn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&at.Optional?null:void 0!==o?o:void Ae(ye(s))}function qn(s){return{toString:s}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),Wt=(()=>((Wt=Wt||{})[Wt.CheckOnce=0]="CheckOnce",Wt[Wt.Checked=1]="Checked",Wt[Wt.CheckAlways=2]="CheckAlways",Wt[Wt.Detached=3]="Detached",Wt[Wt.Errored=4]="Errored",Wt[Wt.Destroyed=5]="Destroyed",Wt))();function Ct(s){return null==s||s===$n.Default}var wt=(()=>{return(s=wt||(wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",wt;var s})();const Cn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},Lt=[],xi=pe({\u0275cmp:pe}),fn=pe({\u0275dir:pe}),Ji=pe({\u0275pipe:pe}),bn=pe({\u0275mod:pe}),fr=pe({\u0275fac:pe}),Pr=pe({__NG_ELEMENT_ID__:pe});let yt=0;function Be(s){return qn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Lt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||wt.Emulated,id:"c"+yt++,styles:s.styles||Lt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,v=s.features;return h.inputs=W(s.inputs,c),h.outputs=W(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(kt).filter(xt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Et).filter(xt):null,h})}function _t(s,o,a){const c=s.\u0275cmp;c.directiveDefs=()=>("function"==typeof o?o():o).map(kt),c.pipeDefs=()=>("function"==typeof a?a():a).map(Et)}function kt(s){return ne(s)||tt(s)}function xt(s){return null!==s}function Kt(s){return qn(()=>({type:s.type,bootstrap:s.bootstrap||Lt,declarations:s.declarations||Lt,imports:s.imports||Lt,exports:s.exports||Lt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Z(s,o){return qn(()=>{const a=Mn(s,!0);a.declarations=o.declarations||Lt,a.imports=o.imports||Lt,a.exports=o.exports||Lt})}function W(s,o){if(null==s)return ni;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const ee=Be;function Re(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ne(s){return s[xi]||null}function tt(s){return s[fn]||null}function Et(s){return s[Ji]||null}function mn(s){const o=ne(s)||tt(s)||Et(s);return null!==o&&o.standalone}function Mn(s,o){const a=s[bn]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function nt(s){return Array.isArray(s)&&"object"==typeof s[1]}function wr(s){return Array.isArray(s)&&!0===s[1]}function Mt(s){return 0!=(8&s.flags)}function ys(s){return 2==(2&s.flags)}function qs(s){return 1==(1&s.flags)}function rr(s){return null!==s.template}function Fc(s){return 0!=(256&s[2])}function es(s,o){return s.hasOwnProperty(fr)?s[fr]:null}class Cr{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ki(){return ts}function ts(s){return s.type.prototype.ngOnChanges&&(s.setInput=qa),To}function To(){const s=Za(this),o=s?.current;if(o){const a=s.previous;if(a===ni)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function qa(s,o,a,c){const h=Za(s)||function Zs(s,o){return s[ra]=o}(s,{previous:ni,current:null}),p=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[a],C=v[D];p[D]=new Cr(C&&C.currentValue,o,v===ni),s[c]=o}ki.ngInherit=!0;const ra="__ngSimpleChanges__";function Za(s){return s[ra]||null}let Pi=null;const Lr=s=>{Pi=s},Gr=function(s,o,a){Pi?.(s,o,a)};function Gn(s){for(;Array.isArray(s);)s=s[0];return s}function vi(s,o){return Gn(o[s])}function gr(s,o){return Gn(o[s.index])}function Ys(s,o){return s.data[o]}function bi(s,o){return s[o]}function sn(s,o){const a=o[s];return nt(a)?a:a[0]}function vs(s){return 64==(64&s[2])}function si(s,o){return null==o?null:s[o]}function No(s){s[18]=0}function Vn(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Rt={lFrame:ws(null),bindingsEnabled:!0};function bs(){return Rt.bindingsEnabled}function Oo(){Rt.bindingsEnabled=!0}function ks(){Rt.bindingsEnabled=!1}function Fe(){return Rt.lFrame.lView}function St(){return Rt.lFrame.tView}function Zn(s){return Rt.lFrame.contextLView=s,s[8]}function Xs(s){return Rt.lFrame.contextLView=null,s}function Pn(){let s=Ka();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ka(){return Rt.lFrame.currentTNode}function eo(){const s=Rt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function oi(s,o){const a=Rt.lFrame;a.currentTNode=s,a.isParent=o}function sa(){return Rt.lFrame.isParent}function ko(){Rt.lFrame.isParent=!1}function Wn(){const s=Rt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ns(){return Rt.lFrame.bindingIndex}function Fo(s){return Rt.lFrame.bindingIndex=s}function rs(){return Rt.lFrame.bindingIndex++}function ai(s){const o=Rt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function oa(s){Rt.lFrame.inI18n=s}function Ya(s,o){const a=Rt.lFrame;a.bindingIndex=a.bindingRootIndex=s,aa(o)}function aa(s){Rt.lFrame.currentDirectiveIndex=s}function Lo(s){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Vo(){return Rt.lFrame.currentQueryIndex}function la(s){Rt.lFrame.currentQueryIndex=s}function Zl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ds(s,o,a){if(a&at.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&at.Host||(h=Zl(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Rt.lFrame=Kl();return c.currentTNode=o,c.lView=s,!0}function Xa(s){const o=Kl(),a=s[1];Rt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Kl(){const s=Rt.lFrame,o=null===s?null:s.child;return null===o?ws(s):o}function ws(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function el(){const s=Rt.lFrame;return Rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const E=el;function R(){const s=el();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function U(){return Rt.lFrame.selectedIndex}function he(s){Rt.lFrame.selectedIndex=s}function we(){const s=Rt.lFrame;return Ys(s.tView,s.selectedIndex)}function lt(){Rt.lFrame.currentNamespace="svg"}function an(){Rt.lFrame.currentNamespace="math"}function hn(){!function gn(){Rt.lFrame.currentNamespace=null}()}function Dn(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:F}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(a,F)}}function Fn(s,o,a){Wr(s,o,3,a)}function is(s,o,a,c){(3&s[2])===a&&Wr(s,o,a,c)}function li(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Wr(s,o,a,c){const p=c??-1,v=o.length-1;let D=0;for(let C=void 0!==c?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(D=o[C],null!=c&&D>=c)break}else o[C]<0&&(s[18]+=65536),(D<p||-1==p)&&(Ps(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Ps(s,o,a,c){const h=a[c]<0,p=a[c+1],D=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048,Gr(4,D,p);try{p.call(D)}finally{Gr(5,D,p)}}}else{Gr(4,D,p);try{p.call(D)}finally{Gr(5,D,p)}}}class Li{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ca(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],v=a[c++],D=a[c++];s.setAttribute(o,v,D,p)}else{const p=h,v=a[++c];no(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),c++}}return c}function Is(s){return 3===s||4===s||6===s}function no(s){return 64===s.charCodeAt(0)}function rl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Qd(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function Qd(s,o,a,c,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Yd(s){return-1!==s}function Sr(s){return 32767&s}function Xl(s,o){let a=function Jl(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let zr=!0;function Bi(s){const o=zr;return zr=s,o}let Yt=0;const ci={};function Es(s,o){const a=Gc(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,tc(c.data,s),tc(o,null),tc(c.blueprint,null));const h=Wc(s,o),p=s.injectorIndex;if(Yd(h)){const v=Sr(h),D=Xl(h,o),C=D[1].data;for(let M=0;M<8;M++)o[p+M]=D[v+M]|C[v+M]}return o[p+8]=h,p}function tc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Gc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Wc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=nc(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function ua(s,o,a){!function Bo(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Pr)&&(c=a[Pr]),null==c&&(c=a[Pr]=Yt++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function da(s,o,a){if(a&at.Optional||void 0!==s)return s;Ae()}function ha(s,o,a,c){if(a&at.Optional&&void 0===c&&(c=null),0==(a&(at.Self|at.Host))){const h=s[9],p=dr(void 0);try{return h?h.get(o,c,a&at.Optional):ti(o,c,a&at.Optional)}finally{dr(p)}}return da(c,0,a)}function ui(s,o,a,c=at.Default,h){if(null!==s){if(1024&o[2]){const v=function Uo(s,o,a,c,h){let p=s,v=o;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=il(p,v,a,c|at.Self,ci);if(D!==ci)return D;let C=p.parent;if(!C){const M=v[21];if(M){const F=M.get(a,ci,c);if(F!==ci)return F}C=nc(v),v=v[15]}p=C}return h}(s,o,a,c,ci);if(v!==ci)return v}const p=il(s,o,a,c,ci);if(p!==ci)return p}return ha(o,a,c,h)}function il(s,o,a,c,h){const p=function Hu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Pr)?s[Pr]:void 0;return"number"==typeof o?o>=0?255&o:Gu:o}(a);if("function"==typeof p){if(!Ds(o,s,c))return c&at.Host?da(h,0,c):ha(o,a,c,h);try{const v=p(c);if(null!=v||c&at.Optional)return v;Ae()}finally{E()}}else if("number"==typeof p){let v=null,D=Gc(s,o),C=-1,M=c&at.Host?o[16][6]:null;for((-1===D||c&at.SkipSelf)&&(C=-1===D?Wc(s,o):o[D+8],-1!==C&&pa(c,!1)?(v=o[1],D=Sr(C),o=Xl(C,o)):D=-1);-1!==D;){const F=o[1];if(qc(p,D,F.data)){const j=zc(D,o,a,v,c,M);if(j!==ci)return j}C=o[D+8],-1!==C&&pa(c,o[1].data[D+8]===M)&&qc(p,D,o)?(v=F,D=Sr(C),o=Xl(C,o)):D=-1}}return h}function zc(s,o,a,c,h,p){const v=o[1],D=v.data[s+8],F=fa(D,v,a,null==c?ys(D)&&zr:c!=v&&0!=(3&D.type),h&at.Host&&p===D);return null!==F?ji(o,v,F,D):ci}function fa(s,o,a,c,h){const p=s.providerIndexes,v=o.data,D=1048575&p,C=s.directiveStart,F=p>>20,Q=h?D+F:s.directiveEnd;for(let oe=c?D:D+F;oe<Q;oe++){const xe=v[oe];if(oe<C&&a===xe||oe>=C&&xe.type===a)return oe}if(h){const oe=v[C];if(oe&&rr(oe)&&oe.type===a)return C}return null}function ji(s,o,a,c){let h=s[a];const p=o.data;if(function Vi(s){return s instanceof Li}(h)){const v=h;v.resolving&&function Qe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new le(-200,`Circular dependency in DI detected for ${s}${a}`)}(fe(p[a]));const D=Bi(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?dr(v.injectImpl):null;Ds(s,c,at.Default);try{h=s[a]=v.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Kn(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const v=ts(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&dr(C),Bi(D),v.resolving=!1,E()}}return h}function qc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function pa(s,o){return!(s&at.Self||s&at.Host&&o)}class jo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ui(this._tNode,this._lView,o,c,a)}}function Gu(){return new jo(Pn(),Fe())}function Wu(s){return qn(()=>{const o=s.prototype.constructor,a=o[fr]||sl(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[fr]||sl(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function sl(s){return $e(s)?()=>{const o=sl(J(s));return o&&o()}:es(s)}function nc(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Zc(s){return function mf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(Is(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Pn(),s)}const qr="__annotations__",io="__parameters__",ga="__prop__metadata__";function Fs(s,o,a,c,h){return qn(()=>{const p=$o(o);function v(...D){if(this instanceof v)return p.call(this,...D),this;const C=new v(...D);return function(F){return h&&h(F,...D),(F.hasOwnProperty(qr)?F[qr]:Object.defineProperty(F,qr,{value:[]})[qr]).push(C),c&&c(F),F}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}function $o(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}function Cs(s,o,a){return qn(()=>{const c=$o(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const v=new h(...p);return D.annotation=v,D;function D(C,M,F){const j=C.hasOwnProperty(io)?C[io]:Object.defineProperty(C,io,{value:[]})[io];for(;j.length<=F;)j.push(null);return(j[F]=j[F]||[]).push(v),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function mr(s,o,a,c){return qn(()=>{const h=$o(o);function p(...v){if(this instanceof p)return h.apply(this,v),this;const D=new p(...v);return function C(M,F){const j=M.constructor,Q=j.hasOwnProperty(ga)?j[ga]:Object.defineProperty(j,ga,{value:{}})[ga];Q[F]=Q.hasOwnProperty(F)&&Q[F]||[],Q[F].unshift(D),c&&c(M,F,...v)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}const so=Cs("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>Zc(s)}));class kn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=un({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rc=new kn("AnalyzeForEntryComponents");class al{}const er=mr("ContentChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...o}),al),Jd=mr("ContentChild",(s,o={})=>({selector:s,first:!0,isViewQuery:!1,descendants:!0,...o}),al),zu=mr("ViewChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...o}),al),Ig=mr("ViewChild",(s,o)=>({selector:s,first:!0,isViewQuery:!0,descendants:!0,...o}),al);var Nr=(()=>((Nr=Nr||{})[Nr.Directive=0]="Directive",Nr[Nr.Component=1]="Component",Nr[Nr.Injectable=2]="Injectable",Nr[Nr.Pipe=3]="Pipe",Nr[Nr.NgModule=4]="NgModule",Nr))();function _r(s){const o=Cn.ng;if(o&&o.\u0275compilerFacade)return o.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ma=Function;function _a(s){return"function"==typeof s}function Di(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Di(c,o)):o!==s&&o.push(c)}return o}function Ui(s,o){s.forEach(a=>Array.isArray(a)?Ui(a,o):o(a))}function ll(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function ya(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ls(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function wi(s,o,a){let c=Vs(s,o);return c>=0?s[1|c]=a:(c=~c,function cl(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function ul(s,o){const a=Vs(s,o);if(a>=0)return s[1|a]}function Vs(s,o){return function hl(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),v=s[p<<a];if(o===v)return p<<a;v>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const fl=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Qc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,pl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,gl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Xd{constructor(o){this._reflect=o||Cn.Reflect}factory(o){return(...a)=>new o(...a)}_zipTypesAndAnnotations(o,a){let c;c=Ls(typeof o>"u"?a.length:o.length);for(let h=0;h<c.length;h++)c[h]=typeof o>"u"?[]:o[h]&&o[h]!=Object?[o[h]]:[],a&&null!=a[h]&&(c[h]=c[h].concat(a[h]));return c}_ownParameters(o,a){if(function qu(s){return fl.test(s)||gl.test(s)||Qc.test(s)&&!pl.test(s)}(o.toString()))return null;if(o.parameters&&o.parameters!==a.parameters)return o.parameters;const h=o.ctorParameters;if(h&&h!==a.ctorParameters){const D="function"==typeof h?h():h,C=D.map(F=>F&&F.type),M=D.map(F=>F&&ml(F.decorators));return this._zipTypesAndAnnotations(C,M)}const p=o.hasOwnProperty(io)&&o[io],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return v||p?this._zipTypesAndAnnotations(v,p):Ls(o.length)}parameters(o){if(!_a(o))return[];const a=Da(o);let c=this._ownParameters(o,a);return!c&&a!==Object&&(c=this.parameters(a)),c||[]}_ownAnnotations(o,a){if(o.annotations&&o.annotations!==a.annotations){let c=o.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return o.decorators&&o.decorators!==a.decorators?ml(o.decorators):o.hasOwnProperty(qr)?o[qr]:null}annotations(o){if(!_a(o))return[];const a=Da(o),c=this._ownAnnotations(o,a)||[];return(a!==Object?this.annotations(a):[]).concat(c)}_ownPropMetadata(o,a){if(o.propMetadata&&o.propMetadata!==a.propMetadata){let c=o.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(o.propDecorators&&o.propDecorators!==a.propDecorators){const c=o.propDecorators,h={};return Object.keys(c).forEach(p=>{h[p]=ml(c[p])}),h}return o.hasOwnProperty(ga)?o[ga]:null}propMetadata(o){if(!_a(o))return{};const a=Da(o),c={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(v=>{c[v]=p[v]})}const h=this._ownPropMetadata(o,a);return h&&Object.keys(h).forEach(p=>{const v=[];c.hasOwnProperty(p)&&v.push(...c[p]),v.push(...h[p]),c[p]=v}),c}ownPropMetadata(o){return _a(o)&&this._ownPropMetadata(o,Da(o))||{}}hasLifecycleHook(o,a){return o instanceof ma&&a in o.prototype}}function ml(s){return s?s.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function Da(s){const o=s.prototype?Object.getPrototypeOf(s.prototype):null;return(o?o.constructor:null)||Object}const Bn={},Yc="__NG_DI_FLAG__",sc="ngTempTokenPath",Zu=/\n/gm,Ku="__source";let _l;function lo(s){const o=_l;return _l=s,o}function Qu(s,o=at.Default){if(void 0===_l)throw new le(-203,!1);return null===_l?ti(s,void 0,o):_l.get(s,o&at.Optional?null:void 0,o)}function or(s,o=at.Default){return(function gs(){return Dr}()||Qu)(J(s),o)}function oc(s){throw new le(202,!1)}function S(s,o=at.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),or(s,o)}function N(s){const o=[];for(let a=0;a<s.length;a++){const c=J(s[a]);if(Array.isArray(c)){if(0===c.length)throw new le(900,!1);let h,p=at.Default;for(let v=0;v<c.length;v++){const D=c[v],C=$(D);"number"==typeof C?-1===C?h=D.token:p|=C:h=D}o.push(or(h,p))}else o.push(or(c))}return o}function O(s,o){return s[Yc]=o,s.prototype[Yc]=o,s}function $(s){return s[Yc]}const je=O(Cs("Inject",s=>({token:s})),-1),re=O(Cs("Optional"),8),it=O(Cs("Self"),2),Tt=O(Cs("SkipSelf"),4),Gt=O(Cs("Host"),1);let ke=null;function ut(){return ke=ke||new Xd}function Zr(s){return Je(ut().parameters(s))}function Je(s){return s.map(o=>function be(s){const o={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let a=0;a<s.length;a++){const c=s[a];if(void 0===c)continue;const h=Object.getPrototypeOf(c);if(c instanceof re||"Optional"===h.ngMetadataName)o.optional=!0;else if(c instanceof Tt||"SkipSelf"===h.ngMetadataName)o.skipSelf=!0;else if(c instanceof it||"Self"===h.ngMetadataName)o.self=!0;else if(c instanceof Gt||"Host"===h.ngMetadataName)o.host=!0;else if(c instanceof je)o.token=c.token;else if(c instanceof so){if(void 0===c.attributeName)throw new le(204,!1);o.attribute=c.attributeName}else o.token=c}else o.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return o}(o))}function Le(s){const o=[],a=new Map;function c(h){let p=a.get(h);if(!p){const v=s(h);a.set(h,p=v.then($_))}return p}return zn.forEach((h,p)=>{const v=[];h.templateUrl&&v.push(c(h.templateUrl).then(j=>{h.template=j}));const D=h.styleUrls,C=h.styles||(h.styles=[]),M=h.styles.length;D&&D.forEach((j,Q)=>{C.push(""),v.push(c(j).then(oe=>{C[M+Q]=oe,D.splice(D.indexOf(j),1),0==D.length&&(h.styleUrls=void 0)}))});const F=Promise.all(v).then(()=>function H_(s){co.delete(s)}(p));o.push(F)}),Yu(),Promise.all(o).then(()=>{})}let zn=new Map;const co=new Set;function Ia(s){return!!(s.templateUrl&&!s.hasOwnProperty("template")||s.styleUrls&&s.styleUrls.length)}function Yu(){const s=zn;return zn=new Map,s}function $_(s){return"string"==typeof s?s:s.text()}const eh=new Map;let ac,jn,bl,Jc=!0;function vl(s,o){(function Zt(s,o,a){if(o&&o!==a&&Jc)throw new Error(`Duplicate module registered for ${s} - ${ye(o)} vs ${ye(o.name)}`)})(o,eh.get(o)||null,s),eh.set(o,s)}function Qn(s){return eh.get(s)}function Pt(s){Jc=!s}function wn(s){ac=s}function Sg(){return void 0!==ac?ac:typeof document<"u"?document:void 0}function et(){if(void 0===jn&&(jn=null,Cn.trustedTypes))try{jn=Cn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return jn}function Ea(s){return et()?.createHTML(s)||s}function bf(){if(void 0===bl&&(bl=null,Cn.trustedTypes))try{bl=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return bl}function Xc(s){return bf()?.createHTML(s)||s}function Df(s){return bf()?.createScript(s)||s}function wf(s){return bf()?.createScriptURL(s)||s}class yr{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class If extends yr{getTypeName(){return"HTML"}}class th extends yr{getTypeName(){return"Style"}}class Ng extends yr{getTypeName(){return"Script"}}class Ca extends yr{getTypeName(){return"URL"}}class Ef extends yr{getTypeName(){return"ResourceURL"}}function de(s){return s instanceof yr?s.changingThisBreaksApplicationSecurity:s}function Ta(s,o){const a=Ts(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Ts(s){return s instanceof yr&&s.getTypeName()||null}function Ag(s){return new If(s)}function Ju(s){return new th(s)}function Dl(s){return new Ng(s)}function W_(s){return new Ca(s)}function cc(s){return new Ef(s)}function Cf(s){const o=new z_(s);return function bb(){try{return!!(new window.DOMParser).parseFromString(Ea(""),"text/html")}catch{return!1}}()?new nh(o):o}class nh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ea(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class z_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ea(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Ea(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Ar=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xu(s){return(s=String(s)).match(Ar)?s:"unsafe:"+s}function $i(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function wl(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const ir=$i("area,br,col,hr,img,wbr"),uc=$i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kr=$i("rp,rt"),Hi=wl(ir,wl(uc,$i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wl(Kr,$i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wl(Kr,uc)),td=$i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sa=wl(td,$i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=$i("script,style,template");class dc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Hi.hasOwnProperty(a))return this.sanitizedSomething=!0,!ar.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),v=p.name,D=v.toLowerCase();if(!Sa.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let C=p.value;td[D]&&(C=Xu(C)),this.buf.push(" ",v,'="',eu(C),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Hi.hasOwnProperty(a)&&!ir.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(eu(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const rh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ih=/([^\#-~ |!])/g;function eu(s){return s.replace(/&/g,"&amp;").replace(rh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ih,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sh;function uo(s,o){let a=null;try{sh=sh||Cf(s);let c=o?String(o):"";a=sh.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=sh.getInertBodyElement(c)}while(c!==p);return Ea((new dc).sanitizeChildren(Na(a)||a))}finally{if(a){const c=Na(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Na(s){return"content"in s&&function nd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function Bs(s){const o=zo();return o?Xc(o.sanitize(lr.HTML,s)||""):Ta(s,"HTML")?Xc(de(s)):uo(Sg(),me(s))}function rd(s){const o=zo();return o?o.sanitize(lr.STYLE,s)||"":Ta(s,"Style")?de(s):me(s)}function Aa(s){const o=zo();return o?o.sanitize(lr.URL,s)||"":Ta(s,"URL")?de(s):Xu(me(s))}function js(s){const o=zo();if(o)return wf(o.sanitize(lr.RESOURCE_URL,s)||"");if(Ta(s,"ResourceURL"))return wf(de(s));throw new le(904,!1)}function hc(s){const o=zo();if(o)return Df(o.sanitize(lr.SCRIPT,s)||"");if(Ta(s,"Script"))return Df(de(s));throw new le(905,!1)}function Ma(s){return Ea(s[0])}function Sf(s){return function lc(s){return et()?.createScriptURL(s)||s}(s[0])}function oh(s,o,a){return function tu(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?js:Aa}(o,a)(s)}function zo(){const s=Fe();return s&&s[12]}const ah=new kn("ENVIRONMENT_INITIALIZER"),lh=new kn("INJECTOR",-1),id=new kn("INJECTOR_DEF_TYPES");class nu{get(o,a=Bn){if(a===Bn){const c=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw c.name="NullInjectorError",c}return a}}function ch(...s){return{\u0275providers:uh(0,s)}}function uh(s,...o){const a=[],c=new Set;let h;return Ui(o,p=>{const v=p;sd(v,a,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&dh(h,a),a}function dh(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Ui(h,p=>{o.push(p)})}}function sd(s,o,a,c){if(!(s=J(s)))return!1;let h=null,p=Rs(s);const v=!p&&ne(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const C=s.ngModule;if(p=Rs(C),!p)return!1;h=C}const D=c.has(h);if(v){if(D)return!1;if(c.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of C)sd(M,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let M;c.add(h);try{Ui(p.imports,F=>{sd(F,o,a,c)&&(M||(M=[]),M.push(F))})}finally{}void 0!==M&&dh(M,o)}if(!D){const M=es(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Lt},{provide:id,useValue:h,multi:!0},{provide:ah,useValue:()=>or(h),multi:!0})}const C=p.providers;null==C||D||Ui(C,F=>{o.push(F)})}}return h!==s&&void 0!==s.providers}const Vr=pe({provide:String,useValue:pe});function hh(s){return null!==s&&"object"==typeof s&&Vr in s}function xa(s){return"function"==typeof s}const od=new kn("Set Injector scope."),qo={},fh={};let pc;function ad(){return void 0===pc&&(pc=new nu),pc}class Gi{}class Br extends Gi{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Us(o,v=>this.processProvider(v)),this.records.set(lh,jr(void 0,this)),h.has("environment")&&this.records.set(Gi,jr(void 0,this));const p=this.records.get(od);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(id.multi,Lt,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=lo(this),c=dr(void 0);try{return o()}finally{lo(a),dr(c)}}get(o,a=Bn,c=at.Default){this.assertNotDestroyed();const h=lo(this),p=dr(void 0);try{if(!(c&at.SkipSelf)){let D=this.records.get(o);if(void 0===D){const C=function Q_(s){return"function"==typeof s||"object"==typeof s&&s instanceof kn}(o)&&Tn(o);D=C&&this.injectableDefInScope(C)?jr(Nf(o),qo):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&at.Self?ad():this.parent).get(o,a=c&at.Optional&&a===Bn?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[sc]=v[sc]||[]).unshift(ye(o)),h)throw v;return function te(s,o,a,c){const h=s[sc];throw o[Ku]&&h.unshift(o[Ku]),s.message=function _e(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ye(o);if(Array.isArray(o))h=o.map(ye).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(Zu,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[sc]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{dr(p),lo(h)}}resolveInjectorInitializers(){const o=lo(this),a=dr(void 0);try{const c=this.get(ah.multi,Lt,at.Self);for(const h of c)h()}finally{lo(o),dr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ye(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(o){let a=xa(o=J(o))?o:J(o&&o.provide);const c=function K_(s){return hh(s)?jr(void 0,s.useValue):jr(ph(s),qo)}(o);if(xa(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=jr(void 0,qo,!0),h.factory=()=>N(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===qo&&(a.value=fh,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Mf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Nf(s){const o=Tn(s),a=null!==o?o.factory:es(s);if(null!==a)return a;if(s instanceof kn)throw new le(204,!1);if(s instanceof Function)return function Z_(s){const o=s.length;if(o>0)throw Ls(o,"?"),new le(204,!1);const a=function Hr(s){const o=s&&(s[fi]||s[ei]);if(o){const a=function Xr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new le(204,!1)}function ph(s,o,a){let c;if(xa(s)){const h=J(s);return es(h)||Nf(h)}if(hh(s))c=()=>J(s.useValue);else if(function ru(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...N(s.deps||[]));else if(function on(s){return!(!s||!s.useExisting)}(s))c=()=>or(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function Af(s){return!!s.deps}(s))return es(h)||Nf(h);c=()=>new h(...N(s.deps))}return c}function jr(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Ei(s){return!!s.\u0275providers}function Us(s,o){for(const a of s)Array.isArray(a)?Us(a,o):Ei(a)?Us(a.\u0275providers,o):o(a)}class xf{}class iu{}class su{resolveComponentFactory(o){throw function xg(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ou=(()=>{class s{}return s.NULL=new su,s})();function Rf(){return _(Pn(),Fe())}function _(s,o){return new f(gr(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Rf,s})();function m(s){return s instanceof f?s.nativeElement:s}class x{}let L=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Y(){const s=Fe(),a=sn(Pn().index,s);return(nt(a)?a:s)[11]}(),s})(),Ee=(()=>{class s{}return s.\u0275prov=un({token:s,providedIn:"root",factory:()=>null}),s})();class qe{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gt=new qe("14.2.8"),At={},Nt={name:"custom-elements"},vr={name:"no-errors-schema"};let os=!1;function ld(s){os=s}function cd(){return os}let ud=!1;function Rg(s){ud=s}function Of(){return ud}const J_="ngOriginalError";function tr(s){return s[J_]}class au{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&tr(o);for(;a&&tr(a);)a=tr(a);return a||null}}const kg=/^>|^->|<!--|-->|--!>|<!-$/g,wb=/(<|>)/;const Pg=new Map;let Eb=0;function Fg(s){return Pg.get(s)||null}class Ur{constructor(o,a,c){this.lViewId=o,this.nodeIndex=a,this.native=c}get lView(){return Fg(this.lViewId)}}function $t(s){let o=Ci(s);if(o){if(nt(o)){const a=o;let c,h,p;if(function Pf(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(c=bh(a,s),-1==c)throw new Error("The provided component was not found in the application");h=s}else if(function Tb(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(c=function $E(s,o){let a=s[1].firstChild;for(;a;){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++)if(s[p]===o)return a.index;a=Sb(a)}return-1}(a,s),-1==c)throw new Error("The provided directive was not found in the application");p=Nb(c,a,!1)}else if(c=Oa(a,s),-1==c)return null;const v=Gn(a[c]),D=Ci(v),C=D&&!Array.isArray(D)?D:Lg(a,c,v);if(h&&void 0===C.component&&(C.component=h,as(C.component,C)),p&&void 0===C.directives){C.directives=p;for(let M=0;M<p.length;M++)as(p[M],C)}as(C.native,C),o=C}}else{const a=s;let c=a;for(;c=c.parentNode;){const h=Ci(c);if(h){const p=Array.isArray(h)?h:h.lView;if(!p)return null;const v=Oa(p,a);if(v>=0){const D=Gn(p[v]),C=Lg(p,v,D);as(D,C),o=C;break}}}}return o||null}function Lg(s,o,a){return new Ur(s[20],o,a)}function X_(s){let a,o=Ci(s);if(nt(o)){const c=o,h=bh(c,s);a=sn(h,c);const p=Lg(c,h,a[0]);p.component=s,as(s,p),as(p.native,p)}else a=sn(o.nodeIndex,o.lView);return a}const El="__ngContext__";function as(s,o){nt(o)?(s[El]=o[20],function vh(s){Pg.set(s[20],s)}(o)):s[El]=o}function Ci(s){const o=s[El];return"number"==typeof o?Fg(o):o||null}function ey(s){const o=Ci(s);return o?nt(o)?o:o.lView:null}function Oa(s,o){const a=s[1];for(let c=22;c<a.bindingStartIndex;c++)if(Gn(s[c])===o)return c;return-1}function Sb(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function bh(s,o){const a=s[1].components;if(a)for(let c=0;c<a.length;c++){const h=a[c];if(sn(h,s)[8]===o)return h}else if(sn(22,s)[8]===o)return 22;return-1}function Nb(s,o,a){const c=o[1].data[s];let h=c.directiveStart;return 0==h?Lt:(!a&&2&c.flags&&h++,o.slice(h,c.directiveEnd))}function Ff(s){return s.ownerDocument.defaultView}function Dh(s){return s.ownerDocument}function wh(s){return s.ownerDocument.body}function Cl(s){return s instanceof Function?s():s}var Tl=(()=>((Tl=Tl||{})[Tl.Important=1]="Important",Tl[Tl.DashCase=2]="DashCase",Tl))();let ny;function hd(s,o){return ny(s,o)}function fd(s){const o=s[3];return wr(o)?o[3]:o}function Lf(s){return function Ob(s){let o=nt(s)?s:ey(s);for(;o&&!(256&o[2]);)o=fd(o);return o}(s)[8]}function Zo(s){return ry(s[13])}function Vf(s){return ry(s[4])}function ry(s){for(;null!==s&&!wr(s);)s=s[4];return s}function pd(s,o,a,c,h){if(null!=c){let p,v=!1;wr(c)?p=c:nt(c)&&(v=!0,c=c[0]);const D=Gn(c);0===s&&null!==a?null==h?cy(o,a,D):gd(o,a,D,h||null,!0):1===s&&null!==a?gd(o,a,D,h||null,!0):2===s?Gb(o,D,v):3===s&&o.destroyNode(D),null!=p&&function QE(s,o,a,c,h){const p=a[7];p!==Gn(a)&&pd(o,s,c,p,h);for(let D=10;D<a.length;D++){const C=a[D];Uf(C[1],C,s,o,c,p)}}(o,s,p,a,h)}}function Bg(s,o){return s.createText(o)}function iy(s,o,a){s.setValue(o,a)}function WE(s,o){return s.createComment(function _h(s){return s.replace(kg,o=>o.replace(wb,"\u200b$1\u200b"))}(o))}function sy(s,o,a){return s.createElement(o,a)}function Fb(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Vn(h,-1)),a.splice(c,1)}function jg(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&Fb(h,c),o>0&&(s[a-1][4]=c[4]);const p=ya(s,10+o);!function Bf(s,o){Uf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Lb(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Uf(s,o,a,3,null,null),function kb(s){let o=s[13];if(!o)return ly(s[1],s);for(;o;){let a=null;if(nt(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)nt(o)&&ly(o[1],o),o=o[3];null===o&&(o=s),nt(o)&&ly(o[1],o),a=o&&o[4]}o=a}}(o)}}function ly(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Eh(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Li)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=h[p[v]],C=p[v+1];Gr(4,D,C);try{C.call(D)}finally{Gr(5,D,C)}}else{Gr(4,h,p);try{p.call(h)}finally{Gr(5,h,p)}}}}}(s,o),function Ih(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],D="function"==typeof v?v(o):Gn(o[v]),C=c[h=a[p+2]],M=a[p+3];"boolean"==typeof M?D.removeEventListener(a[p],C,M):M>=0?c[h=M]():c[h=-M].unsubscribe(),p+=2}else{const v=c[h=a[p+1]];a[p].call(v)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&wr(o[3])){a!==o[3]&&Fb(a,o);const c=o[19];null!==c&&c.detachView(s)}!function UE(s){Pg.delete(s[20])}(o)}}function Vb(s,o,a){return Bb(s,o.parent,a)}function Bb(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===wt.None||h===wt.Emulated)return null}return gr(c,a)}function gd(s,o,a,c,h){s.insertBefore(o,a,c,h)}function cy(s,o,a){s.appendChild(o,a)}function ls(s,o,a,c,h){null!==c?gd(s,o,a,c,h):cy(s,o,a)}function ho(s,o){return s.parentNode(o)}function jf(s,o,a){return Ub(s,o,a)}function uy(s,o,a){return 40&s.type?gr(s,a):null}let dy,Ub=uy;function $b(s,o){Ub=s,dy=o}function Ug(s,o,a,c){const h=Vb(s,c,o),p=o[11],D=jf(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)ls(p,h,a[C],D,!1);else ls(p,h,a,D,!1);void 0!==dy&&dy(p,c,o,a,h)}function $g(s,o){if(null!==o){const a=o.type;if(3&a)return gr(o,s);if(4&a)return hy(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return $g(s,c);{const h=s[o.index];return wr(h)?hy(-1,h):Gn(h)}}if(32&a)return hd(o,s)()||Gn(s[o.index]);{const c=Hb(s,o);return null!==c?Array.isArray(c)?c[0]:$g(fd(s[16]),c):$g(s,o.next)}}return null}function Hb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function hy(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return $g(c,h)}return o[7]}function Gb(s,o,a){const c=ho(s,o);c&&function qE(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}function fy(s,o,a,c,h,p,v){for(;null!=a;){const D=c[a.index],C=a.type;if(v&&0===o&&(D&&as(Gn(D),c),a.flags|=4),64!=(64&a.flags))if(8&C)fy(s,o,a.child,c,h,p,!1),pd(o,s,h,D,p);else if(32&C){const M=hd(a,c);let F;for(;F=M();)pd(o,s,h,F,p);pd(o,s,h,D,p)}else 16&C?Wb(s,o,c,a,h,p):pd(o,s,h,D,p);a=v?a.projectionNext:a.next}}function Uf(s,o,a,c,h,p){fy(a,c,s.firstChild,o,h,p,!1)}function Wb(s,o,a,c,h,p){const v=a[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)pd(o,s,h,C[M],p);else fy(s,o,C,v[3],h,p,!0)}function zb(s,o,a){s.setAttribute(o,"style",a)}function Hg(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function qb(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const py="ng-template";function XE(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==qb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Gg(s){return 4===s.type&&s.value!==py}function Si(s,o,a){return o===(4!==s.type||a?s.value:py)}function gy(s,o,a){let c=4;const h=s.attrs||[],p=function eC(s){for(let o=0;o<s.length;o++)if(Is(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const C=o[D];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!Si(s,C,a)||""===C&&1===o.length){if(fo(c))return!1;v=!0}}else{const M=8&c?C:o[++D];if(8&c&&null!==s.attrs){if(!XE(s.attrs,M,a)){if(fo(c))return!1;v=!0}continue}const j=my(8&c?"class":C,h,Gg(s),a);if(-1===j){if(fo(c))return!1;v=!0;continue}if(""!==M){let Q;Q=j>p?"":h[j+1].toLowerCase();const oe=8&c?Q:null;if(oe&&-1!==qb(oe,M,0)||2&c&&M!==Q){if(fo(c))return!1;v=!0}}}}else{if(!v&&!fo(c)&&!fo(C))return!1;if(v&&fo(C))continue;v=!1,c=C|1&c}}return fo(c)||v}function fo(s){return 0==(1&s)}function my(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function Kb(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function vc(s,o,a=!1){for(let c=0;c<o.length;c++)if(gy(s,o[c],a))return!0;return!1}function Wg(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function lu(s,o){return s?":not("+o.trim()+")":o}function md(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&c){const D=s[++a];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!fo(v)&&(o+=lu(p,h),h=""),c=v,p=p||!fo(c);a++}return""!==h&&(o+=lu(p,h)),o}const Jt={};function zg(s){qg(St(),Fe(),U()+s,!1)}function qg(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Fn(o,p,a)}else{const p=s.preOrderHooks;null!==p&&is(o,p,0,a)}he(a)}const _y={\u0275\u0275defineInjectable:un,\u0275\u0275defineInjector:jt,\u0275\u0275inject:or,\u0275\u0275invalidFactoryDep:oc,resolveForwardRef:J};const tC=pe({provide:String,useValue:pe});function yy(s){return void 0!==s.useClass}function Hf(s){return void 0!==s.useFactory}const nC=Fs("Injectable",void 0,void 0,void 0,(s,o)=>function Qb(s,o){let a=null,c=null;s.hasOwnProperty(fi)||Object.defineProperty(s,fi,{get:()=>(null===a&&(a=_r().compileInjectable(_y,`ng:///${s.name}/\u0275prov.js`,function yd(s,o){const a=o||{providedIn:null},c={name:s.name,type:s,typeArgumentCount:0,providedIn:a.providedIn};return(yy(a)||Hf(a))&&void 0!==a.deps&&(c.deps=Je(a.deps)),yy(a)?c.useClass=a.useClass:function Yb(s){return tC in s}(a)?c.useValue=a.useValue:Hf(a)?c.useFactory=a.useFactory:function Gf(s){return void 0!==s.useExisting}(a)&&(c.useExisting=a.useExisting),c}(s,o))),a)}),s.hasOwnProperty(fr)||Object.defineProperty(s,fr,{get:()=>{if(null===c){const h=_r();c=h.compileFactory(_y,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:Zr(s),target:h.FactoryTarget.Injectable})}return c},configurable:!0})}(s,o));function Zg(s,o=null,a=null,c){const h=Jb(s,o,a,c);return h.resolveInjectorInitializers(),h}function Jb(s,o=null,a=null,c,h=new Set){const p=[a||Lt,ch(s)];return c=c||("object"==typeof s?void 0:ye(s)),new Br(p,o||ad(),c||null,h)}let cu=(()=>{class s{static create(a,c){if(Array.isArray(a))return Zg({name:""},c,a,"");{const h=a.name??"";return Zg({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Bn,s.NULL=new nu,s.\u0275prov=un({token:s,providedIn:"any",factory:()=>or(lh)}),s.__NG_ELEMENT_ID__=-1,s})();function vd(s){return s.length>1?" ("+function rC(s){const o=[];for(let a=0;a<s.length;++a){if(o.indexOf(s[a])>-1)return o.push(s[a]),o;o.push(s[a])}return o}(s.slice().reverse()).map(c=>ye(c.token)).join(" -> ")+")":""}function bc(s,o,a,c){const h=[o],p=a(h),v=c?function VE(s,o){const a=`${s} caused by: ${o instanceof Error?o.message:o}`,c=Error(a);return c[J_]=o,c}(p,c):Error(p);return v.addKey=bd,v.keys=h,v.injectors=[s],v.constructResolvingMessage=a,v[J_]=c,v}function bd(s,o){this.injectors.push(s),this.keys.push(o),this.message=this.constructResolvingMessage(this.keys)}function Wf(s,o){const a=[];for(let c=0,h=o.length;c<h;c++){const p=o[c];a.push(p&&0!=p.length?p.map(ye).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ye(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ye(s)+"' is decorated with Injectable.")}function eD(s,o){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${o}`)}class po{constructor(o,a){if(this.token=o,this.id=a,!o)throw new le(208,!1);this.displayName=ye(this.token)}static get(o){return Ch.get(J(o))}static get numberOfKeys(){return Ch.numberOfKeys}}class Kg{constructor(){this._allKeys=new Map}get(o){if(o instanceof po)return o;if(this._allKeys.has(o))return this._allKeys.get(o);const a=new po(o,po.numberOfKeys);return this._allKeys.set(o,a),a}get numberOfKeys(){return this._allKeys.size}}const Ch=new Kg;class zf{constructor(o,a,c){this.key=o,this.optional=a,this.visibility=c}static fromKey(o){return new zf(o,!1,null)}}const tD=[];class Ss{constructor(o,a,c){this.key=o,this.resolvedFactories=a,this.multiProvider=c,this.resolvedFactory=this.resolvedFactories[0]}}class by{constructor(o,a){this.factory=o,this.dependencies=a}}function Qg(s){let o,a;if(s.useClass){const c=J(s.useClass);o=ut().factory(c),a=du(c)}else s.useExisting?(o=c=>c,a=[zf.fromKey(po.get(s.useExisting))]):s.useFactory?(o=s.useFactory,a=function rD(s,o){if(o){const a=o.map(c=>[c]);return o.map(c=>iD(s,c,a))}return du(s)}(s.useFactory,s.deps)):(o=()=>s.useValue,a=tD);return new by(o,a)}function Yg(s){return new Ss(po.get(s.provide),[Qg(s)],s.multi||!1)}function nD(s){const c=function uu(s,o){for(let a=0;a<s.length;a++){const c=s[a],h=o.get(c.key.id);if(h){if(c.multiProvider!==h.multiProvider)throw eD(h,c);if(c.multiProvider)for(let p=0;p<c.resolvedFactories.length;p++)h.resolvedFactories.push(c.resolvedFactories[p]);else o.set(c.key.id,c)}else{let p;p=c.multiProvider?new Ss(c.key,c.resolvedFactories.slice(),c.multiProvider):c,o.set(c.key.id,p)}}return o}(Dd(s,[]).map(Yg),new Map);return Array.from(c.values())}function Dd(s,o){return s.forEach(a=>{if(a instanceof ma)o.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)o.push(a);else{if(!Array.isArray(a))throw function vy(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);Dd(a,o)}}),o}function du(s){const o=ut().parameters(s);if(!o)return[];if(o.some(a=>null==a))throw Wf(s,o);return o.map(a=>iD(s,a,o))}function iD(s,o,a){let c=null,h=!1;if(!Array.isArray(o))return hu(o instanceof je?o.token:o,h,null);let p=null;for(let v=0;v<o.length;++v){const D=o[v];D instanceof ma?c=D:D instanceof je?c=D.token:D instanceof re?h=!0:D instanceof it||D instanceof Tt?p=D:D instanceof kn&&(c=D)}if(c=J(c),null!=c)return hu(c,h,p);throw Wf(s,a)}function hu(s,o,a){return new zf(po.get(s),o,a)}const Th={};class go{static resolve(o){return nD(o)}static resolveAndCreate(o,a){const c=go.resolve(o);return go.fromResolvedProviders(c,a)}static fromResolvedProviders(o,a){return new sD(o,a)}}let sD=(()=>{class s{constructor(a,c){this._constructionCounter=0,this._providers=a,this.parent=c||null;const h=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<h;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=Th}get(a,c=Bn){return this._getByKey(po.get(a),null,c)}resolveAndCreateChild(a){const c=go.resolve(a);return this.createChildFromResolved(c)}createChildFromResolved(a){const c=new s(a);return c.parent=this,c}resolveAndInstantiate(a){return this.instantiateResolved(go.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function oC(s){return Error(`Index ${s} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function iC(s,o){return bc(s,o,function(a){return`Cannot instantiate cyclic dependency!${vd(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const c=[];for(let h=0;h<a.resolvedFactories.length;++h)c[h]=this._instantiate(a,a.resolvedFactories[h]);return c}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,c){const h=c.factory;let p,v;try{p=c.dependencies.map(D=>this._getByReflectiveDependency(D))}catch(D){throw D.addKey&&D.addKey(this,a.key),D}try{v=h(...p)}catch(D){throw function sC(s,o,a,c){return bc(s,c,function(h){const p=ye(h[0].token);return`${o.message}: Error during instantiation of ${p}!${vd(h)}.`},o)}(this,D,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Bn)}_getByKey(a,c,h){return a===s.INJECTOR_KEY?this:c instanceof it?this._getByKeySelf(a,h):this._getByKeyDefault(a,h,c)}_getObjByKeyId(a){for(let c=0;c<this.keyIds.length;c++)if(this.keyIds[c]===a)return this.objs[c]===Th&&(this.objs[c]=this._new(this._providers[c])),this.objs[c];return Th}_throwOrNull(a,c){if(c!==Bn)return c;throw function Xb(s,o){return bc(s,o,function(a){return`No provider for ${ye(a[0].token)}!${vd(a)}`})}(this,a)}_getByKeySelf(a,c){const h=this._getObjByKeyId(a.id);return h!==Th?h:this._throwOrNull(a,c)}_getByKeyDefault(a,c,h){let p;for(p=h instanceof Tt?this.parent:this;p instanceof s;){const v=p,D=v._getObjByKeyId(a.id);if(D!==Th)return D;p=v.parent}return null!==p?p.get(a.token,c):this._throwOrNull(a,c)}get displayName(){return`ReflectiveInjector(providers: [${function aC(s,o){const a=[];for(let c=0;c<s._providers.length;++c)a[c]=o(s.getProviderAtIndex(c));return a}(this,c=>' "'+c.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return s.INJECTOR_KEY=po.get(cu),s})();function Sh(s,o=at.Default){const a=Fe();return null===a?or(s,o):ui(Pn(),a,J(s),o)}function oD(){throw new Error("invalid")}function wd(s,o){return s<<17|o<<2}function Ko(s){return s>>17&32767}function Dy(s){return 2|s}function Sl(s){return(131068&s)>>2}function Dc(s,o){return-131069&s|o<<2}function Jg(s){return 1|s}function Cy(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const v=s.data[p];la(h),v.contentQueries(2,o[p],p)}}}function Id(s,o,a,c,h,p,v,D,C,M,F){const j=o.blueprint.slice();return j[0]=h,j[2]=76|c,(null!==F||s&&1024&s[2])&&(j[2]|=1024),No(j),j[3]=j[15]=s,j[8]=a,j[10]=v||s&&s[10],j[11]=D||s&&s[11],j[12]=C||s&&s[12]||null,j[9]=M||s&&s[9]||null,j[6]=p,j[20]=function Cb(){return Eb++}(),j[21]=F,j[16]=2==o.type?s[16]:j,j}function Nl(s,o,a,c,h){let p=s.data[o];if(null===p)p=Rh(s,o,a,c,h),function Hc(){return Rt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const v=eo();p.injectorIndex=null===v?-1:v.injectorIndex}return oi(p,!0),p}function Rh(s,o,a,c,h){const p=Ka(),v=sa(),C=s.data[o]=function DD(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}function mu(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Qf(s,o,a){Xa(o);try{const c=s.viewQuery;null!==c&&rp(1,c,a);const h=s.template;null!==h&&Sy(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Cy(s,o),s.staticViewQueries&&rp(2,s.viewQuery,a);const p=s.components;null!==p&&function Ty(s,o){for(let a=0;a<o.length;a++)wC(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,R()}}function Oh(s,o,a,c){const h=o[2];if(128!=(128&h)){Xa(o);try{No(o),Fo(s.bindingStartIndex),null!==a&&Sy(s,o,a,2,c);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Fn(o,M,null)}else{const M=s.preOrderHooks;null!==M&&is(o,M,0,null),li(o,0)}if(function kh(s){for(let o=Zo(s);null!==o;o=Vf(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(512&h[2])&&Vn(p,1),h[2]|=512}}}(o),function TD(s){for(let o=Zo(s);null!==o;o=Vf(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];vs(c)&&Oh(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Cy(s,o),v){const M=s.contentCheckHooks;null!==M&&Fn(o,M)}else{const M=s.contentHooks;null!==M&&is(o,M,1),li(o,1)}!function Ey(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)he(~h);else{const p=h,v=a[++c],D=a[++c];Ya(v,p),D(2,o[p])}}}finally{he(-1)}}(s,o);const D=s.components;null!==D&&function _D(s,o){for(let a=0;a<o.length;a++)Ly(s,o[a])}(o,D);const C=s.viewQuery;if(null!==C&&rp(2,C,c),v){const M=s.viewCheckHooks;null!==M&&Fn(o,M)}else{const M=s.viewHooks;null!==M&&is(o,M,2),li(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Vn(o[3],-1))}finally{R()}}}function Sy(s,o,a,c,h){const p=U(),v=2&c;try{he(-1),v&&o.length>22&&qg(s,o,22,!1),Gr(v?2:0,h),a(c,h)}finally{he(p),Gr(v?3:1,h)}}function yD(s,o,a){if(Mt(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function om(s,o,a){!bs()||(function cm(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Es(a,o),as(c,o);const v=a.initialInputs;for(let D=h;D<p;D++){const C=s.data[D],M=rr(C);M&&ky(o,a,C);const F=ji(o,s,D,a);as(F,o),null!==v&&DC(0,D-h,F,C,0,v),M&&(sn(a.index,o)[8]=F)}}(s,o,a,gr(a,o)),128==(128&a.flags)&&function ep(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,v=function Ja(){return Rt.lFrame.currentDirectiveIndex}();try{he(p);for(let D=c;D<h;D++){const C=s.data[D],M=o[D];aa(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&um(C,M)}}finally{he(-1),aa(v)}}(s,o,a))}function Ny(s,o,a=gr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],D=-1===v?a(o,s):s[v];s[h++]=D}}}function vD(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ay(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ay(s,o,a,c,h,p,v,D,C,M){const F=22+c,j=F+h,Q=function bD(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Jt);return a}(F,j),oe="function"==typeof M?M():M;return Q[1]={type:s,blueprint:Q,template:a,queries:null,viewQuery:D,declTNode:o,data:Q.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:oe,incompleteFirstPass:!1}}function am(s,o,a,c){const h=fm(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&ND(s).push(c,h.length-1))}function wD(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function ID(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,v=[];let D=null,C=null;for(let M=o.directiveStart;M<c;M++){const F=h[M],j=F.inputs,Q=null===p||Gg(o)?null:Py(j,p);v.push(Q),D=wD(j,M,D),C=wD(F.outputs,M,C)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=C}function mo(s,o,a,c,h,p,v,D){const C=gr(o,a);let F,M=o.inputs;!D&&null!=M&&(F=M[c])?(ip(s,a,F,c,h),ys(o)&&lm(a,o.index)):3&o.type&&(c=function vC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,p.setProperty(C,c,h))}function lm(s,o){const a=sn(o,s);16&a[2]||(a[2]|=32)}function Xf(s,o,a,c){let h=!1;if(bs()){const p=function ED(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];vc(a,v.selectors,!1)&&(h||(h=[]),ua(Es(a,o),s,v.type),rr(v)?(dm(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===c?null:{"":-1};if(null!==p){h=!0,Oy(a,s.data.length,p.length);for(let F=0;F<p.length;F++){const j=p[F];j.providersResolver&&j.providersResolver(j)}let D=!1,C=!1,M=mu(s,o,p.length,null);for(let F=0;F<p.length;F++){const j=p[F];a.mergedAttrs=rl(a.mergedAttrs,j.hostAttrs),CD(s,a,o,M,j),wc(M,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const Q=j.type.prototype;!D&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!C&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),M++}ID(s,a)}v&&function Ry(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new le(-301,!1);c.push(o[h],p)}}}(a,c,v)}return a.mergedAttrs=rl(a.mergedAttrs,a.attrs),h}function Ed(s,o,a,c,h,p){const v=p.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const C=~o.index;(function xy(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=C&&D.push(C),D.push(c,h,v)}}function um(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function dm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function wc(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;rr(o)&&(a[""]=s)}}function Oy(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function CD(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=es(h.type)),v=new Li(p,rr(h),Sh);s.blueprint[c]=v,a[c]=v,Ed(s,o,0,c,mu(s,a,h.hostVars,Jt),h)}function ky(s,o,a){const c=gr(o,s),h=vD(a),p=s[10],v=np(s,Id(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=v}function Al(s,o,a,c,h,p){const v=gr(s,o);tp(o[11],v,p,s.value,a,c,h)}function tp(s,o,a,c,h,p,v){if(null==p)s.removeAttribute(o,h,a);else{const D=null==v?me(p):v(p,c||"",h);s.setAttribute(o,h,D,a)}}function DC(s,o,a,c,h,p){const v=p[o];if(null!==v){const D=c.setInput;for(let C=0;C<v.length;){const M=v[C++],F=v[C++],j=v[C++];null!==D?c.setInput(a,j,M,F):a[F]=j}}}function Py(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function hm(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function Ly(s,o){const a=sn(o,s);if(vs(a)){const c=a[1];48&a[2]?Oh(c,a,c.template,a[8]):a[5]>0&&Vy(a)}}function Vy(s){for(let c=Zo(s);null!==c;c=Vf(c))for(let h=10;h<c.length;h++){const p=c[h];if(vs(p))if(512&p[2]){const v=p[1];Oh(v,p,v.template,p[8])}else p[5]>0&&Vy(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=sn(a[c],s);vs(h)&&h[5]>0&&Vy(h)}}function wC(s,o){const a=sn(o,s),c=a[1];(function SD(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Qf(c,a,a[8])}function np(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function By(s){for(;s;){s[2]|=32;const o=fd(s);if(Fc(s)&&!o)return s;s=o}return null}function Ph(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{Oh(s,o,s.template,a)}catch(v){throw c&&jy(o,v),v}finally{h.end&&h.end()}}function rp(s,o,a){la(0),o(s,a)}function fm(s){return s[7]||(s[7]=[])}function ND(s){return s.cleanup||(s.cleanup=[])}function pm(s,o,a){return(null===s||rr(s))&&(a=function Os(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function jy(s,o){const a=s[9],c=a?a.get(au,null):null;c&&c.handleError(o)}function ip(s,o,a,c,h){for(let p=0;p<a.length;){const v=a[p++],D=a[p++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,c,D):C[D]=h}}function ka(s,o,a){const c=vi(o,s);iy(s[11],c,a)}function Fh(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?p=D:1==p?h=ve(h,D):2==p&&(c=ve(c,D+": "+o[++v]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function Ic(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Gn(p)),wr(p))for(let D=10;D<p.length;D++){const C=p[D],M=C[1].firstChild;null!==M&&Ic(C[1],C,M,c)}const v=a.type;if(8&v)Ic(s,o,a.child,c);else if(32&v){const D=hd(a,o);let C;for(;C=D();)c.push(C)}else if(16&v){const D=Hb(o,a);if(Array.isArray(D))c.push(...D);else{const C=fd(o[16]);Ic(C[1],C,D,c,!0)}}a=h?a.projectionNext:a.next}return c}class _o{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ic(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(wr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(jg(o,c),ya(a,c))}this._attachedToViewContainer=!1}Lb(this._lView[1],this._lView)}onDestroy(o){am(this._lView[1],this._lView,null,o)}markForCheck(){By(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ph(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zE(s,o){Uf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=o}}class Uy extends _o{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Ph(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class _u extends ou{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ne(o);return new Vh(a,this.ngModule)}}function Cd(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Lh{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,At,c);return h!==At||a===At?h:this.parentInjector.get(o,a,c)}}class Vh extends iu{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function _d(s){return s.map(md).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Cd(this.componentDef.inputs)}get outputs(){return Cd(this.componentDef.outputs)}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof Gi?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Lh(o,p):o,D=v.get(x,null);if(null===D)throw new le(407,!1);const C=v.get(Ee,null),M=D.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",j=c?function Yf(s,o,a){return s.selectRootElement(o,a===wt.ShadowDom)}(M,c,this.componentDef.encapsulation):sy(D.createRenderer(null,this.componentDef),F,function AD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),Q=this.componentDef.onPush?288:272,oe=Ay(0,null,null,1,0,null,null,null,null,null),xe=Id(null,oe,null,Q,null,null,D,M,C,v,null);let Ze,rt;Xa(xe);try{const bt=function $y(s,o,a,c,h,p){const v=a[1];a[22]=s;const C=Nl(v,22,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(Fh(C,M,!0),null!==s&&(ca(h,s,M),null!==C.classes&&Hg(h,s,C.classes),null!==C.styles&&zb(h,s,C.styles)));const F=c.createRenderer(s,o),j=Id(a,vD(o),null,o.onPush?32:16,a[22],C,c,F,p||null,null,null);return v.firstCreatePass&&(ua(Es(C,a),v,o.type),dm(v,C),Oy(C,a.length,1)),np(a,j),a[22]=j}(j,this.componentDef,xe,D,M);if(j)if(c)ca(M,j,["ng-version",gt.full]);else{const{attrs:Ot,classes:Ue}=function $f(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!fo(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ot&&ca(M,j,Ot),Ue&&Ue.length>0&&Hg(M,j,Ue.join(" "))}if(rt=Ys(oe,22),void 0!==a){const Ot=rt.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Ut=a[Ue];Ot.push(null!=Ut?Array.from(Ut):null)}}Ze=function EC(s,o,a,c){const h=a[1],p=function Jf(s,o,a){const c=Pn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),CD(s,c,o,mu(s,o,1,null),a),ID(s,c));const h=ji(o,s,c.directiveStart,c);as(h,o);const p=gr(c,o);return p&&as(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==c)for(const D of c)D(p,o);if(o.contentQueries){const D=Pn();o.contentQueries(1,p,D.directiveStart)}const v=Pn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(he(v.index),Ed(a[1],v,0,v.directiveStart,v.directiveEnd,o),um(o,p)),p}(bt,this.componentDef,xe,[RD]),Qf(oe,xe,null)}finally{R()}return new gm(this.componentType,Ze,_(rt,xe),xe,rt)}}class gm extends xf{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Uy(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;ip(p[1],p,h,o,a),lm(p,this._tNode.index)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function RD(){const s=Pn();Dn(Fe()[1],s)}function mm(s){return Object.getPrototypeOf(s.prototype).constructor}function sp(s){let o=mm(s.type),a=!0;const c=[s];for(;o;){let h;if(rr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new le(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const v=s;v.inputs=_m(s.inputs),v.declaredInputs=_m(s.declaredInputs),v.outputs=_m(s.outputs);const D=h.hostBindings;D&&kD(s,D);const C=h.viewQuery,M=h.contentQueries;if(C&&TC(s,C),M&&OD(s,M),De(s.inputs,h.inputs),De(s.declaredInputs,h.declaredInputs),De(s.outputs,h.outputs),rr(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(s),D===sp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function CC(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=rl(h.hostAttrs,a=rl(a,h.hostAttrs))}}(c)}function _m(s){return s===ni?{}:s===Lt?[]:s}function TC(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function OD(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function kD(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}const PD=["providersResolver"],FD=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function LD(s){let a,o=mm(s.type);a=rr(s)?o.\u0275cmp:o.\u0275dir;const c=s;for(const h of PD)c[h]=a[h];if(rr(a))for(const h of FD)c[h]=a[h]}let ym=null;function Td(){if(!ym){const s=Cn.Symbol;if(s&&s.iterator)ym=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ym=c)}}}return ym}function Sd(s){return!!Wy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Td()in s)}function Wy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function vm(s,o){const a=Sd(s),c=Sd(o);return a&&c?function Hy(s,o,a){const c=s[Td()](),h=o[Td()]();for(;;){const p=c.next(),v=h.next();if(p.done&&v.done)return!0;if(p.done||v.done||!a(p.value,v.value))return!1}}(s,o,vm):!(a||!s||"object"!=typeof s&&"function"!=typeof s||c||!o||"object"!=typeof o&&"function"!=typeof o)||Object.is(s,o)}function Ml(s,o,a){return s[o]=a}function Nd(s,o){return s[o]}function Wi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Ec(s,o,a,c){const h=Wi(s,o,a);return Wi(s,o+1,c)||h}function op(s,o,a,c,h){const p=Ec(s,o,a,c);return Wi(s,o+2,h)||p}function Qo(s,o,a,c,h,p){const v=Ec(s,o,a,c);return Ec(s,o+2,h,p)||v}function ap(s,o,a,c){const h=Fe();return Wi(h,rs(),o)&&(St(),Al(we(),h,s,o,a,c)),ap}function Bh(s,o){let a=!1,c=ns();for(let p=1;p<o.length;p+=2)a=Wi(s,c++,o[p])||a;if(Fo(c),!a)return Jt;let h=o[0];for(let p=1;p<o.length;p+=2)h+=me(o[p])+o[p+1];return h}function yu(s,o,a,c){return Wi(s,rs(),a)?o+me(a)+c:Jt}function jh(s,o,a,c,h,p){const D=Ec(s,ns(),a,h);return ai(2),D?o+me(a)+c+me(h)+p:Jt}function vu(s,o,a,c,h,p,v,D){const M=op(s,ns(),a,h,v);return ai(3),M?o+me(a)+c+me(h)+p+me(v)+D:Jt}function Uh(s,o,a,c,h,p,v,D,C,M){const j=Qo(s,ns(),a,h,v,C);return ai(4),j?o+me(a)+c+me(h)+p+me(v)+D+me(C)+M:Jt}function bu(s,o,a,c,h,p,v,D,C,M,F,j){const Q=ns();let oe=Qo(s,Q,a,h,v,C);return oe=Wi(s,Q+4,F)||oe,ai(5),oe?o+me(a)+c+me(h)+p+me(v)+D+me(C)+M+me(F)+j:Jt}function Du(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe){const xe=ns();let Ze=Qo(s,xe,a,h,v,C);return Ze=Ec(s,xe+4,F,Q)||Ze,ai(6),Ze?o+me(a)+c+me(h)+p+me(v)+D+me(C)+M+me(F)+j+me(Q)+oe:Jt}function wu(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze){const rt=ns();let bt=Qo(s,rt,a,h,v,C);return bt=op(s,rt+4,F,Q,xe)||bt,ai(7),bt?o+me(a)+c+me(h)+p+me(v)+D+me(C)+M+me(F)+j+me(Q)+oe+me(xe)+Ze:Jt}function Pa(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt){const Ot=ns();let Ue=Qo(s,Ot,a,h,v,C);return Ue=Qo(s,Ot+4,F,Q,xe,rt)||Ue,ai(8),Ue?o+me(a)+c+me(h)+p+me(v)+D+me(C)+M+me(F)+j+me(Q)+oe+me(xe)+Ze+me(rt)+bt:Jt}function bm(s,o,a,c,h,p){const v=Fe(),D=yu(v,o,a,c);return D!==Jt&&Al(we(),v,s,D,h,p),bm}function lp(s,o,a,c,h,p,v,D){const C=Fe(),M=jh(C,o,a,c,h,p);return M!==Jt&&Al(we(),C,s,M,v,D),lp}function zy(s,o,a,c,h,p,v,D,C,M){const F=Fe(),j=vu(F,o,a,c,h,p,v,D);return j!==Jt&&Al(we(),F,s,j,C,M),zy}function cp(s,o,a,c,h,p,v,D,C,M,F,j){const Q=Fe(),oe=Uh(Q,o,a,c,h,p,v,D,C,M);return oe!==Jt&&Al(we(),Q,s,oe,F,j),cp}function Fa(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe){const xe=Fe(),Ze=bu(xe,o,a,c,h,p,v,D,C,M,F,j);return Ze!==Jt&&Al(we(),xe,s,Ze,Q,oe),Fa}function up(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze){const rt=Fe(),bt=Du(rt,o,a,c,h,p,v,D,C,M,F,j,Q,oe);return bt!==Jt&&Al(we(),rt,s,bt,xe,Ze),up}function qy(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt){const Ot=Fe(),Ue=wu(Ot,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze);return Ue!==Jt&&Al(we(),Ot,s,Ue,rt,bt),qy}function dp(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt,Ot,Ue){const Ut=Fe(),Sn=Pa(Ut,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt);return Sn!==Jt&&Al(we(),Ut,s,Sn,Ot,Ue),dp}function Zy(s,o,a,c){const h=Fe(),p=Bh(h,o);return p!==Jt&&Al(we(),h,s,p,a,c),Zy}function VD(s){const o=X_(s);Ph(o[1],o,s)}function BD(s,o,a,c,h,p,v,D){const C=Fe(),M=St(),F=s+22,j=M.firstCreatePass?function Ky(s,o,a,c,h,p,v,D,C){const M=o.consts,F=Nl(o,s,4,v||null,si(M,D));Xf(o,a,F,si(M,C)),Dn(o,F);const j=F.tViews=Ay(2,F,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,F),j.queries=o.queries.embeddedTView(F)),F}(F,M,C,o,a,c,h,p,v):M.data[F];oi(j,!1);const Q=C[11].createComment("");Ug(M,C,Q,j),as(Q,C),np(C,C[F]=hm(Q,C,Q,j)),qs(j)&&om(M,C,j),null!=v&&Ny(C,j,D)}function Dm(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}function jD(s){return bi(function Po(){return Rt.lFrame.contextLView}(),22+s)}function hp(s,o,a){const c=Fe();return Wi(c,rs(),o)&&mo(St(),we(),c,s,o,c[11],a,!1),hp}function Qy(s,o,a,c,h){const v=h?"class":"style";ip(s,a,o.inputs[v],v,c)}function fp(s,o,a,c){const h=Fe(),p=St(),v=22+s,D=h[11],C=h[v]=sy(D,o,function nn(){return Rt.lFrame.currentNamespace}()),M=p.firstCreatePass?function Yy(s,o,a,c,h,p,v){const D=o.consts,M=Nl(o,s,2,h,si(D,p));return Xf(o,a,M,si(D,v)),null!==M.attrs&&Fh(M,M.attrs,!1),null!==M.mergedAttrs&&Fh(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,p,h,0,o,a,c):p.data[v];oi(M,!0);const F=M.mergedAttrs;null!==F&&ca(D,C,F);const j=M.classes;null!==j&&Hg(D,C,j);const Q=M.styles;return null!==Q&&zb(D,C,Q),64!=(64&M.flags)&&Ug(p,h,C,M),0===function Mo(){return Rt.lFrame.elementDepthCount}()&&as(C,h),function xo(){Rt.lFrame.elementDepthCount++}(),qs(M)&&(om(p,h,M),yD(p,M,h)),null!==c&&Ny(h,M),fp}function $h(){let s=Pn();sa()?ko():(s=s.parent,oi(s,!1));const o=s;!function Ro(){Rt.lFrame.elementDepthCount--}();const a=St();return a.firstCreatePass&&(Dn(a,s),Mt(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Kd(s){return 0!=(16&s.flags)}(o)&&Qy(a,o,Fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gf(s){return 0!=(32&s.flags)}(o)&&Qy(a,o,Fe(),o.stylesWithoutHost,!1),$h}function wm(s,o,a,c){return fp(s,o,a,c),$h(),wm}function Im(s,o,a){const c=Fe(),h=St(),p=s+22,v=h.firstCreatePass?function SC(s,o,a,c,h){const p=o.consts,v=si(p,c),D=Nl(o,s,8,"ng-container",v);return null!==v&&Fh(D,v,!0),Xf(o,a,D,si(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,c,o,a):h.data[p];oi(v,!0);const D=c[p]=c[11].createComment("");return Ug(h,c,D,v),as(D,c),qs(v)&&(om(h,c,v),yD(h,v,c)),null!=a&&Ny(c,v),Im}function Hh(){let s=Pn();const o=St();return sa()?ko():(s=s.parent,oi(s,!1)),o.firstCreatePass&&(Dn(o,s),Mt(s)&&o.queries.elementEnd(s)),Hh}function Jy(s,o,a){return Im(s,o,a),Hh(),Jy}function Em(){return Fe()}function pp(s){return!!s&&"function"==typeof s.then}function Cm(s){return!!s&&"function"==typeof s.subscribe}const UD=Cm;function Tm(s,o,a,c){const h=Fe(),p=St(),v=Pn();return Nm(p,h,h[11],v,s,o,0,c),Tm}function Sm(s,o){const a=Pn(),c=Fe(),h=St();return Nm(h,c,pm(Lo(h.data),a,c),a,s,o),Sm}function Nm(s,o,a,c,h,p,v,D){const C=qs(c),F=s.firstCreatePass&&ND(s),j=o[8],Q=fm(o);let oe=!0;if(3&c.type||D){const rt=gr(c,o),bt=D?D(rt):rt,Ot=Q.length,Ue=D?Sn=>D(Gn(Sn[c.index])):c.index;let Ut=null;if(!D&&C&&(Ut=function NC(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===c){const D=o[7],C=h[p+2];return D.length>C?D[C]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,c.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=p,Ut.__ngLastListenerFn__=p,oe=!1;else{p=Xy(c,o,j,p,!1);const Sn=a.listen(bt,h,p);Q.push(p,Sn),F&&F.push(h,Ue,Ot,Ot+1)}}else p=Xy(c,o,j,p,!1);const xe=c.outputs;let Ze;if(oe&&null!==xe&&(Ze=xe[h])){const rt=Ze.length;if(rt)for(let bt=0;bt<rt;bt+=2){const ur=o[Ze[bt]][Ze[bt+1]].subscribe(p),Mc=Q.length;Q.push(p,ur),F&&F.push(h,c.index,Mc,-(Mc+1))}}}function Am(s,o,a,c){try{return Gr(6,o,a),!1!==a(c)}catch(h){return jy(s,h),!1}finally{Gr(7,o,a)}}function Xy(s,o,a,c,h){return function p(v){if(v===Function)return c;By(2&s.flags?sn(s.index,o):o);let C=Am(o,a,c,v),M=p.__ngNextListenerFn__;for(;M;)C=Am(o,a,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function ev(s=1){return function T(s){return(Rt.lFrame.contextLView=function P(s,o){for(;s>0;)o=o[15],s--;return o}(s,Rt.lFrame.contextLView))[8]}(s)}function $D(s,o){let a=null;const c=function Zb(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?vc(s,p,!0):Wg(c,p))return h}else a=h}return a}function gp(s){const o=Fe()[16][6];if(!o.projection){const c=o.projection=Ls(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const v=s?$D(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:c[v]=p,h[v]=p),p=p.next}}}function yn(s,o=0,a){const c=Fe(),h=St(),p=Nl(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),ko(),64!=(64&p.flags)&&function KE(s,o,a){Wb(o[11],0,o,a,Vb(s,a,o),jf(a.parent||o[6],a,o))}(h,c,p)}function Mm(s,o,a){return mp(s,"",o,"",a),Mm}function mp(s,o,a,c,h){const p=Fe(),v=yu(p,o,a,c);return v!==Jt&&mo(St(),we(),p,s,v,p[11],h,!1),mp}function xm(s,o,a,c,h,p,v){const D=Fe(),C=jh(D,o,a,c,h,p);return C!==Jt&&mo(St(),we(),D,s,C,D[11],v,!1),xm}function Ad(s,o,a,c,h,p,v,D,C){const M=Fe(),F=vu(M,o,a,c,h,p,v,D);return F!==Jt&&mo(St(),we(),M,s,F,M[11],C,!1),Ad}function Rm(s,o,a,c,h,p,v,D,C,M,F){const j=Fe(),Q=Uh(j,o,a,c,h,p,v,D,C,M);return Q!==Jt&&mo(St(),we(),j,s,Q,j[11],F,!1),Rm}function Yn(s,o,a,c,h,p,v,D,C,M,F,j,Q){const oe=Fe(),xe=bu(oe,o,a,c,h,p,v,D,C,M,F,j);return xe!==Jt&&mo(St(),we(),oe,s,xe,oe[11],Q,!1),Yn}function Ni(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe){const Ze=Fe(),rt=Du(Ze,o,a,c,h,p,v,D,C,M,F,j,Q,oe);return rt!==Jt&&mo(St(),we(),Ze,s,rt,Ze[11],xe,!1),Ni}function Yo(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt){const bt=Fe(),Ot=wu(bt,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze);return Ot!==Jt&&mo(St(),we(),bt,s,Ot,bt[11],rt,!1),Yo}function Om(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt,Ot){const Ue=Fe(),Ut=Pa(Ue,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt);return Ut!==Jt&&mo(St(),we(),Ue,s,Ut,Ue[11],Ot,!1),Om}function tv(s,o,a){const c=Fe(),h=Bh(c,o);return h!==Jt&&mo(St(),we(),c,s,h,c[11],a,!1),tv}function iv(s,o,a,c,h){const p=s[a+1],v=null===o;let D=c?Ko(p):Sl(p),C=!1;for(;0!==D&&(!1===C||v);){const F=s[D+1];km(s[D],o)&&(C=!0,s[D+1]=c?Jg(F):Dy(F)),D=c?Ko(F):Sl(F)}C&&(s[a+1]=c?Dy(p):Jg(p))}function km(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Vs(s,o)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AC(s){return s.substring(di.key,di.keyEnd)}function MC(s){return s.substring(di.value,di.valueEnd)}function GD(s,o){const a=di.textEnd;return a===o?-1:(o=di.keyEnd=function zD(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,di.key=o,a),Iu(s,o,a))}function WD(s,o){const a=di.textEnd;let c=di.key=Iu(s,o,a);return a===c?-1:(c=di.keyEnd=function ov(s,o,a){let c;for(;o<a&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,a),c=Pm(s,c,a),c=di.value=Iu(s,c,a),c=di.valueEnd=function av(s,o,a){let c=-1,h=-1,p=-1,v=o,D=v;for(;v<a;){const C=s.charCodeAt(v++);if(59===C)return D;34===C||39===C?D=v=_p(s,C,v,a):o===v-4&&85===p&&82===h&&76===c&&40===C?D=v=_p(s,41,v,a):C>32&&(D=v),p=h,h=c,c=-33&C}return D}(s,c,a),Pm(s,c,a))}function sv(s){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=s.length}function Iu(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Pm(s,o,a,c){return(o=Iu(s,o,a))<a&&o++,o}function _p(s,o,a,c){let h=-1,p=a;for(;p<c;){const v=s.charCodeAt(p++);if(v==o&&92!==h)return p;h=92==v&&92===h?0:v}throw new Error}function Fm(s,o,a){return vo(s,o,a,!1),Fm}function Gh(s,o){return vo(s,o,null,!0),Gh}function yo(s){La(Lm,lv,s,!1)}function lv(s,o){for(let a=function RC(s){return sv(s),WD(s,Iu(s,0,di.textEnd))}(o);a>=0;a=WD(o,a))Lm(s,AC(o),MC(o))}function cv(s){La(wi,Ns,s,!0)}function Ns(s,o){for(let a=function xC(s){return sv(s),GD(s,Iu(s,0,di.textEnd))}(o);a>=0;a=GD(o,a))wi(s,AC(o),!0)}function vo(s,o,a,c){const h=Fe(),p=St(),v=ai(2);p.firstUpdatePass&&KD(p,s,v,c),o!==Jt&&Wi(h,v,o)&&JD(p,p.data[U()],h,h[11],s,h[v+1]=function IS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(de(s)))),s}(o,a),c,v)}function La(s,o,a,c){const h=St(),p=ai(2);h.firstUpdatePass&&KD(h,null,p,c);const v=Fe();if(a!==Jt&&Wi(v,p,a)){const D=h.data[U()];if(Mr(D,c)&&!ZD(h,p)){let C=c?D.classesWithoutHost:D.stylesWithoutHost;null!==C&&(a=ve(C,a||"")),Qy(h,D,v,a,c)}else!function FC(s,o,a,c,h,p,v,D){h===Jt&&(h=Lt);let C=0,M=0,F=0<h.length?h[0]:null,j=0<p.length?p[0]:null;for(;null!==F||null!==j;){const Q=C<h.length?h[C+1]:void 0,oe=M<p.length?p[M+1]:void 0;let Ze,xe=null;F===j?(C+=2,M+=2,Q!==oe&&(xe=j,Ze=oe)):null===j||null!==F&&F<j?(C+=2,xe=F):(M+=2,xe=j,Ze=oe),null!==xe&&JD(s,o,a,c,xe,Ze,v,D),F=C<h.length?h[C]:null,j=M<p.length?p[M]:null}}(h,D,v,v[11],v[p+1],v[p+1]=function PC(s,o,a){if(null==a||""===a)return Lt;const c=[],h=de(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}function ZD(s,o){return o>=s.expandoStartIndex}function KD(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[U()],v=ZD(s,a);Mr(p,c)&&null===o&&!v&&(o=!1),o=function QD(s,o,a,c){const h=Lo(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=yp(a=uv(null,s,o,a,c),o.attrs,c),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=uv(h,s,o,a,c),null===p){let C=function OC(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Sl(c))return s[Ko(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=uv(null,s,o,C[1],c),C=yp(C,o.attrs,c),function YD(s,o,a,c){s[Ko(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function kC(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=yp(c,s[p].hostAttrs,a);return yp(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function HD(s,o,a,c,h,p){let v=p?o.classBindings:o.styleBindings,D=Ko(v),C=Sl(v);s[c]=a;let F,M=!1;if(Array.isArray(a)){const j=a;F=j[1],(null===F||Vs(j,F)>0)&&(M=!0)}else F=a;if(h)if(0!==C){const Q=Ko(s[D+1]);s[c+1]=wd(Q,D),0!==Q&&(s[Q+1]=Dc(s[Q+1],c)),s[D+1]=function cD(s,o){return 131071&s|o<<17}(s[D+1],c)}else s[c+1]=wd(D,0),0!==D&&(s[D+1]=Dc(s[D+1],c)),D=c;else s[c+1]=wd(C,0),0===D?D=c:s[C+1]=Dc(s[C+1],c),C=c;M&&(s[c+1]=Dy(s[c+1])),iv(s,F,c,!0),iv(s,F,c,!1),function rv(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Vs(p,o)>=0&&(a[c+1]=Jg(a[c+1]))}(o,F,s,c,p),v=wd(D,C),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,c)}}function uv(s,o,a,c,h){let p=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(p=o[D],c=yp(c,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),c}function yp(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),wi(s,v,!!a||o[++p]))}return void 0===s?null:s}function Lm(s,o,a){wi(s,o,de(a))}function JD(s,o,a,c,h,p,v,D){if(!(3&o.type))return;const C=s.data,M=C[D+1];dv(function Nh(s){return 1==(1&s)}(M)?nr(C,o,a,h,Sl(M),v):void 0)||(dv(p)||function lD(s){return 2==(2&s)}(M)&&(p=nr(C,null,a,h,D,v)),function YE(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Tl.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Tl.Important),s.setStyle(a,c,h,p))}}(c,v,vi(U(),a),h,p))}function nr(s,o,a,c,h,p){const v=null===o;let D;for(;h>0;){const C=s[h],M=Array.isArray(C),F=M?C[1]:C,j=null===F;let Q=a[h+1];Q===Jt&&(Q=j?Lt:void 0);let oe=j?ul(Q,c):F===c?Q:void 0;if(M&&!dv(oe)&&(oe=ul(C,c)),dv(oe)&&(D=oe,v))return D;const xe=s[h+1];h=v?Ko(xe):Sl(xe)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(D=ul(C,c))}return D}function dv(s){return void 0!==s}function Mr(s,o){return 0!=(s.flags&(o?16:32))}function hv(s,o=""){const a=Fe(),c=St(),h=s+22,p=c.firstCreatePass?Nl(c,h,1,o,null):c.data[h],v=a[h]=Bg(a[11],o);Ug(c,a,v,p),oi(p,!1)}function fv(s){return Vm("",s,""),fv}function Vm(s,o,a){const c=Fe(),h=yu(c,s,o,a);return h!==Jt&&ka(c,U(),h),Vm}function Bm(s,o,a,c,h){const p=Fe(),v=jh(p,s,o,a,c,h);return v!==Jt&&ka(p,U(),v),Bm}function pv(s,o,a,c,h,p,v){const D=Fe(),C=vu(D,s,o,a,c,h,p,v);return C!==Jt&&ka(D,U(),C),pv}function gv(s,o,a,c,h,p,v,D,C){const M=Fe(),F=Uh(M,s,o,a,c,h,p,v,D,C);return F!==Jt&&ka(M,U(),F),gv}function mv(s,o,a,c,h,p,v,D,C,M,F){const j=Fe(),Q=bu(j,s,o,a,c,h,p,v,D,C,M,F);return Q!==Jt&&ka(j,U(),Q),mv}function _v(s,o,a,c,h,p,v,D,C,M,F,j,Q){const oe=Fe(),xe=Du(oe,s,o,a,c,h,p,v,D,C,M,F,j,Q);return xe!==Jt&&ka(oe,U(),xe),_v}function XD(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe){const Ze=Fe(),rt=wu(Ze,s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe);return rt!==Jt&&ka(Ze,U(),rt),XD}function yv(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt){const bt=Fe(),Ot=Pa(bt,s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt);return Ot!==Jt&&ka(bt,U(),Ot),yv}function vv(s){const o=Fe(),a=Bh(o,s);return a!==Jt&&ka(o,U(),a),vv}function bv(s,o,a){La(wi,Ns,yu(Fe(),s,o,a),!0)}function Va(s,o,a,c,h){La(wi,Ns,jh(Fe(),s,o,a,c,h),!0)}function xl(s,o,a,c,h,p,v){La(wi,Ns,vu(Fe(),s,o,a,c,h,p,v),!0)}function LC(s,o,a,c,h,p,v,D,C){La(wi,Ns,Uh(Fe(),s,o,a,c,h,p,v,D,C),!0)}function Eu(s,o,a,c,h,p,v,D,C,M,F){La(wi,Ns,bu(Fe(),s,o,a,c,h,p,v,D,C,M,F),!0)}function vp(s,o,a,c,h,p,v,D,C,M,F,j,Q){La(wi,Ns,Du(Fe(),s,o,a,c,h,p,v,D,C,M,F,j,Q),!0)}function ew(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe){La(wi,Ns,wu(Fe(),s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe),!0)}function tw(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt){La(wi,Ns,Pa(Fe(),s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt),!0)}function Dv(s){La(wi,Ns,Bh(Fe(),s),!0)}function wv(s,o,a){yo(yu(Fe(),s,o,a))}function bp(s,o,a,c,h){yo(jh(Fe(),s,o,a,c,h))}function nw(s,o,a,c,h,p,v){yo(vu(Fe(),s,o,a,c,h,p,v))}function Cu(s,o,a,c,h,p,v,D,C){yo(Uh(Fe(),s,o,a,c,h,p,v,D,C))}function Dp(s,o,a,c,h,p,v,D,C,M,F){yo(bu(Fe(),s,o,a,c,h,p,v,D,C,M,F))}function Wh(s,o,a,c,h,p,v,D,C,M,F,j,Q){yo(Du(Fe(),s,o,a,c,h,p,v,D,C,M,F,j,Q))}function Iv(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe){yo(wu(Fe(),s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe))}function jm(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt){yo(Pa(Fe(),s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt))}function rw(s){yo(Bh(Fe(),s))}function Ev(s,o,a,c,h){return vo(s,yu(Fe(),o,a,c),h,!1),Ev}function Cv(s,o,a,c,h,p,v){return vo(s,jh(Fe(),o,a,c,h,p),v,!1),Cv}function wp(s,o,a,c,h,p,v,D,C){return vo(s,vu(Fe(),o,a,c,h,p,v,D),C,!1),wp}function Ip(s,o,a,c,h,p,v,D,C,M,F){return vo(s,Uh(Fe(),o,a,c,h,p,v,D,C,M),F,!1),Ip}function Um(s,o,a,c,h,p,v,D,C,M,F,j,Q){return vo(s,bu(Fe(),o,a,c,h,p,v,D,C,M,F,j),Q,!1),Um}function Cc(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe){return vo(s,Du(Fe(),o,a,c,h,p,v,D,C,M,F,j,Q,oe),xe,!1),Cc}function $m(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt){return vo(s,wu(Fe(),o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze),rt,!1),$m}function Hm(s,o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt,Ot){return vo(s,Pa(Fe(),o,a,c,h,p,v,D,C,M,F,j,Q,oe,xe,Ze,rt,bt),Ot,!1),Hm}function Ep(s,o,a){return vo(s,Bh(Fe(),o),a,!1),Ep}function Cp(s,o,a){const c=Fe();return Wi(c,rs(),o)&&mo(St(),we(),c,s,o,c[11],a,!0),Cp}function Tv(s,o,a){const c=Fe();if(Wi(c,rs(),o)){const p=St(),v=we();mo(p,v,c,s,o,pm(Lo(p.data),v,c),a,!0)}return Tv}const Rl=void 0;var iw=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gm(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ol={};function VC(s,o,a){"string"!=typeof o&&(a=o,o=s[Ft.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Ol[o]=s,a&&(Ol[o][Ft.ExtraData]=a)}function zh(s){const o=function jC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Tc(o);if(a)return a;const c=o.split("-")[0];if(a=Tc(c),a)return a;if("en"===c)return iw;throw new le(701,!1)}function sw(s){return zh(s)[Ft.CurrencyCode]||null}function qh(s){return zh(s)[Ft.PluralCase]}function Tc(s){return s in Ol||(Ol[s]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[s]),Ol[s]}function BC(){Ol={}}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const UC=["zero","one","two","few","many"],Md="en-US",Tp={marker:"element"},Wm={marker:"ICU"};var xr=(()=>((xr=xr||{})[xr.SHIFT=2]="SHIFT",xr[xr.APPEND_EAGERLY=1]="APPEND_EAGERLY",xr[xr.COMMENT=2]="COMMENT",xr))();let aw=Md;function Sv(s){(function Xt(s,o){null==s&&ot(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(aw=s.toLowerCase().replace(/_/g,"-"))}function Nv(s,o,a){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?uy(s,0,a):Gn(a[h])}function Av(s,o,a,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=c,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let C=1;C<p.length;C++)gd(s,v,a[p[C]],D,!1)}}function Mv(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];zm(c)||qm(c,o)&&null===GC(c)&&xd(c,o.index)}}function zm(s){return!(64&s.type)}function qm(s,o){return zm(o)||s.index>o.index}function GC(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function xd(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:($b(Nv,Av),s.insertBeforeIndex=o)}function bo(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function WC(s,o,a){const c=Rh(s,a,64,null,null);return Mv(o,c),c}function Np(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function cw(s){return s>>>17}function Sc(s){return(131070&s)>>>1}let Ap=0,Mp=0;function fw(s,o,a,c){const h=a[11];let v,p=null;for(let D=0;D<o.length;D++){const C=o[D];if("string"==typeof C){const M=o[++D];null===a[M]&&(a[M]=Bg(h,C))}else if("number"==typeof C)switch(1&C){case 0:const M=cw(C);let F,j;if(null===p&&(p=M,v=ho(h,c)),M===p?(F=c,j=v):(F=null,j=Gn(a[M])),null!==j){const Ze=Sc(C);gd(h,j,a[Ze],F,!1);const bt=bo(s,Ze);if(null!==bt&&"object"==typeof bt){const Ot=Np(bt,a);null!==Ot&&fw(s,bt.create[Ot],a,a[bt.anchorIdx])}}break;case 1:const oe=o[++D],xe=o[++D];tp(h,vi(C>>>1,a),null,null,oe,xe,null)}else switch(C){case Wm:const M=o[++D],F=o[++D];null===a[F]&&as(a[F]=WE(h,M),a);break;case Tp:const j=o[++D],Q=o[++D];null===a[Q]&&as(a[Q]=sy(h,j,null),a)}}}function pw(s,o,a,c,h){for(let p=0;p<a.length;p++){const v=a[p],D=a[++p];if(v&h){let C="";for(let M=p+1;M<=p+D;M++){const F=a[M];if("string"==typeof F)C+=F;else if("number"==typeof F)if(F<0)C+=me(o[c-F]);else{const j=F>>>2;switch(3&F){case 1:const Q=a[++M],oe=a[++M],xe=s.data[j];"string"==typeof xe?tp(o[11],o[j],null,xe,Q,C,oe):mo(s,xe,o,Q,C,o[11],oe,!1);break;case 0:const Ze=o[j];null!==Ze&&iy(o[11],Ze,C);break;case 2:ZC(s,bo(s,j),o,C);break;case 3:xv(s,bo(s,j),c,o)}}}}else{const C=a[p+1];if(C>0&&3==(3&C)){const F=bo(s,C>>>2);o[F.currentCaseLViewIndex]<0&&xv(s,F,c,o)}}p+=D}}function xv(s,o,a,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=Ap;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),pw(s,c,o.update[h],a,p)}}function ZC(s,o,a,c){const h=function Rv(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function ow(s,o){const a=qh(o)(parseInt(s,10)),c=UC[a];return void 0!==c?c:"other"}(o,function lw(){return aw}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(Np(o,a)!==h&&(Rd(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&fw(s,o.create[h],a,v)}}function Rd(s,o,a){let c=Np(o,a);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const v=h[p];if(v>0){const D=vi(v,a);null!==D&&Gb(a[11],D)}else Rd(s,bo(s,~v),a)}}}function ES(){const s=[];let a,c,o=-1;function p(D,C){o=0;const M=Np(D,C);c=null!==M?D.remove[M]:Lt}function v(){if(o<c.length){const D=c[o++];return D>0?a[D]:(s.push(o,c),p(a[1].data[~D],a),v())}return 0===s.length?null:(c=s.pop(),o=s.pop(),v())}return function h(D,C){for(a=C;s.length;)s.pop();return p(D.value,C),v}}const Zm=/\ufffd(\d+):?\d*\ufffd/gi,QC=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,YC=/\ufffd(\d+)\ufffd/,mw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,JC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,TS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,SS=/\uE500/g;function yw(s,o,a,c,h,p,v){const D=mu(s,c,1,null);let C=D<<xr.SHIFT,M=eo();o===M&&(M=null),null===M&&(C|=xr.APPEND_EAGERLY),v&&(C|=xr.COMMENT,function xb(s){void 0===ny&&(ny=s())}(ES)),h.push(C,null===p?"":p);const F=Rh(s,D,v?32:1,null===p?"":p,null);Mv(a,F);const j=F.index;return oi(F,!1),null!==M&&o!==M&&function Tu(s,o){let a=s.insertBeforeIndex;null===a?($b(Nv,Av),a=s.insertBeforeIndex=[null,o]):(function Ne(s,o,a){s!=o&&ot(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(M,j),F}function Ov(s,o,a,c,h,p,v){const D=v.match(Zm),C=yw(s,o,a,p,c,D?null:v,!1);D&&Zh(h,v,C.index,null,0,null)}function Zh(s,o,a,c,h,p){const v=s.length,D=v+1;s.push(null,null);const C=v+2,M=o.split(Zm);let F=0;for(let j=0;j<M.length;j++){const Q=M[j];if(1&j){const oe=h+parseInt(Q,10);s.push(-1-oe),F|=Km(oe)}else""!==Q&&s.push(Q)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[v]=F,s[D]=s.length-C,F}function Rp(s){let o=0;for(let a=0;a<s.length;a++){const c=s[a];"number"==typeof c&&c<0&&o++}return o}function Km(s){return 1<<Math.min(s,31)}function bw(s){let o,p,a="",c=0,h=!1;for(;null!==(o=JC.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(c),a}function Op(s,o,a,c,h,p){let v=0;const D={type:h.type,currentCaseLViewIndex:mu(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Iw(s,o,a){s.push(Km(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function Sp(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,D);const C=h.values;for(let M=0;M<C.length;M++){const F=C[M],j=[];for(let Q=0;Q<F.length;Q++){const oe=F[Q];if("string"!=typeof oe){const xe=j.push(oe)-1;F[Q]=`\x3c!--\ufffd${xe}\ufffd--\x3e`}}v=ww(s,D,o,a,c,h.cases[M],F.join(""),j)|v}v&&function Ew(s,o,a){s.push(o,1,a<<2|3)}(a,v,p)}function t1(s){const o=[],a=[];let c=1,h=0;const p=Qm(s=s.replace(mw,function(v,D,C){return c="select"===C?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<p.length;){let D=p[v++].trim();1===c&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const C=Qm(p[v++]);o.length>a.length&&a.push(C)}return{type:c,mainBinding:h,cases:o,values:a}}function Qm(s){if(!s)return[];let o=0;const a=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const C=s.substring(o,D);mw.test(C)?c.push(t1(C)):c.push(C),o=D+1}}else{if(0==a.length){const C=s.substring(o,D);c.push(C),o=D+1}a.push("{")}}const v=s.substring(o);return c.push(v),c}function ww(s,o,a,c,h,p,v,D){const C=[],M=[],F=[];o.cases.push(p),o.create.push(C),o.remove.push(M),o.update.push(F);const Q=Cf(Sg()).getInertBodyElement(v),oe=Na(Q)||Q;return oe?Su(s,o,a,c,C,M,F,oe,h,D,0):0}function Su(s,o,a,c,h,p,v,D,C,M,F){let j=0,Q=D.firstChild;for(;Q;){const oe=mu(s,a,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const xe=Q,Ze=xe.tagName.toLowerCase();if(Hi.hasOwnProperty(Ze)){kd(h,Tp,Ze,C,oe),s.data[oe]=Ze;const Ue=xe.attributes;for(let Ut=0;Ut<Ue.length;Ut++){const Sn=Ue.item(Ut),ur=Sn.name.toLowerCase();Sn.value.match(Zm)?Sa.hasOwnProperty(ur)&&Zh(v,Sn.value,oe,Sn.name,0,td[ur]?Xu:null):kp(h,oe,Sn)}j=Su(s,o,a,c,h,p,v,Q,oe,M,F+1)|j,Do(p,oe,F)}break;case Node.TEXT_NODE:const rt=Q.textContent||"",bt=rt.match(Zm);kd(h,null,bt?"":rt,C,oe),Do(p,oe,F),bt&&(j=Zh(v,rt,oe,null,0,null)|j);break;case Node.COMMENT_NODE:const Ot=YC.exec(Q.textContent||"");if(Ot){const Ut=M[parseInt(Ot[1],10)];kd(h,Wm,"",C,oe),Op(s,a,c,C,Ut,oe),As(p,oe,F)}}Q=Q.nextSibling}return j}function Do(s,o,a){0===a&&s.push(o)}function As(s,o,a){0===a&&(s.push(~o),s.push(o))}function kd(s,o,a,c,h){null!==o&&s.push(o),s.push(a,h,function zC(s,o,a){return s|o<<17|a<<1}(0,c,h))}function kp(s,o,a){s.push(o<<1|1,a.name,a.value)}const n1=/\[(\ufffd.+?\ufffd?)\]/,kv=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Kh=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Pd=/{([A-Z0-9_]+)}/g,Pv=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Fd=/\/\*/,r1=/\d+\:(\d+)/;function Fv(s,o,a=-1){const c=St(),h=Fe(),p=22+s,v=si(c.consts,o),D=eo();c.firstCreatePass&&function XC(s,o,a,c,h,p){const v=eo(),D=[],C=[],M=[[]];h=function Dw(s,o){if(function e1(s){return-1===s}(o))return bw(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return bw(s.substring(a,c))}}(h,p);const F=function _w(s){return s.replace(SS," ")}(h).split(TS);for(let j=0;j<F.length;j++){let Q=F[j];if(0==(1&j)){const oe=Qm(Q);for(let xe=0;xe<oe.length;xe++){let Ze=oe[xe];if(0==(1&xe)){const rt=Ze;""!==rt&&Ov(s,v,M[0],D,C,a,rt)}else{const rt=Ze;if("object"!=typeof rt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Op(s,a,C,o,rt,yw(s,v,M[0],a,D,"",!0).index)}}}else{const oe=47===Q.charCodeAt(0),Ze=(Q.charCodeAt(oe?1:0),22+Number.parseInt(Q.substring(oe?2:1)));if(oe)M.shift(),oi(eo(),!1);else{const rt=WC(s,M[0],Ze);M.unshift([]),oi(rt,!0)}}}s.data[c]={create:D,update:C}}(c,null===D?0:D.index,h,p,v,a);const C=c.data[p],F=Bb(c,D===h[6]?null:D,h);(function hw(s,o,a,c){const h=s[11];for(let p=0;p<o.length;p++){const v=o[p++],D=o[p],C=(v&xr.COMMENT)===xr.COMMENT,M=(v&xr.APPEND_EAGERLY)===xr.APPEND_EAGERLY,F=v>>>xr.SHIFT;let j=s[F];null===j&&(j=s[F]=C?h.createComment(D):Bg(h,D)),M&&null!==a&&gd(h,a,j,c,!1)}})(h,C.create,F,D&&8&D.type?h[D.index]:null),oa(!0)}function cr(){oa(!1)}function Cw(s,o,a){Fv(s,o,a),cr()}function Pp(s,o){const a=St();!function vw(s,o,a){const h=Pn().index,p=[];if(s.firstCreatePass&&null===s.data[o]){for(let v=0;v<a.length;v+=2){const D=a[v],C=a[v+1];if(""!==C){if(QC.test(C))throw new Error(`ICU expressions are not supported in attributes. Message: "${C}".`);Zh(p,C,h,D,Rp(p),null)}}s.data[o]=p}}(a,s+22,si(a.consts,o))}function Jo(s){return function qC(s){s&&(Ap|=1<<Math.min(Mp,31)),Mp++}(Wi(Fe(),rs(),s)),Jo}function $r(s){!function dw(s,o,a){if(Mp>0){const c=s.data[a];pw(s,o,Array.isArray(c)?c:c.update,ns()-Mp-1,Ap)}Ap=0,Mp=0}(St(),Fe(),s+22)}function Tw(s,o={}){return function i1(s,o={}){let a=s;if(n1.test(s)){const c={},h=[0];a=a.replace(kv,(p,v,D)=>{const C=v||D,M=c[C]||[];if(M.length||(C.split("|").forEach(Ze=>{const rt=Ze.match(r1),bt=rt?parseInt(rt[1],10):0,Ot=Fd.test(Ze);M.push([bt,Ot,Ze])}),c[C]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${C}`);const F=h[h.length-1];let j=0;for(let Ze=0;Ze<M.length;Ze++)if(M[Ze][0]===F){j=Ze;break}const[Q,oe,xe]=M[j];return oe?h.pop():F!==Q&&h.push(Q),M.splice(j,1),xe})}return Object.keys(o).length&&(a=a.replace(Kh,(c,h,p,v,D,C)=>o.hasOwnProperty(p)?`${h}${o[p]}${C}`:c),a=a.replace(Pd,(c,h)=>o.hasOwnProperty(h)?o[h]:c),a=a.replace(Pv,(c,h)=>{if(o.hasOwnProperty(h)){const p=o[h];if(!p.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return p.shift()}return c})),a}(s,o)}function Lv(s,o,a,c,h){if(s=J(s),Array.isArray(s))for(let p=0;p<s.length;p++)Lv(s[p],o,a,c,h);else{const p=St(),v=Fe();let D=xa(s)?s:J(s.provide),C=ph(s);const M=Pn(),F=1048575&M.providerIndexes,j=M.directiveStart,Q=M.providerIndexes>>20;if(xa(s)||!s.multi){const oe=new Li(C,h,Sh),xe=Qh(D,o,h?F:F+Q,j);-1===xe?(ua(Es(M,v),p,D),Ym(p,s,o.length),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(oe),v.push(oe)):(a[xe]=oe,v[xe]=oe)}else{const oe=Qh(D,o,F+Q,j),xe=Qh(D,o,F,F+Q),Ze=oe>=0&&a[oe],rt=xe>=0&&a[xe];if(h&&!rt||!h&&!Ze){ua(Es(M,v),p,D);const bt=function Nw(s,o,a,c,h){const p=new Li(s,a,Sh);return p.multi=[],p.index=o,p.componentProviders=0,Sw(p,h,c&&!a),p}(h?zi:Nc,a.length,h,c,C);!h&&rt&&(a[xe].providerFactory=bt),Ym(p,s,o.length,0),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(bt),v.push(bt)}else Ym(p,s,oe>-1?oe:xe,Sw(a[h?xe:oe],C,!h&&c));!h&&c&&rt&&a[xe].componentProviders++}}}function Ym(s,o,a,c){const h=xa(o),p=function fc(s){return!!s.useClass}(o);if(h||p){const C=(p?J(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=M.indexOf(a);-1===F?M.push(a,[c,C]):M[F+1].push(c,C)}else M.push(a,C)}}}function Sw(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Qh(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function Nc(s,o,a,c){return Yh(this.multi,[])}function zi(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=ji(a,a[1],this.providerFactory.index,c);p=D.slice(0,v),Yh(h,p);for(let C=v;C<D.length;C++)p.push(D[C])}else p=[],Yh(h,p);return p}function Yh(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Aw(s,o=[]){return a=>{a.providersResolver=(c,h)=>function s1(s,o,a){const c=St();if(c.firstCreatePass){const h=rr(s);Lv(a,c.data,c.blueprint,h,!0),Lv(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Hs{}class Ba{}function Vv(s,o){return new Jm(s,o??null)}const Bv=Vv;class Jm extends Hs{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _u(this);const c=Mn(o);this._bootstrapComponents=Cl(c.bootstrap),this._r3Injector=Jb(o,a,[{provide:Hs,useValue:this},{provide:ou,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ld extends Ba{constructor(o){super(),this.moduleType=o}create(o){return new Jm(this.moduleType,o)}}class o1 extends Hs{constructor(o,a,c){super(),this.componentFactoryResolver=new _u(this),this.instance=null;const h=new Br([...o,{provide:Hs,useValue:this},{provide:ou,useValue:this.componentFactoryResolver}],a||ad(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Mw(s,o,a=null){return new o1(s,o,a).injector}let a1=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=uh(0,a.type),h=c.length>0?Mw([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=un({token:s,providedIn:"environment",factory:()=>new s(or(Gi))}),s})();function Xm(s){s.getStandaloneInjector=o=>o.get(a1).getOrCreateStandaloneInjector(s)}function xw(s){const o=$t(s);if(null===o)return null;if(void 0===o.component){const a=o.lView;if(null===a)return null;o.component=function rn(s,o){const a=o[1].data[s];return 2&a.flags?o[a.directiveStart]:null}(o.nodeIndex,a)}return o.component}function l1(s){!function Xo(s){if(typeof Element<"u"&&!(s instanceof Element))throw new Error("Expecting instance of DOM Element")}(s);const o=$t(s),a=o?o.lView:null;return null===a?null:a[8]}function Rw(s){const o=$t(s);let c,a=o?o.lView:null;if(null===a)return null;for(;2===a[1].type&&(c=fd(a));)a=c;return 256&a[2]?null:a[8]}function Ow(s){const o=ey(s);return null!==o?[Lf(o)]:[]}function c1(s){const o=$t(s),a=o?o.lView:null;return null===a?cu.NULL:new jo(a[1].data[o.nodeIndex],a)}function u1(s){if(s instanceof Text)return[];const o=$t(s),a=o?o.lView:null;if(null===a)return[];const h=o.nodeIndex;return a[1]?.data[h]?(void 0===o.directives&&(o.directives=Nb(h,a,!1)),null===o.directives?[]:[...o.directives]):[]}function AS(s){const{constructor:o}=s;if(!o)throw new Error("Unable to find the instance constructor");const a=ne(o);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?$n.OnPush:$n.Default};const c=tt(o);return c?{inputs:c.inputs,outputs:c.outputs}:null}function kw(s){return $t(s).native}function d1(s){const o=$t(s),a=null===o?null:o.lView;if(null===a)return[];const h=a[7],p=a[1].cleanup,v=[];if(p&&h)for(let D=0;D<p.length;){const C=p[D++],M=p[D++];if("string"==typeof C){const F=C,j=Gn(a[M]),Q=h[p[D++]],oe=p[D++],xe="boolean"==typeof oe||oe>=0?"dom":"output",Ze="boolean"==typeof oe&&oe;s==j&&v.push({element:s,name:F,callback:Q,useCapture:Ze,type:xe})}}return v.sort(Pw),v}function Pw(s,o){return s.name==o.name?0:s.name<o.name?-1:1}function h1(s){return void 0!==s.type&&void 0!==s.template&&void 0!==s.declaredInputs}function Fp(s,o,a,c){return qn(()=>{const h=s;null!==o&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...o):h.decorators=o),null!==a&&(h.ctorParameters=a),null!==c&&(h.propDecorators=h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?{...h.propDecorators,...c}:c)})}function e_(s,o,a){const c=Wn()+s,h=Fe();return h[c]===Jt?Ml(h,c,a?o.call(a):o()):Nd(h,c)}function Fw(s,o,a,c){return Uv(Fe(),Wn(),s,o,a,c)}function Lw(s,o,a,c,h){return t_(Fe(),Wn(),s,o,a,c,h)}function Vw(s,o,a,c,h,p){return Lp(Fe(),Wn(),s,o,a,c,h,p)}function jv(s,o,a,c,h,p,v){return n_(Fe(),Wn(),s,o,a,c,h,p,v)}function Bw(s,o,a,c,h,p,v,D){const C=Wn()+s,M=Fe(),F=Qo(M,C,a,c,h,p);return Wi(M,C+4,v)||F?Ml(M,C+5,D?o.call(D,a,c,h,p,v):o(a,c,h,p,v)):Nd(M,C+5)}function jw(s,o,a,c,h,p,v,D,C){const M=Wn()+s,F=Fe(),j=Qo(F,M,a,c,h,p);return Ec(F,M+4,v,D)||j?Ml(F,M+6,C?o.call(C,a,c,h,p,v,D):o(a,c,h,p,v,D)):Nd(F,M+6)}function Uw(s,o,a,c,h,p,v,D,C,M){const F=Wn()+s,j=Fe();let Q=Qo(j,F,a,c,h,p);return op(j,F+4,v,D,C)||Q?Ml(j,F+7,M?o.call(M,a,c,h,p,v,D,C):o(a,c,h,p,v,D,C)):Nd(j,F+7)}function $w(s,o,a,c,h,p,v,D,C,M,F){const j=Wn()+s,Q=Fe(),oe=Qo(Q,j,a,c,h,p);return Qo(Q,j+4,v,D,C,M)||oe?Ml(Q,j+8,F?o.call(F,a,c,h,p,v,D,C,M):o(a,c,h,p,v,D,C,M)):Nd(Q,j+8)}function us(s,o,a,c){return r_(Fe(),Wn(),s,o,a,c)}function Nu(s,o){const a=s[o];return a===Jt?void 0:a}function Uv(s,o,a,c,h,p){const v=o+a;return Wi(s,v,h)?Ml(s,v+1,p?c.call(p,h):c(h)):Nu(s,v+1)}function t_(s,o,a,c,h,p,v){const D=o+a;return Ec(s,D,h,p)?Ml(s,D+2,v?c.call(v,h,p):c(h,p)):Nu(s,D+2)}function Lp(s,o,a,c,h,p,v,D){const C=o+a;return op(s,C,h,p,v)?Ml(s,C+3,D?c.call(D,h,p,v):c(h,p,v)):Nu(s,C+3)}function n_(s,o,a,c,h,p,v,D,C){const M=o+a;return Qo(s,M,h,p,v,D)?Ml(s,M+4,C?c.call(C,h,p,v,D):c(h,p,v,D)):Nu(s,M+4)}function r_(s,o,a,c,h,p){let v=o+a,D=!1;for(let C=0;C<h.length;C++)Wi(s,v++,h[C])&&(D=!0);return D?Ml(s,v,c.apply(p,h)):Nu(s,v)}function Hw(s,o){const a=St();let c;const h=s+22;a.firstCreatePass?(c=function f1(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=es(c.type)),v=dr(Sh);try{const D=Bi(!1),C=p();return Bi(D),Dm(a,Fe(),h,C),C}finally{dr(v)}}function Gw(s,o,a){const c=s+22,h=Fe(),p=bi(h,c);return Xh(h,c)?Uv(h,Wn(),o,p.transform,a,p):p.transform(a)}function Ww(s,o,a,c){const h=s+22,p=Fe(),v=bi(p,h);return Xh(p,h)?t_(p,Wn(),o,v.transform,a,c,v):v.transform(a,c)}function Jh(s,o,a,c,h){const p=s+22,v=Fe(),D=bi(v,p);return Xh(v,p)?Lp(v,Wn(),o,D.transform,a,c,h,D):D.transform(a,c,h)}function $v(s,o,a,c,h,p){const v=s+22,D=Fe(),C=bi(D,v);return Xh(D,v)?n_(D,Wn(),o,C.transform,a,c,h,p,C):C.transform(a,c,h,p)}function Vp(s,o,a){const c=s+22,h=Fe(),p=bi(h,c);return Xh(h,c)?r_(h,Wn(),o,p.transform,a,p):p.transform.apply(p,a)}function Xh(s,o){return s[1].data[o].pure}function Hv(s){return o=>{setTimeout(s,void 0,o)}}const kl=class p1 extends I.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=Hv(p),h&&(h=Hv(h)),v&&(v=Hv(v)));const D=super.subscribe({next:h,error:p,complete:v});return o instanceof u.w0&&o.add(D),D}};function g1(){return this._results[Td()]()}class Bp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Td(),c=Bp.prototype;c[a]||(c[a]=g1)}get changes(){return this._changes||(this._changes=new kl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=Di(o);(this._changesDetected=!function ic(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vd=(()=>{class s{}return s.__NG_ELEMENT_ID__=qw,s})();const zw=Vd,Gv=class extends zw{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=Id(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),Qf(c,h,o),new _o(h)}};function qw(){return Au(Pn(),Fe())}function Au(s,o){return 4&s.type?new Gv(o,s,_(s,o)):null}let i_=(()=>{class s{}return s.__NG_ELEMENT_ID__=Wv,s})();function Wv(){return qv(Pn(),Fe())}const zv=i_,Zw=class extends zv{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return _(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Wc(this._hostTNode,this._hostLView);if(Yd(o)){const a=Xl(o,this._hostLView),c=Sr(o);return new jo(a[1].data[c+8],a)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=s_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,h),v}createComponent(o,a,c,h,p){const v=o&&!_a(o);let D;if(v)D=a;else{const j=a||{};D=j.index,c=j.injector,h=j.projectableNodes,p=j.environmentInjector||j.ngModuleRef}const C=v?o:new Vh(ne(o)),M=c||this.parentInjector;if(!p&&null==C.ngModule){const Q=(v?M:this.parentInjector).get(Gi,null);Q&&(p=Q)}const F=C.create(M,h,void 0,p);return this.insert(F.hostView,D),F}insert(o,a){const c=o._lView,h=c[1];if(function Js(s){return wr(s[3])}(c)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const j=c[3],Q=new Zw(j,j[6],j[3]);Q.detach(Q.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function ay(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],ll(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Pb(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,c,v,p);const D=hy(p,v),C=c[11],M=ho(C,v[7]);return null!==M&&function oy(s,o,a,c,h,p){c[0]=h,c[6]=o,Uf(s,c,a,1,h,p)}(h,v[6],C,c,M,D),o.attachToViewContainerRef(),ll(o_(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=s_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=jg(this._lContainer,a);c&&(ya(o_(this._lContainer),a),Lb(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=jg(this._lContainer,a);return c&&null!=ya(o_(this._lContainer),a)?new _o(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function s_(s){return s[8]}function o_(s){return s[8]||(s[8]=[])}function qv(s,o){let a;const c=o[s.index];if(wr(c))a=c;else{let h;if(8&s.type)h=Gn(c);else{const p=o[11];h=p.createComment("");const v=gr(s,o);gd(p,ho(p,v),h,function jb(s,o){return s.nextSibling(o)}(p,v),!1)}o[s.index]=a=hm(c,o,h,s),np(o,a)}return new Zw(a,s,o)}class Kv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class ef{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new ef(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==$p(o,a).matches&&this.queries[a].setDirty()}}class a_{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class jp{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new jp(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Up{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Up(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,Kw(a,p)),this.matchTNodeWithReadOption(o,a,fa(a,o,p,!1,!1))}else c===Vd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,fa(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===f||h===i_||h===Vd&&4&a.type)this.addMatch(a.index,-2);else{const p=fa(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Kw(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Qw(s,o,a,c){return-1===a?function _1(s,o){return 11&s.type?_(s,o):4&s.type?Au(s,o):null}(o,s):-2===a?function tf(s,o,a){return a===f?_(o,s):a===Vd?Au(o,s):a===i_?qv(o,s):void 0}(s,o,c):ji(s,s[1],a,o)}function Qv(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,v=a.matches,D=[];for(let C=0;C<v.length;C+=2){const M=v[C];D.push(M<0?null:Qw(o,p[M],v[C+1],a.metadata.read))}h.matches=D}return h.matches}function Yv(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const v=Qv(s,o,h,a);for(let D=0;D<p.length;D+=2){const C=p[D];if(C>0)c.push(v[D/2]);else{const M=p[D+1],F=o[-C];for(let j=10;j<F.length;j++){const Q=F[j];Q[17]===Q[3]&&Yv(Q[1],Q,M,c)}if(null!==F[9]){const j=F[9];for(let Q=0;Q<j.length;Q++){const oe=j[Q];Yv(oe[1],oe,M,c)}}}}}return c}function Yw(s){const o=Fe(),a=St(),c=Vo();la(c+1);const h=$p(a,c);if(s.dirty&&function Fi(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Yv(a,o,c,[]):Qv(a,o,h,c);s.reset(p,m),s.notifyOnChanges()}return!0}return!1}function Jw(s,o,a){const c=St();c.firstCreatePass&&(nI(c,new a_(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),tI(c,Fe(),o)}function Xw(s,o,a,c){const h=St();if(h.firstCreatePass){const p=Pn();nI(h,new a_(o,a,c),p.index),function v1(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}tI(h,Fe(),a)}function eI(){return function y1(s,o){return s[19].queries[o].queryList}(Fe(),Vo())}function tI(s,o,a){const c=new Bp(4==(4&a));am(s,o,c,c.destroy),null===o[19]&&(o[19]=new ef),o[19].queries.push(new Kv(c))}function nI(s,o,a){null===s.queries&&(s.queries=new jp),s.queries.track(new Up(o,a))}function $p(s,o){return s.queries.getByIndex(o)}function Jv(s,o){return Au(s,o)}const ds=(()=>({\u0275\u0275attribute:ap,\u0275\u0275attributeInterpolate1:bm,\u0275\u0275attributeInterpolate2:lp,\u0275\u0275attributeInterpolate3:zy,\u0275\u0275attributeInterpolate4:cp,\u0275\u0275attributeInterpolate5:Fa,\u0275\u0275attributeInterpolate6:up,\u0275\u0275attributeInterpolate7:qy,\u0275\u0275attributeInterpolate8:dp,\u0275\u0275attributeInterpolateV:Zy,\u0275\u0275defineComponent:Be,\u0275\u0275defineDirective:ee,\u0275\u0275defineInjectable:un,\u0275\u0275defineInjector:jt,\u0275\u0275defineNgModule:Kt,\u0275\u0275definePipe:Re,\u0275\u0275directiveInject:Sh,\u0275\u0275getInheritedFactory:Wu,\u0275\u0275inject:or,\u0275\u0275injectAttribute:Zc,\u0275\u0275invalidFactory:oD,\u0275\u0275invalidFactoryDep:oc,\u0275\u0275templateRefExtractor:Jv,\u0275\u0275resetView:Xs,\u0275\u0275NgOnChangesFeature:ki,\u0275\u0275ProvidersFeature:Aw,\u0275\u0275CopyDefinitionFeature:LD,\u0275\u0275InheritDefinitionFeature:sp,\u0275\u0275StandaloneFeature:Xm,\u0275\u0275nextContext:ev,\u0275\u0275namespaceHTML:hn,\u0275\u0275namespaceMathML:an,\u0275\u0275namespaceSVG:lt,\u0275\u0275enableBindings:Oo,\u0275\u0275disableBindings:ks,\u0275\u0275elementStart:fp,\u0275\u0275elementEnd:$h,\u0275\u0275element:wm,\u0275\u0275elementContainerStart:Im,\u0275\u0275elementContainerEnd:Hh,\u0275\u0275elementContainer:Jy,\u0275\u0275pureFunction0:e_,\u0275\u0275pureFunction1:Fw,\u0275\u0275pureFunction2:Lw,\u0275\u0275pureFunction3:Vw,\u0275\u0275pureFunction4:jv,\u0275\u0275pureFunction5:Bw,\u0275\u0275pureFunction6:jw,\u0275\u0275pureFunction7:Uw,\u0275\u0275pureFunction8:$w,\u0275\u0275pureFunctionV:us,\u0275\u0275getCurrentView:Em,\u0275\u0275restoreView:Zn,\u0275\u0275listener:Tm,\u0275\u0275projection:yn,\u0275\u0275syntheticHostProperty:Tv,\u0275\u0275syntheticHostListener:Sm,\u0275\u0275pipeBind1:Gw,\u0275\u0275pipeBind2:Ww,\u0275\u0275pipeBind3:Jh,\u0275\u0275pipeBind4:$v,\u0275\u0275pipeBindV:Vp,\u0275\u0275projectionDef:gp,\u0275\u0275hostProperty:Cp,\u0275\u0275property:hp,\u0275\u0275propertyInterpolate:Mm,\u0275\u0275propertyInterpolate1:mp,\u0275\u0275propertyInterpolate2:xm,\u0275\u0275propertyInterpolate3:Ad,\u0275\u0275propertyInterpolate4:Rm,\u0275\u0275propertyInterpolate5:Yn,\u0275\u0275propertyInterpolate6:Ni,\u0275\u0275propertyInterpolate7:Yo,\u0275\u0275propertyInterpolate8:Om,\u0275\u0275propertyInterpolateV:tv,\u0275\u0275pipe:Hw,\u0275\u0275queryRefresh:Yw,\u0275\u0275viewQuery:Jw,\u0275\u0275loadQuery:eI,\u0275\u0275contentQuery:Xw,\u0275\u0275reference:jD,\u0275\u0275classMap:cv,\u0275\u0275classMapInterpolate1:bv,\u0275\u0275classMapInterpolate2:Va,\u0275\u0275classMapInterpolate3:xl,\u0275\u0275classMapInterpolate4:LC,\u0275\u0275classMapInterpolate5:Eu,\u0275\u0275classMapInterpolate6:vp,\u0275\u0275classMapInterpolate7:ew,\u0275\u0275classMapInterpolate8:tw,\u0275\u0275classMapInterpolateV:Dv,\u0275\u0275styleMap:yo,\u0275\u0275styleMapInterpolate1:wv,\u0275\u0275styleMapInterpolate2:bp,\u0275\u0275styleMapInterpolate3:nw,\u0275\u0275styleMapInterpolate4:Cu,\u0275\u0275styleMapInterpolate5:Dp,\u0275\u0275styleMapInterpolate6:Wh,\u0275\u0275styleMapInterpolate7:Iv,\u0275\u0275styleMapInterpolate8:jm,\u0275\u0275styleMapInterpolateV:rw,\u0275\u0275styleProp:Fm,\u0275\u0275stylePropInterpolate1:Ev,\u0275\u0275stylePropInterpolate2:Cv,\u0275\u0275stylePropInterpolate3:wp,\u0275\u0275stylePropInterpolate4:Ip,\u0275\u0275stylePropInterpolate5:Um,\u0275\u0275stylePropInterpolate6:Cc,\u0275\u0275stylePropInterpolate7:$m,\u0275\u0275stylePropInterpolate8:Hm,\u0275\u0275stylePropInterpolateV:Ep,\u0275\u0275classProp:Gh,\u0275\u0275advance:zg,\u0275\u0275template:BD,\u0275\u0275text:hv,\u0275\u0275textInterpolate:fv,\u0275\u0275textInterpolate1:Vm,\u0275\u0275textInterpolate2:Bm,\u0275\u0275textInterpolate3:pv,\u0275\u0275textInterpolate4:gv,\u0275\u0275textInterpolate5:mv,\u0275\u0275textInterpolate6:_v,\u0275\u0275textInterpolate7:XD,\u0275\u0275textInterpolate8:yv,\u0275\u0275textInterpolateV:vv,\u0275\u0275i18n:Cw,\u0275\u0275i18nAttributes:Pp,\u0275\u0275i18nExp:Jo,\u0275\u0275i18nStart:Fv,\u0275\u0275i18nEnd:cr,\u0275\u0275i18nApply:$r,\u0275\u0275i18nPostprocess:Tw,\u0275\u0275resolveWindow:Ff,\u0275\u0275resolveDocument:Dh,\u0275\u0275resolveBody:wh,\u0275\u0275setComponentScope:_t,\u0275\u0275setNgModuleScope:Z,\u0275\u0275registerNgModuleType:vl,\u0275\u0275sanitizeHtml:Bs,\u0275\u0275sanitizeStyle:rd,\u0275\u0275sanitizeResourceUrl:js,\u0275\u0275sanitizeScript:hc,\u0275\u0275sanitizeUrl:Aa,\u0275\u0275sanitizeUrlOrResourceUrl:oh,\u0275\u0275trustConstantHtml:Ma,\u0275\u0275trustConstantResourceUrl:Sf,forwardRef:z,resolveForwardRef:J}))();let Mu=null;function w1(){Mu=null}function e0(s){return!!Mn(s)}const nf=[];let iI=!1;function sI(){if(!iI){iI=!0;try{for(let s=nf.length-1;s>=0;s--){const{moduleType:o,ngModule:a}=nf[s];a.declarations&&a.declarations.every(E1)&&(nf.splice(s,1),s0(o,a))}}finally{iI=!1}}}function E1(s){return Array.isArray(s)?s.every(E1):!!J(s)}function C1(s,o={}){l_(s,o),void 0!==o.id&&vl(s,o.id),function rI(s,o){nf.push({moduleType:s,ngModule:o})}(s,o)}function l_(s,o,a=!1){const c=Di(o.declarations||Lt);let h=null;Object.defineProperty(s,bn,{configurable:!0,get:()=>(null===h&&(h=_r().compileNgModule(ds,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:Di(o.bootstrap||Lt).map(J),declarations:c.map(J),imports:Di(o.imports||Lt).map(J).map(lI),exports:Di(o.exports||Lt).map(J).map(lI),schemas:o.schemas?Di(o.schemas):null,id:o.id||null}),h.schemas||(h.schemas=[])),h)});let p=null;Object.defineProperty(s,fr,{get:()=>{if(null===p){const D=_r();p=D.compileFactory(ds,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:Zr(s),target:D.FactoryTarget.NgModule,typeArgumentCount:0})}return p},configurable:!1});let v=null;Object.defineProperty(s,kr,{get:()=>{if(null===v){const D={name:s.name,type:s,providers:o.providers||Lt,imports:[(o.imports||Lt).map(J),(o.exports||Lt).map(J)]};v=_r().compileInjector(ds,`ng:///${s.name}/\u0275inj.js`,D)}return v},configurable:!1})}let Hp=new WeakMap,Gp=new WeakMap;function r0(){Hp=new WeakMap,Gp=new WeakMap,nf.length=0}function s0(s,o){const a=Di(o.declarations||Lt),c=Bd(s);a.forEach(h=>{(h=J(h)).hasOwnProperty(xi)?aI(ne(h),c):!h.hasOwnProperty(fn)&&!h.hasOwnProperty(Ji)&&(h.ngSelectorScope=s)})}function aI(s,o){s.directiveDefs=()=>Array.from(o.compilation.directives).map(a=>a.hasOwnProperty(xi)?ne(a):tt(a)).filter(a=>!!a),s.pipeDefs=()=>Array.from(o.compilation.pipes).map(a=>Et(a)),s.schemas=o.schemas,s.tView=null}function Bd(s){if(e0(s))return function PS(s){const o=Mn(s,!0);if(null!==o.transitiveCompileScopes)return o.transitiveCompileScopes;const a={schemas:o.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Cl(o.imports).forEach(c=>{const h=Bd(c);h.exported.directives.forEach(p=>a.compilation.directives.add(p)),h.exported.pipes.forEach(p=>a.compilation.pipes.add(p))}),Cl(o.declarations).forEach(c=>{Et(c)?a.compilation.pipes.add(c):a.compilation.directives.add(c)}),Cl(o.exports).forEach(c=>{const h=c;if(e0(h)){const p=Bd(h);p.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),p.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Et(h)?a.exported.pipes.add(h):a.exported.directives.add(h)}),o.transitiveCompileScopes=a,a}(s);if(mn(s)){if(null!==(ne(s)||tt(s)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([s]),pipes:new Set}};if(null!==Et(s))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([s])}}}throw new Error(`${s.name} does not have a module def (\u0275mod property)`)}function lI(s){return function Xv(s){return void 0!==s.ngModule}(s)?s.ngModule:s}let o0=0;function S1(s,o){let a=null;(function wa(s,o){Ia(o)&&(zn.set(s,o),co.add(s))})(s,o),A1(s,o),Object.defineProperty(s,xi,{get:()=>{if(null===a){const c=_r();if(Ia(o)){const M=[`Component '${s.name}' is not resolved:`];throw o.templateUrl&&M.push(` - templateUrl: ${o.templateUrl}`),o.styleUrls&&o.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(o.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const h=function D1(){return Mu}();let p=o.preserveWhitespaces;void 0===p&&(p=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let v=o.encapsulation;void 0===v&&(v=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:wt.Emulated);const D=o.templateUrl||`ng:///${s.name}/template.html`,C={...dI(s,o),typeSourceSpan:c.createParseSourceSpan("Component",s.name,D),template:o.template||"",preserveWhitespaces:p,styles:o.styles||Lt,animations:o.animations,declarations:[],changeDetection:o.changeDetection,encapsulation:v,interpolation:o.interpolation,viewProviders:o.viewProviders||null,isStandalone:!!o.standalone};o0++;try{if(C.usesInheritance&&a0(s),a=c.compileComponent(ds,D,C),o.standalone){const M=Di(o.imports||Lt),{directiveDefs:F,pipeDefs:j}=function VS(s,o){let a=null,c=null;return{directiveDefs:()=>{if(null===a){a=[ne(s)];const v=new Set;for(const D of o){const C=J(D);if(!v.has(C))if(v.add(C),Mn(C)){const M=Bd(C);for(const F of M.exported.directives){const j=ne(F)||tt(F);j&&!v.has(F)&&(v.add(F),a.push(j))}}else{const M=ne(C)||tt(C);M&&a.push(M)}}}return a},pipeDefs:()=>{if(null===c){c=[];const v=new Set;for(const D of o){const C=J(D);if(!v.has(C))if(v.add(C),Mn(C)){const M=Bd(C);for(const F of M.exported.pipes){const j=Et(F);j&&!v.has(F)&&(v.add(F),c.push(j))}}else{const M=Et(C);M&&c.push(M)}}}return c}}}(s,M);a.directiveDefs=F,a.pipeDefs=j,a.dependencies=()=>M.map(J)}}finally{o0--}if(0===o0&&sI(),function BS(s){return void 0!==s.ngSelectorScope}(s)){const M=Bd(s.ngSelectorScope);aI(a,M)}if(o.schemas){if(!o.standalone)throw new Error(`The 'schemas' was specified for the ${fe(s)} but is only valid on a component that is standalone.`);a.schemas=o.schemas}else o.standalone&&(a.schemas=[])}return a},configurable:!1})}function cI(s,o){let a=null;A1(s,o||{}),Object.defineProperty(s,fn,{get:()=>{if(null===a){const c=N1(s,o||{});a=_r().compileDirective(ds,c.sourceMapUrl,c.metadata)}return a},configurable:!1})}function N1(s,o){const a=s&&s.name,c=`ng:///${a}/\u0275dir.js`,h=_r(),p=dI(s,o);return p.typeSourceSpan=h.createParseSourceSpan("Directive",a,c),p.usesInheritance&&a0(s),{metadata:p,sourceMapUrl:c}}function A1(s,o){let a=null;Object.defineProperty(s,fr,{get:()=>{if(null===a){const c=N1(s,o),h=_r();a=h.compileFactory(ds,`ng:///${s.name}/\u0275fac.js`,{name:c.metadata.name,type:c.metadata.type,typeArgumentCount:0,deps:Zr(s),target:h.FactoryTarget.Directive})}return a},configurable:!1})}function uI(s){return Object.getPrototypeOf(s.prototype)===Object.prototype}function dI(s,o){const a=ut(),c=a.ownPropMetadata(s);return{name:s.name,type:s,selector:void 0!==o.selector?o.selector:null,host:o.host||ni,propMetadata:c,inputs:o.inputs||Lt,outputs:o.outputs||Lt,queries:l0(s,c,c0),lifecycle:{usesOnChanges:a.hasLifecycleHook(s,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!uI(s),exportAs:pI(o.exportAs),providers:o.providers||null,viewQueries:l0(s,c,u0),isStandalone:!!o.standalone}}function a0(s){const o=Object.prototype;let a=Object.getPrototypeOf(s.prototype).constructor;for(;a&&a!==o;)!tt(a)&&!ne(a)&&mI(a)&&cI(a,null),a=Object.getPrototypeOf(a)}function hI(s){return"string"==typeof s?gI(s):J(s)}function fI(s,o){return{propertyName:s,predicate:hI(o.selector),descendants:o.descendants,first:o.first,read:o.read?o.read:null,static:!!o.static,emitDistinctChangesOnly:!!o.emitDistinctChangesOnly}}function l0(s,o,a){const c=[];for(const h in o)if(o.hasOwnProperty(h)){const p=o[h];p.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${h}" of "${fe(s)}" since the query selector wasn't defined.`);if(p.some(rf))throw new Error("Cannot combine @Input decorators with query decorators");c.push(fI(h,v))}})}return c}function pI(s){return void 0===s?null:gI(s)}function c0(s){const o=s.ngMetadataName;return"ContentChild"===o||"ContentChildren"===o}function u0(s){const o=s.ngMetadataName;return"ViewChild"===o||"ViewChildren"===o}function rf(s){return"Input"===s.ngMetadataName}function gI(s){return s.split(",").map(o=>o.trim())}const M1=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function mI(s){const o=ut();if(M1.some(c=>o.hasLifecycleHook(s,c)))return!0;const a=o.propMetadata(s);for(const c in a){const h=a[c];for(let p=0;p<h.length;p++){const v=h[p],D=v.ngMetadataName;if(rf(v)||c0(v)||u0(v)||"Output"===D||"HostBinding"===D||"HostListener"===D)return!0}}return!1}function _I(s,o){let a=null,c=null;Object.defineProperty(s,fr,{get:()=>{if(null===c){const h=c_(s,o),p=_r();c=p.compileFactory(ds,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:Zr(s),target:p.FactoryTarget.Pipe})}return c},configurable:!1}),Object.defineProperty(s,Ji,{get:()=>{if(null===a){const h=c_(s,o);a=_r().compilePipe(ds,`ng:///${h.name}/\u0275pipe.js`,h)}return a},configurable:!1})}function c_(s,o){return{type:s,name:s.name,pipeName:o.name,pure:void 0===o.pure||o.pure,isStandalone:!!o.standalone}}const Wp=Fs("Directive",(s={})=>s,void 0,void 0,(s,o)=>cI(s,o)),yI=Fs("Component",(s={})=>({changeDetection:$n.Default,...s}),Wp,void 0,(s,o)=>S1(s,o)),x1=Fs("Pipe",s=>({pure:!0,...s}),void 0,void 0,(s,o)=>_I(s,o)),d0=mr("Input",s=>({bindingPropertyName:s})),R1=mr("Output",s=>({bindingPropertyName:s})),vI=mr("HostBinding",s=>({hostPropertyName:s})),bI=mr("HostListener",(s,o)=>({eventName:s,args:o})),DI=Fs("NgModule",s=>s,void 0,void 0,(s,o)=>C1(s,o));function u_(...s){}const h0=new kn("Application Initializer");let d_=(()=>{class s{constructor(a){this.appInits=a,this.resolve=u_,this.reject=u_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(pp(p))a.push(p);else if(UD(p)){const v=new Promise((D,C)=>{p.subscribe({complete:D,error:C})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(or(h0,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const wI=new kn("AppId",{providedIn:"root",factory:f0});function f0(){return`${g0()}${g0()}${g0()}`}const p0={provide:wI,useFactory:f0,deps:[]};function g0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pl=new kn("Platform Initializer"),k1=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),II=new kn("appBootstrapListener"),P1=new kn("Application Packages Root URL"),F1=new kn("AnimationModuleType");let EI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const h_=new kn("LocaleId",{providedIn:"root",factory:()=>S(h_,at.Optional|at.SkipSelf)||function L1(){return typeof $localize<"u"&&$localize.locale||Md}()}),V1=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),m0=new kn("Translations"),CI=new kn("TranslationsFormat");var Fl=(()=>((Fl=Fl||{})[Fl.Error=0]="Error",Fl[Fl.Warning=1]="Warning",Fl[Fl.Ignore=2]="Ignore",Fl))();class _0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let jd=(()=>{class s{compileModuleSync(a){return new Ld(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Cl(Mn(a).declarations).reduce((v,D)=>{const C=ne(D);return C&&v.push(new Vh(C)),v},[]);return new _0(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ja=new kn("compilerOptions");class B1{}function y0(s){By(X_(s)),Ow(s).forEach(o=>VD(o))}let SI=!1;function j1(){SI||(SI=!0,Ai("\u0275setProfiler",Lr),Ai("getDirectiveMetadata",AS),Ai("getComponent",xw),Ai("getContext",l1),Ai("getListeners",d1),Ai("getOwningComponent",Rw),Ai("getHostElement",kw),Ai("getInjector",c1),Ai("getRootComponents",Ow),Ai("getDirectives",u1),Ai("applyChanges",y0))}function Ai(s,o){if(typeof COMPILED>"u"||!COMPILED){const a=Cn;if(a){let c=a.ng;c||(c=a.ng={}),c[s]=o}}}const U1=(()=>Promise.resolve(0))();function Ll(s){typeof Zone>"u"?U1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Jn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function NI(){let s=Cn.requestAnimationFrame,o=Cn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function AI(s){const o=()=>{!function jS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Cn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,f_(s),s.isCheckStableRunning=!0,v0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),f_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,v,D)=>{try{return b0(s),a.invokeTask(h,p,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),D0(s)}},onInvoke:(a,c,h,p,v,D,C)=>{try{return b0(s),a.invoke(h,p,v,D,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),D0(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,f_(s),v0(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jn.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Jn.isInAngularZone())throw new le(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,xu,u_,u_);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const xu={};function v0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function f_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function b0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function D0(s){s._nesting--,v0(s)}class w0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const I0=new kn(""),E0=new kn("");let p_,MI=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,p_||(C0(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jn.assertNotInAngularZone(),Ll(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ll(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(or(Jn),or(zp),or(E0))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})(),zp=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return p_?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function C0(s){p_=s}let Ac=null;const g_=new kn("AllowMultipleToken"),T0=new kn("PlatformDestroyListeners");function S0(s,o,a){const c=new Ld(a);return Promise.resolve(c)}function N0(s){return s.isBoundToModule}class A0{constructor(o,a){this.name=o,this.token=a}}function M0(s){if(Ac&&!Ac.get(g_,!1))throw new le(400,!1);Ac=s;const o=s.get(Bl);return x0(s),o}function x0(s){const o=s.get(Pl,null);o&&o.forEach(a=>a())}function R0(s){const{rootComponent:o,appProviders:a,platformProviders:c}=s,h=function RI(s=[]){if(Ac)return Ac;const o=k0(s);return Ac=o,x0(o),o}(c),p=$1("zone.js",P0());return p.run(()=>{const D=Mw([{provide:Jn,useValue:p},...a||[]],h,"Environment Injector"),C=D.get(au,null);let M;p.runOutsideAngular(()=>{M=p.onError.subscribe({next:Q=>{C.handleError(Q)}})});const F=()=>D.destroy(),j=h.get(T0);return j.add(F),D.onDestroy(()=>{M.unsubscribe(),j.delete(F)}),H1(C,p,()=>{const Q=D.get(d_);return Q.runInitializers(),Q.donePromise.then(()=>{Sv(D.get(h_,Md)||Md);const xe=D.get(Ru);return void 0!==o&&xe.bootstrap(o),xe})})})}function qp(s,o,a=[]){const c=`Platform: ${o}`,h=new kn(c);return(p=[])=>{let v=Mi();if(!v||v.injector.get(g_,!1)){const D=[...a,...p,{provide:h,useValue:!0}];s?s(D):M0(k0(D,c))}return O0()}}function O0(s){const o=Mi();if(!o)throw new le(401,!1);return o}function k0(s=[],o){return cu.create({name:o,providers:[{provide:od,useValue:"platform"},{provide:T0,useValue:new Set([()=>Ac=null])},...s]})}function OI(){Mi()?.destroy()}function Mi(){return Ac?.get(Bl)??null}let Bl=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=$1(c?.ngZone,P0(c)),p=[{provide:Jn,useValue:h}];return h.run(()=>{const v=cu.create({providers:p,parent:this.injector,name:a.moduleType.name}),D=a.create(v),C=D.injector.get(au,null);if(!C)throw new le(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:F=>{C.handleError(F)}});D.onDestroy(()=>{sf(this._modules,D),M.unsubscribe()})}),H1(C,h,()=>{const M=D.injector.get(d_);return M.runInitializers(),M.donePromise.then(()=>(Sv(D.injector.get(h_,Md)||Md),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,c=[]){const h=Ud({},c);return S0(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(Ru);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new le(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(T0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(or(cu))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function P0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}function $1(s,o){let a;return a="noop"===s?new w0:("zone.js"===s?void 0:s)||new Jn(o),a}function H1(s,o,a){try{const c=a();return pp(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}function Ud(s,o){return Array.isArray(o)?o.reduce(Ud,s):{...s,...o}}let Ru=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new B.y(D=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Jn.assertNotInAngularZone(),Ll(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Jn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(p,v.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof iu;if(!this._injector.get(d_).done)throw!h&&mn(a),new le(405,false);let v;v=h?a:this._injector.get(ou).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const D=N0(v)?void 0:this._injector.get(Hs),M=v.create(cu.NULL,[],c||v.selector,D),F=M.location.nativeElement,j=M.injector.get(I0,null);return j?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),sf(this.components,M),j?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;sf(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(II,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>sf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new le(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(or(Jn),or(Gi),or(au))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function sf(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let m_=!0,kI=!1;function US(){return kI=!0,m_}function $S(){if(kI)throw new Error("Cannot enable prod mode after platform setup.");m_=!1}function HS(s){const o=Qn(s);if(!o)throw W1(s);return new Ld(o)}function GS(s){const o=Qn(s);if(!o)throw W1(s);return o}function W1(s){return new Error(`No module with ID ${s} loaded`)}let z1=(()=>{class s{}return s.__NG_ELEMENT_ID__=q1,s})();function q1(s){return function Z1(s,o,a){if(ys(s)&&!a){const c=sn(s.index,o);return new _o(c,c)}return 47&s.type?new _o(o[16],o):null}(Pn(),Fe(),16==(16&s))}class F0 extends z1{}class K1 extends F0{}class Q1{constructor(o,a){this.name=o,this.callback=a}}function L0(s){return s.map(o=>o.nativeElement)}class $d{constructor(o){this.nativeNode=o}get parent(){const o=this.nativeNode.parentNode;return o?new Ou(o):null}get injector(){return c1(this.nativeNode)}get componentInstance(){const o=this.nativeNode;return o&&(xw(o)||Rw(o))}get context(){return xw(this.nativeNode)||l1(this.nativeNode)}get listeners(){return d1(this.nativeNode).filter(o=>"dom"===o.type)}get references(){return function MS(s){const o=$t(s);if(null===o)return{};if(void 0===o.localRefs){const a=o.lView;if(null===a)return{};o.localRefs=function HE(s,o){const a=s[1].data[o];if(a&&a.localNames){const c={};let h=a.index+1;for(let p=0;p<a.localNames.length;p+=2)c[a.localNames[p]]=s[h],h++;return c}return null}(a,o.nodeIndex)}return o.localRefs||{}}(this.nativeNode)}get providerTokens(){return function NS(s){const o=$t(s),a=o?o.lView:null;if(null===a)return[];const c=a[1],h=c.data[o.nodeIndex],p=[],D=h.directiveEnd;for(let C=1048575&h.providerIndexes;C<D;C++){let M=c.data[C];h1(M)&&(M=M.type),p.push(M)}return p}(this.nativeNode)}}class Ou extends $d{constructor(o){super(o)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const o=$t(this.nativeNode),a=o?o.lView:null;return null!==a?a[1].data[o.nodeIndex].value:this.nativeNode.nodeName}get properties(){const o=$t(this.nativeNode),a=o?o.lView:null;if(null===a)return{};const c=a[1].data,h=c[o.nodeIndex],p={};return function af(s,o){if(s){let a=Object.getPrototypeOf(s);const c=Node.prototype;for(;null!==a&&a!==c;){const h=Object.getOwnPropertyDescriptors(a);for(let p in h)if(!p.startsWith("__")&&!p.startsWith("on")){const v=s[p];Kp(v)&&(o[p]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,p),function PI(s,o,a,c){let h=o.propertyBindings;if(null!==h)for(let p=0;p<h.length;p++){const v=h[p],C=c[v].split("\ufffd"),M=C[0];if(C.length>1){let F=C[1];for(let j=1;j<C.length-1;j++)F+=me(a[v+j-1])+C[j+1];s[M]=F}else s[M]=a[v]}}(p,h,a,c),p}get attributes(){const o={},a=this.nativeElement;if(!a)return o;const c=$t(a),h=c?c.lView:null;if(null===h)return{};const p=h[1].data[c.nodeIndex].attrs,v=[];if(p){let C=0;for(;C<p.length;){const M=p[C];if("string"!=typeof M)break;o[M]=p[C+1],v.push(M.toLowerCase()),C+=2}}const D=a.attributes;for(let C=0;C<D.length;C++){const M=D[C],F=M.name.toLowerCase();-1===v.indexOf(F)&&(o[F]=M.value)}return o}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const o={},c=this.nativeElement.className;return("string"!=typeof c?c.baseVal.split(" "):c.split(" ")).forEach(p=>o[p]=!0),o}get childNodes(){const o=this.nativeNode.childNodes,a=[];for(let c=0;c<o.length;c++)a.push(Pu(o[c]));return a}get children(){const o=this.nativeElement;if(!o)return[];const a=o.children,c=[];for(let h=0;h<a.length;h++)c.push(Pu(a[h]));return c}query(o){return this.queryAll(o)[0]||null}queryAll(o){const a=[];return __(this,o,a,!0),a}queryAllNodes(o){const a=[];return __(this,o,a,!1),a}triggerEventHandler(o,a){const c=this.nativeNode,h=[];this.listeners.forEach(p=>{if(p.name===o){const v=p.callback;v.call(c,a),h.push(v)}}),"function"==typeof c.eventListeners&&c.eventListeners(o).forEach(p=>{if(-1!==p.toString().indexOf("__ngUnwrap__")){const v=p("__ngUnwrap__");return-1===h.indexOf(v)&&v.call(c,a)}})}}function Kp(s){return"string"==typeof s||"boolean"==typeof s||"number"==typeof s||null===s}function __(s,o,a,c){const h=$t(s.nativeNode),p=h?h.lView:null;null!==p?ku(p[1].data[h.nodeIndex],p,o,a,c,s.nativeNode):lf(s.nativeNode,o,a,c)}function ku(s,o,a,c,h,p){const v=function Qs(s,o){const a=null===s?-1:s.index;return-1!==a?Gn(o[a]):null}(s,o);if(11&s.type){if(v_(v,a,c,h,p),ys(s)){const C=sn(s.index,o);C&&C[1].firstChild&&ku(C[1].firstChild,C,a,c,h,p)}else s.child&&ku(s.child,o,a,c,h,p),v&&lf(v,a,c,h);const D=o[s.index];wr(D)&&y_(D,a,c,h,p)}else if(4&s.type){const D=o[s.index];v_(D[7],a,c,h,p),y_(D,a,c,h,p)}else if(16&s.type){const D=o[16],M=D[6].projection[s.projection];if(Array.isArray(M))for(let F of M)v_(F,a,c,h,p);else if(M){const F=D[3];ku(F[1].data[M.index],F,a,c,h,p)}}else s.child&&ku(s.child,o,a,c,h,p);if(p!==v){const D=4&s.flags?s.projectionNext:s.next;D&&ku(D,o,a,c,h,p)}}function y_(s,o,a,c,h){for(let p=10;p<s.length;p++){const v=s[p],D=v[1].firstChild;D&&ku(D,v,o,a,c,h)}}function v_(s,o,a,c,h){if(h!==s){const p=Pu(s);if(!p)return;(c&&p instanceof Ou&&o(p)&&-1===a.indexOf(p)||!c&&o(p)&&-1===a.indexOf(p))&&a.push(p)}}function lf(s,o,a,c){const h=s.childNodes,p=h.length;for(let v=0;v<p;v++){const D=h[v],C=Pu(D);C&&((c&&C instanceof Ou&&o(C)&&-1===a.indexOf(C)||!c&&o(C)&&-1===a.indexOf(C))&&a.push(C),lf(D,o,a,c))}}const D_="__ng_debug__";function Pu(s){return s instanceof Node?(s.hasOwnProperty(D_)||(s[D_]=s.nodeType==Node.ELEMENT_NODE?new Ou(s):new $d(s)),s[D_]):null}function zS(s){return null}class Qp{constructor(){}supports(o){return Sd(o)}create(o){return new Jp(o)}}const Yp=(s,o)=>o;class Jp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Yp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<Xp(c,h,p)?a:c,D=Xp(v,h,p),C=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const M=D-h,F=C-h;if(M!=F){for(let Q=0;Q<M;Q++){const oe=Q<p.length?p[Q]:p[Q]=0,xe=oe+Q;F<=xe&&xe<M&&(p[Q]=oe+1)}p[v.previousIndex]=F-M}}D!==C&&o(v,D,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Sd(o))throw new le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],v=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,D),c=!0),a=a._next}else h=0,function Gy(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Td()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,D=>{v=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,D,v,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new w_(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new I_),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new I_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class w_{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Y1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class I_{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Y1,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xp(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class FI{constructor(){}supports(o){return o instanceof Map||Wy(o)}create(){return new J1}}class J1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Wy(o)))throw new le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const c=new LI(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class LI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VI(){return new E_([new Qp])}let E_=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||VI()),deps:[[s,new Tt,new re]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new le(901,!1)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:VI}),s})();function X1(){return new V0([new FI])}let V0=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||X1()),deps:[[s,new Tt,new re]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new le(901,!1)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:X1}),s})();const BI=[new FI],B0=new E_([new Qp]),eT=new V0(BI),jI=qp(null,"core",[]);let j0=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(or(Ru))},s.\u0275mod=Kt({type:s}),s.\u0275inj=jt({}),s})();function tT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}const QS=!0;function nT(s){return _r().compileDirectiveDeclaration(ds,`ng:///${s.type.name}/\u0275fac.js`,s)}function eg(s){Fp(s.type,s.decorators,s.ctorParameters??null,s.propDecorators??null)}function Hd(s){return _r().compileComponentDeclaration(ds,`ng:///${s.type.name}/\u0275cmp.js`,s)}function UI(s){return _r(function $I(s){switch(s){case Nr.Directive:return"directive";case Nr.Component:return"component";case Nr.Injectable:return"injectable";case Nr.Pipe:return"pipe";case Nr.NgModule:return"NgModule"}}(s.target)).compileFactoryDeclaration(ds,`ng:///${s.type.name}/\u0275fac.js`,s)}function HI(s){return _r().compileInjectableDeclaration(ds,`ng:///${s.type.name}/\u0275prov.js`,s)}function YS(s){return _r().compileInjectorDeclaration(ds,`ng:///${s.type.name}/\u0275inj.js`,s)}function rT(s){return _r().compileNgModuleDeclaration(ds,`ng:///${s.type.name}/\u0275mod.js`,s)}function GI(s){return _r().compilePipeDeclaration(ds,`ng:///${s.type.name}/\u0275pipe.js`,s)}function JS(s,o){const a=ne(s),c=o.elementInjector||ad();return new Vh(a).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function XS(s){const o=ne(s);if(!o)return null;const a=new Vh(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone}}}},3942:(vt,Se,V)=>{"use strict";V.d(Se,{Z:()=>le});var I=V(2090),u=V(4859),B=V(9681),ae=V(1877);class se{constructor(me,fe){this._delegate=me,this.firebase=fe,(0,B._addComponent)(me,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(me,fe=B._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(me);return!st.isInitialized()&&"EXPLICIT"===(null===(Qe=st.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&st.initialize(),st.getImmediate({identifier:fe})}_removeServiceInstance(me,fe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(fe)}_addComponent(me){(0,B._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,B._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ve(){const He=function ye(He){const me={},fe={__esModule:!0,initializeApp:function Pe(Ye,q={}){const Ne=B.initializeApp(Ye,q);if((0,I.r3)(me,Ne.name))return me[Ne.name];const X=new He(Ne,fe);return me[Ne.name]=X,X},app:st,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Ye){const q=Ye.name,Ne=q.replace("-compat","");if(B._registerComponent(Ye)&&"PUBLIC"===Ye.type){const X=(ie=st())=>{if("function"!=typeof ie[Ne])throw De.create("invalid-app-argument",{appName:q});return ie[Ne]()};void 0!==Ye.serviceProps&&(0,I.ZB)(X,Ye.serviceProps),fe[Ne]=X,He.prototype[Ne]=function(...ie){return this._getService.bind(this,q).apply(this,Ye.multipleInstances?ie:[])}}return"PUBLIC"===Ye.type?fe[Ne]:null},removeApp:function Qe(Ye){delete me[Ye]},useAsService:function Ke(Ye,q){return"serverAuth"===q?null:q},modularAPIs:B}};function st(Ye){if(!(0,I.r3)(me,Ye=Ye||B._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ye});return me[Ye]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Ae(){return Object.keys(me).map(Ye=>me[Ye])}}),st.App=He,fe}(se);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function me(fe){(0,I.ZB)(He,fe)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),He}(),z=new ae.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const le=G;!function Ie(He){(0,B.registerVersion)("@firebase/app-compat","0.1.37",He)}()},9681:(vt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>cn,_addOrOverwriteComponent:()=>un,_apps:()=>En,_clearComponents:()=>ps,_components:()=>Nn,_getProvider:()=>jt,_registerComponent:()=>br,_removeServiceInstance:()=>Tn,deleteApp:()=>Ws,getApp:()=>kr,getApps:()=>ei,initializeApp:()=>fi,onLog:()=>gs,registerVersion:()=>Dr,setLogLevel:()=>dr});var I=V(5861),u=V(4859),B=V(1877),ae=V(2090),se=V(8766);class pe{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function De(yt){return"VERSION"===yt.getComponent()?.type}(_t)){const kt=_t.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(_t=>_t).join(" ")}}const ye="@firebase/app",G=new B.Yd("@firebase/app"),Xt="[DEFAULT]",ot={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,Nn=new Map;function cn(yt,Be){try{yt.container.addComponent(Be)}catch(_t){G.debug(`Component ${Be.name} failed to register with FirebaseApp ${yt.name}`,_t)}}function un(yt,Be){yt.container.addOrOverwriteComponent(Be)}function br(yt){const Be=yt.name;if(Nn.has(Be))return G.debug(`There were multiple attempts to register component ${Be}.`),!1;Nn.set(Be,yt);for(const _t of En.values())cn(_t,yt);return!0}function jt(yt,Be){const _t=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),yt.container.getProvider(Be)}function Tn(yt,Be,_t=Xt){jt(yt,Be).clearInstance(_t)}function ps(){Nn.clear()}const Hr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xr{constructor(Be,_t,kt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Rs="9.12.1";function fi(yt,Be={}){let _t=yt;"object"!=typeof Be&&(Be={name:Be});const kt=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},Be),xt=kt.name;if("string"!=typeof xt||!xt)throw Hr.create("bad-app-name",{appName:String(xt)});if(_t||(_t=(0,ae.aH)()),!_t)throw Hr.create("no-options");const Kt=En.get(xt);if(Kt){if((0,ae.vZ)(_t,Kt.options)&&(0,ae.vZ)(kt,Kt.config))return Kt;throw Hr.create("duplicate-app",{appName:xt})}const Z=new u.H0(xt);for(const ee of Nn.values())Z.addComponent(ee);const W=new Xr(_t,kt,Z);return En.set(xt,W),W}function kr(yt=Xt){const Be=En.get(yt);if(!Be&&yt===Xt)return fi();if(!Be)throw Hr.create("no-app",{appName:yt});return Be}function ei(){return Array.from(En.values())}function Ws(yt){return at.apply(this,arguments)}function at(){return(at=(0,I.Z)(function*(yt){const Be=yt.name;En.has(Be)&&(En.delete(Be),yield Promise.all(yt.container.getProviders().map(_t=>_t.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function Dr(yt,Be,_t){var kt;let xt=null!==(kt=ot[yt])&&void 0!==kt?kt:yt;_t&&(xt+=`-${_t}`);const Kt=xt.match(/\s|\//),Z=Be.match(/\s|\//);if(Kt||Z){const W=[`Unable to register library "${xt}" with version "${Be}":`];return Kt&&W.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Kt&&Z&&W.push("and"),Z&&W.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void G.warn(W.join(" "))}br(new u.wA(`${xt}-version`,()=>({library:xt,version:Be}),"VERSION"))}function gs(yt,Be){if(null!==yt&&"function"!=typeof yt)throw Hr.create("invalid-log-argument");(0,B.Am)(yt,Be)}function dr(yt){(0,B.Ub)(yt)}const qn="firebase-heartbeat-store";let $n=null;function Wt(){return $n||($n=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(yt,Be)=>{0===Be&&yt.createObjectStore(qn)}}).catch(yt=>{throw Hr.create("idb-open",{originalErrorMessage:yt.message})})),$n}function wt(){return(wt=(0,I.Z)(function*(yt){var Be;try{return(yield Wt()).transaction(qn).objectStore(qn).get(An(yt))}catch(_t){if(_t instanceof ae.ZR)G.warn(_t.message);else{const kt=Hr.create("idb-get",{originalErrorMessage:null===(Be=_t)||void 0===Be?void 0:Be.message});G.warn(kt.message)}}})).apply(this,arguments)}function Cn(yt,Be){return hr.apply(this,arguments)}function hr(){return(hr=(0,I.Z)(function*(yt,Be){var _t;try{const xt=(yield Wt()).transaction(qn,"readwrite");return yield xt.objectStore(qn).put(Be,An(yt)),xt.done}catch(kt){if(kt instanceof ae.ZR)G.warn(kt.message);else{const xt=Hr.create("idb-set",{originalErrorMessage:null===(_t=kt)||void 0===_t?void 0:_t.message});G.warn(xt.message)}}})).apply(this,arguments)}function An(yt){return`${yt.name}!${yt.options.appId}`}class xi{constructor(Be){this.container=Be,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new bn(_t),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Be=this;return(0,I.Z)(function*(){const kt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=fn();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==xt&&!Be._heartbeatsCache.heartbeats.some(Kt=>Kt.date===xt))return Be._heartbeatsCache.heartbeats.push({date:xt,agent:kt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(Kt=>{const Z=new Date(Kt.date).valueOf();return Date.now()-Z<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,I.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const _t=fn(),{heartbeatsToSend:kt,unsentEntries:xt}=function Ji(yt,Be=1024){const _t=[];let kt=yt.slice();for(const xt of yt){const Kt=_t.find(Z=>Z.agent===xt.agent);if(Kt){if(Kt.dates.push(xt.date),fr(_t)>Be){Kt.dates.pop();break}}else if(_t.push({agent:xt.agent,dates:[xt.date]}),fr(_t)>Be){_t.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:kt}}(Be._heartbeatsCache.heartbeats),Kt=(0,ae.L)(JSON.stringify({version:2,heartbeats:kt}));return Be._heartbeatsCache.lastSentHeartbeatDate=_t,xt.length>0?(Be._heartbeatsCache.heartbeats=xt,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),Kt})()}}function fn(){return(new Date).toISOString().substring(0,10)}class bn{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,I.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function Ct(yt){return wt.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var _t=this;return(0,I.Z)(function*(){var kt;if(yield _t._canUseIndexedDBPromise){const Kt=yield _t.read();return Cn(_t.app,{lastSentHeartbeatDate:null!==(kt=Be.lastSentHeartbeatDate)&&void 0!==kt?kt:Kt.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var _t=this;return(0,I.Z)(function*(){var kt;if(yield _t._canUseIndexedDBPromise){const Kt=yield _t.read();return Cn(_t.app,{lastSentHeartbeatDate:null!==(kt=Be.lastSentHeartbeatDate)&&void 0!==kt?kt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Be.heartbeats]})}})()}}function fr(yt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function Pr(yt){br(new u.wA("platform-logger",Be=>new pe(Be),"PRIVATE")),br(new u.wA("heartbeat",Be=>new xi(Be),"PRIVATE")),Dr(ye,"0.8.2",yt),Dr(ye,"0.8.2","esm2017"),Dr("fire-js","")}("")},4859:(vt,Se,V)=>{"use strict";V.d(Se,{H0:()=>ye,wA:()=>B});var I=V(5861),u=V(2090);class B{constructor(G,z,J){this.name=G,this.instanceFactory=z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class se{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const J=new u.BH;if(this.instancesDeferred.set(z,J),this.isInitialized(z)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:z});$e&&J.resolve($e)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const J=this.normalizeInstanceIdentifier(G?.identifier),$e=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if($e)return null;throw Ie}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function De(ve){return"EAGER"===ve.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[z,J]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(z);try{const Ie=this.getOrInitializeService({instanceIdentifier:$e});J.resolve(Ie)}catch{}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,I.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,J=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:J,options:z});for(const[Ie,le]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&le.resolve($e);return $e}onInit(G,z){var J;const $e=this.normalizeInstanceIdentifier(z),Ie=null!==(J=this.onInitCallbacks.get($e))&&void 0!==J?J:new Set;Ie.add(G),this.onInitCallbacks.set($e,Ie);const le=this.instances.get($e);return le&&G(le,$e),()=>{Ie.delete(G)}}invokeOnInitCallbacks(G,z){const J=this.onInitCallbacks.get(z);if(J)for(const $e of J)try{$e(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let J=this.instances.get(G);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=G,ve===ae?void 0:ve),options:z}),this.instances.set(G,J),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(J,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,J)}catch{}var ve;return J||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new se(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,V)=>{"use strict";V.d(Se,{Am:()=>ve,Ub:()=>ye,Yd:()=>De,in:()=>u});const I=[];var u=(()=>{return(G=u||(u={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",u;var G})();const B={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},ae=u.INFO,se={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},pe=(G,z,...J)=>{if(z<G.logLevel)return;const $e=(new Date).toISOString(),Ie=se[z];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ie](`[${$e}]  ${G.name}:`,...J)};class De{constructor(z){this.name=z,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in u))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?B[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...z),this._logHandler(this,u.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...z),this._logHandler(this,u.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,u.INFO,...z),this._logHandler(this,u.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,u.WARN,...z),this._logHandler(this,u.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...z),this._logHandler(this,u.ERROR,...z)}}function ye(G){I.forEach(z=>{z.setLogLevel(G)})}function ve(G,z){for(const J of I){let $e=null;z&&z.level&&($e=B[z.level]),J.userLogHandler=null===G?null:(Ie,le,...He)=>{const me=He.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");le>=($e??Ie.logLevel)&&G({level:u[le].toLowerCase(),message:me,args:He,type:Ie.name})}}}},8766:(vt,Se,V)=>{"use strict";V.d(Se,{Lj:()=>Pe,X3:()=>st});var I=V(5861);let B,ae;const De=new WeakMap,ye=new WeakMap,ve=new WeakMap,G=new WeakMap,z=new WeakMap;let Ie={get(q,Ne,X){if(q instanceof IDBTransaction){if("done"===Ne)return ye.get(q);if("objectStoreNames"===Ne)return q.objectStoreNames||ve.get(q);if("store"===Ne)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return fe(q[Ne])},set:(q,Ne,X)=>(q[Ne]=X,!0),has:(q,Ne)=>q instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in q};function me(q){return"function"==typeof q?function He(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ne){return q.apply(Qe(this),Ne),fe(De.get(this))}:function(...Ne){return fe(q.apply(Qe(this),Ne))}:function(Ne,...X){const ie=q.call(Qe(this),Ne,...X);return ve.set(ie,Ne.sort?Ne.sort():[Ne]),fe(ie)}}(q):(q instanceof IDBTransaction&&function $e(q){if(ye.has(q))return;const Ne=new Promise((X,ie)=>{const ge=()=>{q.removeEventListener("complete",ce),q.removeEventListener("error",Ve),q.removeEventListener("abort",Ve)},ce=()=>{X(),ge()},Ve=()=>{ie(q.error||new DOMException("AbortError","AbortError")),ge()};q.addEventListener("complete",ce),q.addEventListener("error",Ve),q.addEventListener("abort",Ve)});ye.set(q,Ne)}(q),((q,Ne)=>Ne.some(X=>q instanceof X))(q,function se(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Ie):q)}function fe(q){if(q instanceof IDBRequest)return function J(q){const Ne=new Promise((X,ie)=>{const ge=()=>{q.removeEventListener("success",ce),q.removeEventListener("error",Ve)},ce=()=>{X(fe(q.result)),ge()},Ve=()=>{ie(q.error),ge()};q.addEventListener("success",ce),q.addEventListener("error",Ve)});return Ne.then(X=>{X instanceof IDBCursor&&De.set(X,q)}).catch(()=>{}),z.set(Ne,q),Ne}(q);if(G.has(q))return G.get(q);const Ne=me(q);return Ne!==q&&(G.set(q,Ne),z.set(Ne,q)),Ne}const Qe=q=>z.get(q);function st(q,Ne,{blocked:X,upgrade:ie,blocking:ge,terminated:ce}={}){const Ve=indexedDB.open(q,Ne),Ge=fe(Ve);return ie&&Ve.addEventListener("upgradeneeded",It=>{ie(fe(Ve.result),It.oldVersion,It.newVersion,fe(Ve.transaction))}),X&&Ve.addEventListener("blocked",()=>X()),Ge.then(It=>{ce&&It.addEventListener("close",()=>ce()),ge&&It.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Ge}function Pe(q,{blocked:Ne}={}){const X=indexedDB.deleteDatabase(q);return Ne&&X.addEventListener("blocked",()=>Ne()),fe(X).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Ke=new Map;function Ye(q,Ne){if(!(q instanceof IDBDatabase)||Ne in q||"string"!=typeof Ne)return;if(Ke.get(Ne))return Ke.get(Ne);const X=Ne.replace(/FromIndex$/,""),ie=Ne!==X,ge=Oe.includes(X);if(!(X in(ie?IDBIndex:IDBObjectStore).prototype)||!ge&&!Ae.includes(X))return;const ce=function(){var Ve=(0,I.Z)(function*(Ge,...It){const ln=this.transaction(Ge,ge?"readwrite":"readonly");let Xt=ln.store;return ie&&(Xt=Xt.index(It.shift())),(yield Promise.all([Xt[X](...It),ge&&ln.done]))[0]});return function(It){return Ve.apply(this,arguments)}}();return Ke.set(Ne,ce),ce}!function le(q){Ie=q(Ie)}(q=>({...q,get:(Ne,X,ie)=>Ye(Ne,X)||q.get(Ne,X,ie),has:(Ne,X)=>!!Ye(Ne,X)||q.has(Ne,X)}))},5861:(vt,Se,V)=>{"use strict";function I(B,ae,se,pe,De,ye,ve){try{var G=B[ye](ve),z=G.value}catch(J){return void se(J)}G.done?ae(z):Promise.resolve(z).then(pe,De)}function u(B){return function(){var ae=this,se=arguments;return new Promise(function(pe,De){var ye=B.apply(ae,se);function ve(z){I(ye,pe,De,ve,G,"next",z)}function G(z){I(ye,pe,De,ve,G,"throw",z)}ve(void 0)})}}V.d(Se,{Z:()=>u})}},vt=>{vt(vt.s=1739)}]);